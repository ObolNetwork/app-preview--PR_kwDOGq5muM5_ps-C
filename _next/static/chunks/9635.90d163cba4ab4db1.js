(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9635],{60779:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=n(17187);function safeApply(e,t,n){try{Reflect.apply(e,t,n)}catch(e){setTimeout(()=>{throw e})}}let SafeEventEmitter=class SafeEventEmitter extends i.EventEmitter{emit(e,...t){let n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;let n=Error(`Unhandled error.${e?` (${e.message})`:""}`);throw n.context=e,n}let s=i[e];if(void 0===s)return!1;if("function"==typeof s)safeApply(s,this,t);else{let e=s.length,n=function(e){let t=e.length,n=Array(t);for(let i=0;i<t;i+=1)n[i]=e[i];return n}(s);for(let i=0;i<e;i+=1)safeApply(n[i],this,t)}return!0}};t.default=SafeEventEmitter},85078:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(97582),s=n(2403),o=function(){function Mutex(){this._semaphore=new s.default(1)}return Mutex.prototype.acquire=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return[4,this._semaphore.acquire()];case 1:return[2,e.sent()[1]]}})})},Mutex.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},Mutex.prototype.isLocked=function(){return this._semaphore.isLocked()},Mutex.prototype.release=function(){this._semaphore.release()},Mutex}();t.default=o},2403:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(97582),s=function(){function Semaphore(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw Error("semaphore must be initialized to a positive value");this._value=e}return Semaphore.prototype.acquire=function(){var e=this,t=this.isLocked(),n=new Promise(function(t){return e._queue.push(t)});return t||this._dispatch(),n},Semaphore.prototype.runExclusive=function(e){return i.__awaiter(this,void 0,void 0,function(){var t,n,s;return i.__generator(this,function(i){switch(i.label){case 0:return[4,this.acquire()];case 1:n=(t=i.sent())[0],s=t[1],i.label=2;case 2:return i.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,i.sent()];case 4:return s(),[7];case 5:return[2]}})})},Semaphore.prototype.isLocked=function(){return this._value<=0},Semaphore.prototype.release=function(){if(this._maxConcurrency>1)throw Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},Semaphore.prototype._dispatch=function(){var e=this,t=this._queue.shift();if(t){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},t([this._value--,this._currentReleaser])}},Semaphore}();t.default=s},48125:function(e,t,n){"use strict";t.WU=void 0;var i=n(85078);Object.defineProperty(t,"WU",{enumerable:!0,get:function(){return i.default}}),n(2403),n(41960)},41960:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=void 0;var i=n(97582);t.withTimeout=function(e,t,n){var s=this;return void 0===n&&(n=Error("timeout")),{acquire:function(){return new Promise(function(o,a){return i.__awaiter(s,void 0,void 0,function(){var s,l;return i.__generator(this,function(i){switch(i.label){case 0:return s=!1,setTimeout(function(){s=!0,a(n)},t),[4,e.acquire()];case 1:return l=i.sent(),s?(Array.isArray(l)?l[1]:l)():o(l),[2]}})})})},runExclusive:function(e){return i.__awaiter(this,void 0,void 0,function(){var t,n;return i.__generator(this,function(i){switch(i.label){case 0:t=function(){},i.label=1;case 1:return i.trys.push([1,,7,8]),[4,this.acquire()];case 2:if(!Array.isArray(n=i.sent()))return[3,4];return t=n[1],[4,e(n[0])];case 3:case 5:return[2,i.sent()];case 4:return t=n,[4,e()];case 6:return[3,8];case 7:return t(),[7];case 8:return[2]}})})},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}},86702:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletSDK=void 0;let i=n(755),s=n(85548),o=n(38278),a=n(79785),l=n(54811),u=n(19525),c=n(57136),h=n(14389),d=n(37273),f=n(9789),p=n(13069);let CoinbaseWalletSDK=class CoinbaseWalletSDK{constructor(e){var t,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;let l=e.linkAPIUrl||s.LINK_API_URL;void 0===e.overrideIsMetaMask?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=null===(t=e.overrideIsCoinbaseWallet)||void 0===t||t,this._overrideIsCoinbaseBrowser=null!==(n=e.overrideIsCoinbaseBrowser)&&void 0!==n&&n,this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=null===(i=e.reloadOnDisconnect)||void 0===i||i;let g=new URL(l),m=`${g.protocol}//${g.host}`;if(this._storage=new a.ScopedLocalStorage(`-walletlink:${m}`),this._storage.setItem("version",CoinbaseWalletSDK.VERSION),this.walletExtension||this.coinbaseBrowser)return;this._relayEventManager=new h.RelayEventManager;let y=(0,o.isMobileWeb)(),b=e.uiConstructor||(e=>y?new c.MobileRelayUI(e):new d.WalletLinkRelayUI(e)),v={linkAPIUrl:l,version:p.LIB_VERSION,darkMode:!!e.darkMode,headlessMode:!!e.headlessMode,uiConstructor:b,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect,enableMobileWalletLink:e.enableMobileWalletLink};if(this._relay=y?new u.MobileRelay(v):new f.WalletLinkRelay(v),this.setAppInfo(e.appName,e.appLogoUrl),e.headlessMode)return;this._relay.attachUI()}makeWeb3Provider(e="",t=1){let n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,t),!1===this._reloadOnDisconnect&&"function"==typeof n.disableReloadOnDisconnect&&n.disableReloadOnDisconnect(),n;let i=this.coinbaseBrowser;if(i)return i;let s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new l.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:t,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,t){var n;this._appName=e||"DApp",this._appLogoUrl=t||(0,o.getFavicon)();let i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):null===(n=this._relay)||void 0===n||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;let t=this===null||void 0===this?void 0:this.walletExtension;t?t.close():null===(e=this._relay)||void 0===e||e.resetAndReload()}getQrUrl(){var e,t;return null!==(t=null===(e=this._relay)||void 0===e?void 0:e.getQRCodeUrl())&&void 0!==t?t:null}getCoinbaseWalletLogo(e,t=240){return(0,i.walletLogo)(e,t)}get walletExtension(){var e;return null!==(e=window.coinbaseWalletExtension)&&void 0!==e?e:window.walletLinkExtension}get coinbaseBrowser(){var e,t;try{let n=null!==(e=window.ethereum)&&void 0!==e?e:null===(t=window.top)||void 0===t?void 0:t.ethereum;if(!n)return;if("isCoinbaseBrowser"in n&&n.isCoinbaseBrowser)return n;return}catch(e){return}}isCipherProvider(e){return"boolean"==typeof e.isCipher&&e.isCipher}};t.CoinbaseWalletSDK=CoinbaseWalletSDK,CoinbaseWalletSDK.VERSION=p.LIB_VERSION},755:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.walletLogo=void 0,t.walletLogo=(e,t)=>{let n;switch(e){case"standard":default:return n=t,`data:image/svg+xml,%3Csvg width='${t}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return n=t,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${n}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return n=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return n=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return n=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return n=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`}}},85548:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LINK_API_URL=void 0,t.LINK_API_URL="https://www.walletlink.org"},43776:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.standardErrorCodes=void 0,t.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}}},61984:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.standardErrors=void 0;let i=n(43776),s=n(22128);function getEthJsonRpcError(e,t){let[n,i]=parseOpts(t);return new EthereumRpcError(e,n||(0,s.getMessageFromCode)(e),i)}function getEthProviderError(e,t){let[n,i]=parseOpts(t);return new EthereumProviderError(e,n||(0,s.getMessageFromCode)(e),i)}function parseOpts(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){let{message:t,data:n}=e;if(t&&"string"!=typeof t)throw Error("Must specify string message.");return[t||void 0,n]}}return[]}t.standardErrors={rpc:{parse:e=>getEthJsonRpcError(i.standardErrorCodes.rpc.parse,e),invalidRequest:e=>getEthJsonRpcError(i.standardErrorCodes.rpc.invalidRequest,e),invalidParams:e=>getEthJsonRpcError(i.standardErrorCodes.rpc.invalidParams,e),methodNotFound:e=>getEthJsonRpcError(i.standardErrorCodes.rpc.methodNotFound,e),internal:e=>getEthJsonRpcError(i.standardErrorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw Error('"code" must be an integer such that: -32099 <= code <= -32005');return getEthJsonRpcError(t,e)},invalidInput:e=>getEthJsonRpcError(i.standardErrorCodes.rpc.invalidInput,e),resourceNotFound:e=>getEthJsonRpcError(i.standardErrorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>getEthJsonRpcError(i.standardErrorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>getEthJsonRpcError(i.standardErrorCodes.rpc.transactionRejected,e),methodNotSupported:e=>getEthJsonRpcError(i.standardErrorCodes.rpc.methodNotSupported,e),limitExceeded:e=>getEthJsonRpcError(i.standardErrorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>getEthProviderError(i.standardErrorCodes.provider.userRejectedRequest,e),unauthorized:e=>getEthProviderError(i.standardErrorCodes.provider.unauthorized,e),unsupportedMethod:e=>getEthProviderError(i.standardErrorCodes.provider.unsupportedMethod,e),disconnected:e=>getEthProviderError(i.standardErrorCodes.provider.disconnected,e),chainDisconnected:e=>getEthProviderError(i.standardErrorCodes.provider.chainDisconnected,e),unsupportedChain:e=>getEthProviderError(i.standardErrorCodes.provider.unsupportedChain,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:t,message:n,data:i}=e;if(!n||"string"!=typeof n)throw Error('"message" must be a nonempty string');return new EthereumProviderError(t,n,i)}}};let EthereumRpcError=class EthereumRpcError extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==n&&(this.data=n)}};let EthereumProviderError=class EthereumProviderError extends EthereumRpcError{constructor(e,t,n){if(!(Number.isInteger(e)&&e>=1e3&&e<=4999))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}},72086:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.standardErrors=t.standardErrorCodes=t.serializeError=t.getMessageFromCode=t.getErrorCode=void 0;let i=n(43776);Object.defineProperty(t,"standardErrorCodes",{enumerable:!0,get:function(){return i.standardErrorCodes}});let s=n(61984);Object.defineProperty(t,"standardErrors",{enumerable:!0,get:function(){return s.standardErrors}});let o=n(15503);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return o.serializeError}});let a=n(22128);Object.defineProperty(t,"getErrorCode",{enumerable:!0,get:function(){return a.getErrorCode}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return a.getMessageFromCode}})},15503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=void 0;let i=n(81808),s=n(13069),o=n(43776),a=n(22128);t.serializeError=function(e,t){let n=(0,a.serialize)("string"==typeof e?{message:e,code:o.standardErrorCodes.rpc.internal}:(0,i.isErrorResponse)(e)?Object.assign(Object.assign({},e),{message:e.errorMessage,code:e.errorCode,data:{method:e.method}}):e,{shouldIncludeStack:!0}),l=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");l.searchParams.set("version",s.LIB_VERSION),l.searchParams.set("code",n.code.toString());let u=function(e,t){let n=null==e?void 0:e.method;if(n)return n;if(void 0===t);else if("string"==typeof t)return t;else if(!Array.isArray(t))return t.method;else if(t.length>0)return t[0].method}(n.data,t);return u&&l.searchParams.set("method",u),l.searchParams.set("message",n.message),Object.assign(Object.assign({},n),{docUrl:l.href})}},22128:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=t.getErrorCode=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;let i=n(43776),s="Unspecified error message.";function getMessageFromCode(e,n=s){if(e&&Number.isInteger(e)){let n=e.toString();if(hasKey(i.errorValues,n))return i.errorValues[n].message;if(e>=-32099&&e<=-32e3)return t.JSON_RPC_SERVER_ERROR_MESSAGE}return n}function isValidCode(e){if(!Number.isInteger(e))return!1;let t=e.toString();return!!(i.errorValues[t]||e>=-32099&&e<=-32e3)}function assignOriginalError(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function hasKey(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function hasStringProperty(e,t){return"object"==typeof e&&null!==e&&t in e&&"string"==typeof e[t]}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=getMessageFromCode,t.isValidCode=isValidCode,t.getErrorCode=function(e){var t;return"number"==typeof e?e:"object"==typeof e&&null!==e&&("number"==typeof e.code||"number"==typeof e.errorCode)?null!==(t=e.code)&&void 0!==t?t:e.errorCode:void 0},t.serialize=function(e,{shouldIncludeStack:t=!1}={}){let n={};return e&&"object"==typeof e&&!Array.isArray(e)&&hasKey(e,"code")&&isValidCode(e.code)?(n.code=e.code,e.message&&"string"==typeof e.message?(n.message=e.message,hasKey(e,"data")&&(n.data=e.data)):(n.message=getMessageFromCode(n.code),n.data={originalError:assignOriginalError(e)})):(n.code=i.standardErrorCodes.rpc.internal,n.message=hasStringProperty(e,"message")?e.message:s,n.data={originalError:assignOriginalError(e)}),t&&(n.stack=hasStringProperty(e,"stack")?e.stack:void 0),n}},44922:function(e,t){"use strict";var n,i;function OpaqueType(){return e=>e}Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0,t.OpaqueType=OpaqueType,t.HexString=OpaqueType(),t.AddressString=OpaqueType(),t.BigIntString=OpaqueType(),t.IntNumber=function(e){return Math.floor(e)},t.RegExpString=OpaqueType(),(i=n||(t.ProviderType=n={})).CoinbaseWallet="CoinbaseWallet",i.MetaMask="MetaMask",i.Unselected=""},38278:function(e,t,n){"use strict";var i=n(54790).lW,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isMobileWeb=t.getLocation=t.isInIFrame=t.createQrUrl=t.getFavicon=t.range=t.isBigNumber=t.ensureParsedJSONObject=t.ensureBN=t.ensureRegExpString=t.ensureIntNumber=t.ensureBuffer=t.ensureAddressString=t.ensureEvenLengthHexString=t.ensureHexString=t.isHexString=t.prepend0x=t.strip0x=t.has0xPrefix=t.hexStringFromIntNumber=t.intNumberFromHexString=t.bigIntStringFromBN=t.hexStringFromBuffer=t.hexStringToUint8Array=t.uint8ArrayToHex=t.randomBytesHex=void 0;let o=s(n(9e3)),a=n(72086),l=n(44922),u=/^[0-9]*$/,c=/^[a-f0-9]*$/;function uint8ArrayToHex(e){return[...e].map(e=>e.toString(16).padStart(2,"0")).join("")}function has0xPrefix(e){return e.startsWith("0x")||e.startsWith("0X")}function strip0x(e){return has0xPrefix(e)?e.slice(2):e}function prepend0x(e){return has0xPrefix(e)?`0x${e.slice(2)}`:`0x${e}`}function isHexString(e){if("string"!=typeof e)return!1;let t=strip0x(e).toLowerCase();return c.test(t)}function ensureHexString(e,t=!1){if("string"==typeof e){let n=strip0x(e).toLowerCase();if(c.test(n))return(0,l.HexString)(t?`0x${n}`:n)}throw a.standardErrors.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`)}function ensureEvenLengthHexString(e,t=!1){let n=ensureHexString(e,!1);return n.length%2==1&&(n=(0,l.HexString)(`0${n}`)),t?(0,l.HexString)(`0x${n}`):n}function ensureIntNumber(e){if("number"==typeof e&&Number.isInteger(e))return(0,l.IntNumber)(e);if("string"==typeof e){if(u.test(e))return(0,l.IntNumber)(Number(e));if(isHexString(e))return(0,l.IntNumber)(new o.default(ensureEvenLengthHexString(e,!1),16).toNumber())}throw a.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}function isBigNumber(e){if(null==e||"function"!=typeof e.constructor)return!1;let{constructor:t}=e;return"function"==typeof t.config&&"number"==typeof t.EUCLID}function isInIFrame(){try{return null!==window.frameElement}catch(e){return!1}}t.randomBytesHex=function(e){return uint8ArrayToHex(crypto.getRandomValues(new Uint8Array(e)))},t.uint8ArrayToHex=uint8ArrayToHex,t.hexStringToUint8Array=function(e){return new Uint8Array(e.match(/.{1,2}/g).map(e=>parseInt(e,16)))},t.hexStringFromBuffer=function(e,t=!1){let n=e.toString("hex");return(0,l.HexString)(t?`0x${n}`:n)},t.bigIntStringFromBN=function(e){return(0,l.BigIntString)(e.toString(10))},t.intNumberFromHexString=function(e){return(0,l.IntNumber)(new o.default(ensureEvenLengthHexString(e,!1),16).toNumber())},t.hexStringFromIntNumber=function(e){return(0,l.HexString)(`0x${new o.default(e).toString(16)}`)},t.has0xPrefix=has0xPrefix,t.strip0x=strip0x,t.prepend0x=prepend0x,t.isHexString=isHexString,t.ensureHexString=ensureHexString,t.ensureEvenLengthHexString=ensureEvenLengthHexString,t.ensureAddressString=function(e){if("string"==typeof e){let t=strip0x(e).toLowerCase();if(isHexString(t)&&40===t.length)return(0,l.AddressString)(prepend0x(t))}throw a.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`)},t.ensureBuffer=function(e){if(i.isBuffer(e))return e;if("string"==typeof e){if(isHexString(e)){let t=ensureEvenLengthHexString(e,!1);return i.from(t,"hex")}return i.from(e,"utf8")}throw a.standardErrors.rpc.invalidParams(`Not binary data: ${String(e)}`)},t.ensureIntNumber=ensureIntNumber,t.ensureRegExpString=function(e){if(e instanceof RegExp)return(0,l.RegExpString)(e.toString());throw a.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(e)}`)},t.ensureBN=function(e){if(null!==e&&(o.default.isBN(e)||isBigNumber(e)))return new o.default(e.toString(10),10);if("number"==typeof e)return new o.default(ensureIntNumber(e));if("string"==typeof e){if(u.test(e))return new o.default(e,10);if(isHexString(e))return new o.default(ensureEvenLengthHexString(e,!1),16)}throw a.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)},t.ensureParsedJSONObject=function(e){if("string"==typeof e)return JSON.parse(e);if("object"==typeof e)return e;throw a.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`)},t.isBigNumber=isBigNumber,t.range=function(e,t){return Array.from({length:t-e},(t,n)=>e+n)},t.getFavicon=function(){let e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:n}=document.location,i=e?e.getAttribute("href"):null;return!i||i.startsWith("javascript:")||i.startsWith("vbscript:")?null:i.startsWith("http://")||i.startsWith("https://")||i.startsWith("data:")?i:i.startsWith("//")?t+i:`${t}//${n}${i}`},t.createQrUrl=function(e,t,n,i,s,o){let a=new URLSearchParams({[i?"parent-id":"id"]:e,secret:t,server:n,v:s,chainId:o.toString()}).toString(),l=`${n}/#/link?${a}`;return l},t.isInIFrame=isInIFrame,t.getLocation=function(){try{if(isInIFrame()&&window.top)return window.top.location;return window.location}catch(e){return window.location}},t.isMobileWeb=function(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(null===(e=null==window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)}},89635:function(e,t,n){"use strict";let i=n(86702),s=n(54811);n(86702),n(54811),t.default=i.CoinbaseWalletSDK,"undefined"!=typeof window&&(window.CoinbaseWalletSDK=i.CoinbaseWalletSDK,window.CoinbaseWalletProvider=s.CoinbaseWalletProvider,window.WalletLink=i.CoinbaseWalletSDK,window.WalletLinkProvider=s.CoinbaseWalletProvider)},36298:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cipher=void 0;let i=n(38278);t.Cipher=class{constructor(e){this.secret=e}async encrypt(e){let t=this.secret;if(64!==t.length)throw Error("secret must be 256 bits");let n=crypto.getRandomValues(new Uint8Array(12)),s=await crypto.subtle.importKey("raw",(0,i.hexStringToUint8Array)(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=new TextEncoder,a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},s,o.encode(e)),l=a.slice(a.byteLength-16),u=a.slice(0,a.byteLength-16),c=new Uint8Array(l),h=new Uint8Array(u),d=new Uint8Array([...n,...c,...h]);return(0,i.uint8ArrayToHex)(d)}async decrypt(e){let t=this.secret;if(64!==t.length)throw Error("secret must be 256 bits");return new Promise((n,s)=>{!async function(){let o=await crypto.subtle.importKey("raw",(0,i.hexStringToUint8Array)(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),a=(0,i.hexStringToUint8Array)(e),l=a.slice(0,12),u=a.slice(12,28),c=a.slice(28),h=new Uint8Array([...c,...u]),d={name:"AES-GCM",iv:new Uint8Array(l)};try{let e=await window.crypto.subtle.decrypt(d,o,h),t=new TextDecoder;n(t.decode(e))}catch(e){s(e)}}()})}}},79785:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScopedLocalStorage=void 0,t.ScopedLocalStorage=class{constructor(e){this.scope=e}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){let e=this.scopedKey(""),t=[];for(let n=0;n<localStorage.length;n++){let i=localStorage.key(n);"string"==typeof i&&i.startsWith(e)&&t.push(i)}t.forEach(e=>localStorage.removeItem(e))}scopedKey(e){return`${this.scope}:${e}`}}},47784:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}'},11014:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.injectCssReset=void 0;let s=i(n(47784));t.injectCssReset=function(){let e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(s.default)),document.documentElement.appendChild(e)}},54811:function(e,t,n){"use strict";var i=n(54790).lW,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=void 0;let o=s(n(9e3)),a=n(26729),l=n(72086),u=n(38278),c=n(19525),h=n(1538),d=n(34654),f=n(81808),p=s(n(64378)),g=n(18634),m=n(62980),y=n(33017),b="DefaultChainId",v="DefaultJsonRpcUrl";let CoinbaseWalletProvider=class CoinbaseWalletProvider extends a.EventEmitter{constructor(e){var t,n;super(),this._filterPolyfill=new m.FilterPolyfill(this),this._subscriptionManager=new y.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=null===(t=e.overrideIsCoinbaseWallet)||void 0===t||t,this.isCoinbaseBrowser=null!==(n=e.overrideIsCoinbaseBrowser)&&void 0!==n&&n,this.qrUrl=e.qrUrl;let i=this.getChainId(),s=(0,u.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});let o=this._storage.getItem(h.LOCAL_STORAGE_ADDRESSES_KEY);if(o){let e=o.split(" ");""!==e[0]&&(this._addresses=e.map(e=>(0,u.ensureAddressString)(e)),this.emit("accountsChanged",e))}this._subscriptionManager.events.on("notification",e=>{this.emit("message",{type:e.method,data:e.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",e=>{var t;if(e.origin===location.origin&&e.source===window&&"walletLinkMessage"===e.data.type&&"dappChainSwitched"===e.data.data.action){let n=e.data.data.chainId,i=null!==(t=e.data.data.jsonRpcUrl)&&void 0!==t?t:this.jsonRpcUrl;this.updateProviderInfo(i,Number(n))}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,u.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return null!==(e=this._storage.getItem(v))&&void 0!==e?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(v,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,t){this.isCoinbaseBrowser||(this._chainIdFromOpts=t,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,t){this.jsonRpcUrl=e;let n=this.getChainId();this._storage.setItem(b,t.toString(10));let i=(0,u.ensureIntNumber)(t)!==n;(i||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,t,n,i,s,o){let a=await this.initializeRelay(),l=await a.watchAsset(e,t,n,i,s,null==o?void 0:o.toString()).promise;return!(0,f.isErrorResponse)(l)&&!!l.result}async addEthereumChain(e,t,n,i,s,o){var a,l;if((0,u.ensureIntNumber)(e)===this.getChainId())return!1;let c=await this.initializeRelay(),h=c.inlineAddEthereumChain(e.toString());this._isAuthorized()||h||await c.requestEthereumAccounts().promise;let d=await c.addEthereumChain(e.toString(),t,s,n,i,o).promise;return!(0,f.isErrorResponse)(d)&&((null===(a=d.result)||void 0===a?void 0:a.isApproved)===!0&&this.updateProviderInfo(t[0],e),(null===(l=d.result)||void 0===l?void 0:l.isApproved)===!0)}async switchEthereumChain(e){let t=await this.initializeRelay(),n=await t.switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,f.isErrorResponse)(n)){if(!n.errorCode)return;if(n.errorCode===l.standardErrorCodes.provider.unsupportedChain)throw l.standardErrors.provider.unsupportedChain();throw l.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode})}let i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,t){this.initializeRelay().then(n=>n.setAppInfo(e,t))}async enable(){var e;return(null===(e=this.diagnostic)||void 0===e||e.log(g.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?d.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())?[...this._addresses]:await this.send("eth_requestAccounts")}async close(){let e=await this.initializeRelay();e.resetAndReload()}send(e,t){try{let n=this._send(e,t);if(n instanceof Promise)return n.catch(t=>{throw(0,l.serializeError)(t,e)})}catch(t){throw(0,l.serializeError)(t,e)}}_send(e,t){if("string"==typeof e){let n=Array.isArray(t)?t:void 0!==t?[t]:[];return this._sendRequestAsync({jsonrpc:"2.0",id:0,method:e,params:n}).then(e=>e.result)}return"function"==typeof t?this._sendAsync(e,t):Array.isArray(e)?e.map(e=>this._sendRequest(e)):this._sendRequest(e)}async sendAsync(e,t){try{return this._sendAsync(e,t).catch(t=>{throw(0,l.serializeError)(t,e)})}catch(t){return Promise.reject((0,l.serializeError)(t,e))}}async _sendAsync(e,t){if("function"!=typeof t)throw Error("callback is required");if(Array.isArray(e)){this._sendMultipleRequestsAsync(e).then(e=>t(null,e)).catch(e=>t(e,null));return}return this._sendRequestAsync(e).then(e=>t(null,e)).catch(e=>t(e,null))}async request(e){try{return this._request(e).catch(t=>{throw(0,l.serializeError)(t,e.method)})}catch(t){return Promise.reject((0,l.serializeError)(t,e.method))}}async _request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw l.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});let{method:t,params:n}=e;if("string"!=typeof t||0===t.length)throw l.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(void 0!==n&&!Array.isArray(n)&&("object"!=typeof n||null===n))throw l.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});let i=void 0===n?[]:n,s=this._relayEventManager.makeRequestId(),o=await this._sendRequestAsync({method:t,params:i,jsonrpc:"2.0",id:s});return o.result}async scanQRCode(e){let t=await this.initializeRelay(),n=await t.scanQRCode((0,u.ensureRegExpString)(e)).promise;if((0,f.isErrorResponse)(n))throw(0,l.serializeError)(n.errorMessage,"scanQRCode");if("string"!=typeof n.result)throw(0,l.serializeError)("result was not a string","scanQRCode");return n.result}async genericRequest(e,t){let n=await this.initializeRelay(),i=await n.genericRequest(e,t).promise;if((0,f.isErrorResponse)(i))throw(0,l.serializeError)(i.errorMessage,"generic");if("string"!=typeof i.result)throw(0,l.serializeError)("result was not a string","generic");return i.result}async connectAndSignIn(e){var t;let n;null===(t=this.diagnostic)||void 0===t||t.log(g.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::connectAndSignIn",sessionIdHash:this._relay?d.Session.hash(this._relay.session.id):void 0});try{let t=await this.initializeRelay();if(!(t instanceof c.MobileRelay))throw Error("connectAndSignIn is only supported on mobile");if(n=await t.connectAndSignIn(e).promise,(0,f.isErrorResponse)(n))throw Error(n.errorMessage)}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw l.standardErrors.provider.userRejectedRequest("User denied account authorization");throw e}if(!n.result)throw Error("accounts received is empty");let{accounts:i}=n.result;return this._setAddresses(i),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),n.result}async selectProvider(e){let t=await this.initializeRelay(),n=await t.selectProvider(e).promise;if((0,f.isErrorResponse)(n))throw(0,l.serializeError)(n.errorMessage,"selectProvider");if("string"!=typeof n.result)throw(0,l.serializeError)("result was not a string","selectProvider");return n.result}supportsSubscriptions(){return!1}subscribe(){throw Error("Subscriptions are not supported")}unsubscribe(){throw Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){let t={jsonrpc:"2.0",id:e.id},{method:n}=e;if(t.result=this._handleSynchronousMethods(e),void 0===t.result)throw Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return t}_setAddresses(e,t){if(!Array.isArray(e))throw Error("addresses is not an array");let n=e.map(e=>(0,u.ensureAddressString)(e));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(h.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(e){return new Promise((t,n)=>{try{let i=this._handleSynchronousMethods(e);if(void 0!==i)return t({jsonrpc:"2.0",id:e.id,result:i});let s=this._handleAsynchronousFilterMethods(e);if(void 0!==s){s.then(n=>t(Object.assign(Object.assign({},n),{id:e.id}))).catch(e=>n(e));return}let o=this._handleSubscriptionMethods(e);if(void 0!==o){o.then(n=>t({jsonrpc:"2.0",id:e.id,result:n.result})).catch(e=>n(e));return}}catch(e){return n(e)}this._handleAsynchronousMethods(e).then(n=>n&&t(Object.assign(Object.assign({},n),{id:e.id}))).catch(e=>n(e))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(e=>this._sendRequestAsync(e)))}_handleSynchronousMethods(e){let{method:t}=e,n=e.params||[];switch(t){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"eth_uninstallFilter":return this._eth_uninstallFilter(n);case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){let{method:t}=e,n=e.params||[];switch(t){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(n);case"eth_ecRecover":return this._eth_ecRecover(n);case"personal_sign":return this._personal_sign(n);case"personal_ecRecover":return this._personal_ecRecover(n);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(n);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(n);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(n);case"cbWallet_arbitrary":return this._cbwallet_arbitrary(n);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(n);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(n);case"wallet_watchAsset":return this._wallet_watchAsset(n)}let i=await this.initializeRelay();return i.makeEthereumJSONRPCRequest(e,this.jsonRpcUrl).catch(t=>{var n;throw(t.code===l.standardErrorCodes.rpc.methodNotFound||t.code===l.standardErrorCodes.rpc.methodNotSupported)&&(null===(n=this.diagnostic)||void 0===n||n.log(g.EVENTS.METHOD_NOT_IMPLEMENTED,{method:e.method,sessionIdHash:this._relay?d.Session.hash(this._relay.session.id):void 0})),t})}_handleAsynchronousFilterMethods(e){let{method:t}=e,n=e.params||[];switch(t){case"eth_newFilter":return this._eth_newFilter(n);case"eth_newBlockFilter":return this._eth_newBlockFilter();case"eth_newPendingTransactionFilter":return this._eth_newPendingTransactionFilter();case"eth_getFilterChanges":return this._eth_getFilterChanges(n);case"eth_getFilterLogs":return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case"eth_subscribe":case"eth_unsubscribe":return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{let t=(0,u.ensureAddressString)(e),n=this._addresses.map(e=>(0,u.ensureAddressString)(e));return n.includes(t)}catch(e){}return!1}_ensureKnownAddress(e){var t;if(!this._isKnownAddress(e))throw null===(t=this.diagnostic)||void 0===t||t.log(g.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),Error("Unknown Ethereum address")}_prepareTransactionParams(e){let t=e.from?(0,u.ensureAddressString)(e.from):this.selectedAddress;if(!t)throw Error("Ethereum address is unavailable");this._ensureKnownAddress(t);let n=e.to?(0,u.ensureAddressString)(e.to):null,s=null!=e.value?(0,u.ensureBN)(e.value):new o.default(0),a=e.data?(0,u.ensureBuffer)(e.data):i.alloc(0),l=null!=e.nonce?(0,u.ensureIntNumber)(e.nonce):null,c=null!=e.gasPrice?(0,u.ensureBN)(e.gasPrice):null,h=null!=e.maxFeePerGas?(0,u.ensureBN)(e.maxFeePerGas):null,d=null!=e.maxPriorityFeePerGas?(0,u.ensureBN)(e.maxPriorityFeePerGas):null,f=null!=e.gas?(0,u.ensureBN)(e.gas):null,p=e.chainId?(0,u.ensureIntNumber)(e.chainId):this.getChainId();return{fromAddress:t,toAddress:n,weiValue:s,data:a,nonce:l,gasPriceInWei:c,maxFeePerGas:h,maxPriorityFeePerGas:d,gasLimit:f,chainId:p}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw l.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw l.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,t,n,i){this._ensureKnownAddress(t);try{let s=await this.initializeRelay(),o=await s.signEthereumMessage(e,t,n,i).promise;if((0,f.isErrorResponse)(o))throw Error(o.errorMessage);return{jsonrpc:"2.0",id:0,result:o.result}}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw l.standardErrors.provider.userRejectedRequest("User denied message signature");throw e}}async _ethereumAddressFromSignedMessage(e,t,n){let i=await this.initializeRelay(),s=await i.ethereumAddressFromSignedMessage(e,t,n).promise;if((0,f.isErrorResponse)(s))throw Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,u.hexStringFromIntNumber)(this.getChainId())}getChainId(){let e=this._storage.getItem(b);if(!e)return(0,u.ensureIntNumber)(this._chainIdFromOpts);let t=parseInt(e,10);return(0,u.ensureIntNumber)(t)}async _eth_requestAccounts(){var e;let t;if(null===(e=this.diagnostic)||void 0===e||e.log(g.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?d.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});try{let e=await this.initializeRelay();if(t=await e.requestEthereumAccounts().promise,(0,f.isErrorResponse)(t))throw Error(t.errorMessage)}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw l.standardErrors.provider.userRejectedRequest("User denied account authorization");throw e}if(!t.result)throw Error("accounts received is empty");return this._setAddresses(t.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();let t=(0,u.ensureAddressString)(e[0]),n=(0,u.ensureBuffer)(e[1]);return this._signEthereumMessage(n,t,!1)}_eth_ecRecover(e){let t=(0,u.ensureBuffer)(e[0]),n=(0,u.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,n,!1)}_personal_sign(e){this._requireAuthorization();let t=(0,u.ensureBuffer)(e[0]),n=(0,u.ensureAddressString)(e[1]);return this._signEthereumMessage(t,n,!0)}_personal_ecRecover(e){let t=(0,u.ensureBuffer)(e[0]),n=(0,u.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();let t=this._prepareTransactionParams(e[0]||{});try{let e=await this.initializeRelay(),n=await e.signEthereumTransaction(t).promise;if((0,f.isErrorResponse)(n))throw Error(n.errorMessage);return{jsonrpc:"2.0",id:0,result:n.result}}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw l.standardErrors.provider.userRejectedRequest("User denied transaction signature");throw e}}async _eth_sendRawTransaction(e){let t=(0,u.ensureBuffer)(e[0]),n=await this.initializeRelay(),i=await n.submitEthereumTransaction(t,this.getChainId()).promise;if((0,f.isErrorResponse)(i))throw Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(e){this._requireAuthorization();let t=this._prepareTransactionParams(e[0]||{});try{let e=await this.initializeRelay(),n=await e.signAndSubmitEthereumTransaction(t).promise;if((0,f.isErrorResponse)(n))throw Error(n.errorMessage);return{jsonrpc:"2.0",id:0,result:n.result}}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw l.standardErrors.provider.userRejectedRequest("User denied transaction signature");throw e}}async _eth_signTypedData_v1(e){this._requireAuthorization();let t=(0,u.ensureParsedJSONObject)(e[0]),n=(0,u.ensureAddressString)(e[1]);this._ensureKnownAddress(n);let i=p.default.hashForSignTypedDataLegacy({data:t}),s=JSON.stringify(t,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();let t=(0,u.ensureAddressString)(e[0]),n=(0,u.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(t);let i=p.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,t,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();let t=(0,u.ensureAddressString)(e[0]),n=(0,u.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(t);let i=p.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,t,!1,s)}async _cbwallet_arbitrary(e){let t=e[0],n=e[1];if("string"!=typeof n)throw Error("parameter must be a string");if("object"!=typeof t||null===t)throw Error("parameter must be an object");let i=await this.genericRequest(t,n);return{jsonrpc:"2.0",id:0,result:i}}async _wallet_addEthereumChain(e){var t,n,i,s;let o=e[0];if((null===(t=o.rpcUrls)||void 0===t?void 0:t.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||""===o.chainName.trim())throw l.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw l.standardErrors.rpc.invalidParams("nativeCurrency is a required field");let a=parseInt(o.chainId,16),u=await this.addEthereumChain(a,null!==(n=o.rpcUrls)&&void 0!==n?n:[],null!==(i=o.blockExplorerUrls)&&void 0!==i?i:[],o.chainName,null!==(s=o.iconUrls)&&void 0!==s?s:[],o.nativeCurrency);return u?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){let t=e[0];return await this.switchEthereumChain(parseInt(t.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){let t=Array.isArray(e)?e[0]:e;if(!t.type)throw l.standardErrors.rpc.invalidParams("Type is required");if((null==t?void 0:t.type)!=="ERC20")throw l.standardErrors.rpc.invalidParams(`Asset of type '${t.type}' is not supported`);if(!(null==t?void 0:t.options))throw l.standardErrors.rpc.invalidParams("Options are required");if(!(null==t?void 0:t.options.address))throw l.standardErrors.rpc.invalidParams("Address is required");let n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=t.options,u=await this.watchAsset(t.type,i,s,a,o,n);return{jsonrpc:"2.0",id:0,result:u}}_eth_uninstallFilter(e){let t=(0,u.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(t)}async _eth_newFilter(e){let t=e[0],n=await this._filterPolyfill.newFilter(t);return{jsonrpc:"2.0",id:0,result:n}}async _eth_newBlockFilter(){let e=await this._filterPolyfill.newBlockFilter();return{jsonrpc:"2.0",id:0,result:e}}async _eth_newPendingTransactionFilter(){let e=await this._filterPolyfill.newPendingTransactionFilter();return{jsonrpc:"2.0",id:0,result:e}}_eth_getFilterChanges(e){let t=(0,u.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(t)}_eth_getFilterLogs(e){let t=(0,u.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(t)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((e,t)=>this._setAddresses(e,t)),e.setChainCallback((e,t)=>{this.updateProviderInfo(t,parseInt(e,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}};t.CoinbaseWalletProvider=CoinbaseWalletProvider},18634:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENTS=void 0,t.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",METHOD_NOT_IMPLEMENTED:"walletlink_sdk.method_not_implemented",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"}},62980:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterFromParam=t.FilterPolyfill=void 0;let i=n(44922),s=n(38278),o={jsonrpc:"2.0",id:0};function filterFromParam(e){return{fromBlock:intBlockHeightFromHexBlockHeight(e.fromBlock),toBlock:intBlockHeightFromHexBlockHeight(e.toBlock),addresses:void 0===e.address?null:Array.isArray(e.address)?e.address:[e.address],topics:e.topics||[]}}function paramFromFilter(e){let t={fromBlock:hexBlockHeightFromIntBlockHeight(e.fromBlock),toBlock:hexBlockHeightFromIntBlockHeight(e.toBlock),topics:e.topics};return null!==e.addresses&&(t.address=e.addresses),t}function intBlockHeightFromHexBlockHeight(e){if(void 0===e||"latest"===e||"pending"===e)return"latest";if("earliest"===e)return(0,i.IntNumber)(0);if((0,s.isHexString)(e))return(0,s.intNumberFromHexString)(e);throw Error(`Invalid block option: ${String(e)}`)}function hexBlockHeightFromIntBlockHeight(e){return"latest"===e?e:(0,s.hexStringFromIntNumber)(e)}function filterNotFoundError(){return Object.assign(Object.assign({},o),{error:{code:-32e3,message:"filter not found"}})}function emptyResult(){return Object.assign(Object.assign({},o),{result:[]})}t.FilterPolyfill=class{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,i.IntNumber)(1),this.REQUEST_THROTTLE_INTERVAL=1e3,this.lastFetchTimestamp=new Date(0),this.resolvers=[],this.provider=e}async newFilter(e){let t=filterFromParam(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,t.fromBlock);return console.info(`Installing new log filter(${n}):`,t,"initial cursor position:",i),this.logFilters.set(n,t),this.setFilterTimeout(n),(0,s.hexStringFromIntNumber)(n)}async newBlockFilter(){let e=this.makeFilterId(),t=await this.setInitialCursorPosition(e,"latest");return console.info(`Installing new block filter (${e}) with initial cursor position:`,t),this.blockFilters.add(e),this.setFilterTimeout(e),(0,s.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){let e=this.makeFilterId(),t=await this.setInitialCursorPosition(e,"latest");return console.info(`Installing new block filter (${e}) with initial cursor position:`,t),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,s.hexStringFromIntNumber)(e)}uninstallFilter(e){let t=(0,s.intNumberFromHexString)(e);return console.info(`Uninstalling filter (${t})`),this.deleteFilter(t),!0}getFilterChanges(e){let t=(0,s.intNumberFromHexString)(e);return(this.timeouts.has(t)&&this.setFilterTimeout(t),this.logFilters.has(t))?this.getLogFilterChanges(t):this.blockFilters.has(t)?this.getBlockFilterChanges(t):this.pendingTransactionFilters.has(t)?this.getPendingTransactionFilterChanges(t):Promise.resolve(filterNotFoundError())}async getFilterLogs(e){let t=(0,s.intNumberFromHexString)(e),n=this.logFilters.get(t);return n?this.sendAsyncPromise(Object.assign(Object.assign({},o),{method:"eth_getLogs",params:[paramFromFilter(n)]})):filterNotFoundError()}makeFilterId(){return(0,i.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((t,n)=>{this.provider.sendAsync(e,(e,i)=>e?n(e):Array.isArray(i)||null==i?n(Error(`unexpected response received: ${JSON.stringify(i)}`)):void t(i))})}deleteFilter(e){console.info(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){let t=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!t)return filterNotFoundError();let a=await this.getCurrentBlockHeight(),l="latest"===t.toBlock?a:t.toBlock;if(n>a||n>Number(t.toBlock))return emptyResult();console.info(`Fetching logs from ${n} to ${l} for filter ${e}`);let u=await this.sendAsyncPromise(Object.assign(Object.assign({},o),{method:"eth_getLogs",params:[paramFromFilter(Object.assign(Object.assign({},t),{fromBlock:n,toBlock:l}))]}));if(Array.isArray(u.result)){let t=u.result.map(e=>(0,s.intNumberFromHexString)(e.blockNumber||"0x0")),o=Math.max(...t);if(o&&o>n){let t=(0,i.IntNumber)(o+1);console.info(`Moving cursor position for filter (${e}) from ${n} to ${t}`),this.cursors.set(e,t)}}return u}async getBlockFilterChanges(e){let t=this.cursors.get(e);if(!t)return filterNotFoundError();let n=await this.getCurrentBlockHeight();if(t>n)return emptyResult();console.info(`Fetching blocks from ${t} to ${n} for filter (${e})`);let a=(await Promise.all((0,s.range)(t,n+1).map(e=>this.getBlockHashByNumber((0,i.IntNumber)(e))))).filter(e=>!!e),l=(0,i.IntNumber)(t+a.length);return console.info(`Moving cursor position for filter (${e}) from ${t} to ${l}`),this.cursors.set(e,l),Object.assign(Object.assign({},o),{result:a})}async getPendingTransactionFilterChanges(e){return Promise.resolve(emptyResult())}async setInitialCursorPosition(e,t){let n=await this.getCurrentBlockHeight(),i="number"==typeof t&&t>n?t:n;return this.cursors.set(e,i),i}setFilterTimeout(e){let t=this.timeouts.get(e);t&&window.clearTimeout(t);let n=window.setTimeout(()=>{console.info(`Filter (${e}) timed out`),this.deleteFilter(e)},3e5);this.timeouts.set(e,n)}async getCurrentBlockHeight(){let e=new Date;if(e.getTime()-this.lastFetchTimestamp.getTime()>this.REQUEST_THROTTLE_INTERVAL){this.lastFetchTimestamp=e;let t=await this._getCurrentBlockHeight();this.currentBlockHeight=t,this.resolvers.forEach(e=>e(t)),this.resolvers=[]}return this.currentBlockHeight?this.currentBlockHeight:new Promise(e=>this.resolvers.push(e))}async _getCurrentBlockHeight(){let{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},o),{method:"eth_blockNumber",params:[]}));return(0,s.intNumberFromHexString)((0,s.ensureHexString)(e))}async getBlockHashByNumber(e){let t=await this.sendAsyncPromise(Object.assign(Object.assign({},o),{method:"eth_getBlockByNumber",params:[(0,s.hexStringFromIntNumber)(e),!1]}));return t.result&&"string"==typeof t.result.hash?(0,s.ensureHexString)(t.result.hash):null}},t.filterFromParam=filterFromParam},33017:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionManager=void 0;let i=n(6842),s=n(62876),noop=()=>{};t.SubscriptionManager=class{constructor(e){let t=new i.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:o}=s({blockTracker:t,provider:e});this.events=n,this.subscriptionMiddleware=o}async handleRequest(e){let t={};return await this.subscriptionMiddleware(e,t,noop,noop),t}destroy(){this.subscriptionMiddleware.destroy()}}},1538:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RelayAbstract=t.APP_VERSION_KEY=t.LOCAL_STORAGE_ADDRESSES_KEY=t.WALLET_USER_NAME_KEY=void 0;let i=n(72086);t.WALLET_USER_NAME_KEY="walletUsername",t.LOCAL_STORAGE_ADDRESSES_KEY="Addresses",t.APP_VERSION_KEY="AppVersion",t.RelayAbstract=class{async makeEthereumJSONRPCRequest(e,t){if(!t)throw Error("Error: No jsonRpcUrl provided");return window.fetch(t,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(t=>{if(!t)throw i.standardErrors.rpc.parse({});let{error:n}=t;if(n)throw(0,i.serializeError)(n,e.method);return t})}}},14389:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RelayEventManager=void 0;let i=n(38278);t.RelayEventManager=class{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;let e=this._nextRequestId,t=(0,i.prepend0x)(e.toString(16)),n=this.callbacks.get(t);return n&&this.callbacks.delete(t),e}}},34654:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Session=void 0;let i=n(89072),s=n(38278),o="session:id",a="session:secret",l="session:linked";let Session=class Session{constructor(e,t,n,o){this._storage=e,this._id=t||(0,s.randomBytesHex)(16),this._secret=n||(0,s.randomBytesHex)(32),this._key=new i.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!o}static load(e){let t=e.getItem(o),n=e.getItem(l),i=e.getItem(a);return t&&i?new Session(e,t,i,"1"===n):null}static hash(e){return new i.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(o,this._id),this._storage.setItem(a,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(l,this._linked?"1":"0")}};t.Session=Session},19525:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileRelay=void 0;let i=n(38278),s=n(9789),o=n(57136);let MobileRelay=class MobileRelay extends s.WalletLinkRelay{constructor(e){var t;super(e),this._enableMobileWalletLink=null!==(t=e.enableMobileWalletLink)&&void 0!==t&&t}requestEthereumAccounts(){return this._enableMobileWalletLink?super.requestEthereumAccounts():{promise:new Promise(()=>{let e=(0,i.getLocation)();e.href=`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(e.href)}`}),cancel:()=>{}}}publishWeb3RequestEvent(e,t){if(super.publishWeb3RequestEvent(e,t),!(this._enableMobileWalletLink&&this.ui instanceof o.MobileRelayUI))return;let n=!1;switch(t.method){case"requestEthereumAccounts":case"connectAndSignIn":n=!0,this.ui.openCoinbaseWalletDeeplink(this.getQRCodeUrl());break;case"switchEthereumChain":return;default:n=!0,this.ui.openCoinbaseWalletDeeplink()}n&&window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0})}handleWeb3ResponseMessage(e){super.handleWeb3ResponseMessage(e)}connectAndSignIn(e){if(!this._enableMobileWalletLink)throw Error("connectAndSignIn is supported only when enableMobileWalletLink is on");return this.sendRequest({method:"connectAndSignIn",params:{appName:this.appName,appLogoUrl:this.appLogoUrl,domain:window.location.hostname,aud:window.location.href,version:"1",type:"eip4361",nonce:e.nonce,iat:new Date().toISOString(),chainId:`eip155:${this.dappDefaultChain}`,statement:e.statement,resources:e.resources}})}};t.MobileRelay=MobileRelay},57136:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileRelayUI=void 0;let i=n(58780);t.MobileRelayUI=class{constructor(e){this.attached=!1,this.darkMode=!1,this.redirectDialog=new i.RedirectDialog,this.darkMode=e.darkMode}attach(){if(this.attached)throw Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}setConnected(e){}redirectToCoinbaseWallet(e){let t=new URL("https://go.cb-w.com/walletlink");t.searchParams.append("redirect_url",window.location.href),e&&t.searchParams.append("wl_url",e);let n=document.createElement("a");n.target="cbw-opener",n.href=t.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",darkMode:this.darkMode,onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}hideRequestEthereumAccounts(){this.redirectDialog.clear()}requestEthereumAccounts(){}addEthereumChain(){}watchAsset(){}selectProvider(){}switchEthereumChain(){}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}reloadUI(){}setStandalone(){}setConnectDisabled(){}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}},9789:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkRelay=void 0;let i=n(72086),s=n(44922),o=n(38278),a=n(18634),l=n(1538),u=n(34654),c=n(37326),h=n(81808),d=n(37273);let WalletLinkRelay=class WalletLinkRelay extends l.RelayAbstract{constructor(e){var t;super(),this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.linkedUpdated=e=>{var t;this.isLinked=e;let n=this.storage.getItem(l.LOCAL_STORAGE_ADDRESSES_KEY);if(e&&(this.session.linked=e),this.isUnlinkedErrorState=!1,n){let i=n.split(" "),s="true"===this.storage.getItem("IsStandaloneSigning");if(""!==i[0]&&!e&&this.session.linked&&!s){this.isUnlinkedErrorState=!0;let e=this.getSessionIdHash();null===(t=this.diagnostic)||void 0===t||t.log(a.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:e})}}},this.metadataUpdated=(e,t)=>{this.storage.setItem(e,t)},this.chainUpdated=(e,t)=>{(this.chainCallbackParams.chainId!==e||this.chainCallbackParams.jsonRpcUrl!==t)&&(this.chainCallbackParams={chainId:e,jsonRpcUrl:t},this.chainCallback&&this.chainCallback(e,t))},this.accountUpdated=e=>{this.accountsCallback&&this.accountsCallback([e]),WalletLinkRelay.accountRequestCallbackIds.size>0&&(Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach(t=>{this.invokeCallback(Object.assign(Object.assign({},{type:"WEB3_RESPONSE",id:t,response:{method:"requestEthereumAccounts",result:[e]}}),{id:t}))}),WalletLinkRelay.accountRequestCallbackIds.clear())},this.connectedUpdated=e=>{this.ui.setConnected(e)},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;let{session:n,ui:i,connection:s}=this.subscribe();this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=null===(t=e.reloadOnDisconnect)||void 0===t||t,this.ui=i}subscribe(){let e=u.Session.load(this.storage)||new u.Session(this.storage).save(),{linkAPIUrl:t,diagnostic:n}=this,i=new c.WalletLinkConnection({session:e,linkAPIUrl:t,diagnostic:n,listener:this}),{version:s,darkMode:o}=this.options,a=this.options.uiConstructor({linkAPIUrl:t,version:s,darkMode:o,session:e});return i.connect(),{session:e,ui:a,connection:i}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(e=>setTimeout(()=>e(null),1e3))]).then(()=>{var e,t;let n=this.ui.isStandalone();null===(e=this.diagnostic)||void 0===e||e.log(a.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();let i=u.Session.load(this.storage);if((null==i?void 0:i.id)===this._session.id?this.storage.clear():i&&(null===(t=this.diagnostic)||void 0===t||t.log(a.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:u.Session.hash(i.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);let{session:s,ui:o,connection:l}=this.subscribe();this._session=s,this.connection=l,this.ui=o,n&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.options.headlessMode||this.attachUI()}).catch(e=>{var t;null===(t=this.diagnostic)||void 0===t||t.log(a.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,t){this.appName=e,this.appLogoUrl=t}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,t){this.storage.setItem(e,t)}signEthereumMessage(e,t,n,i){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,o.hexStringFromBuffer)(e,!0),address:t,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,t,n){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,o.hexStringFromBuffer)(e,!0),signature:(0,o.hexStringFromBuffer)(t,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,o.bigIntStringFromBN)(e.weiValue),data:(0,o.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,o.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,o.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,o.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,o.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,o.bigIntStringFromBN)(e.weiValue),data:(0,o.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,o.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,o.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,o.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,o.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,t){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,o.hexStringFromBuffer)(e,!0),chainId:t}})}scanQRCode(e){return this.sendRequest({method:"scanQRCode",params:{regExp:e}})}getQRCodeUrl(){return(0,o.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,t){return this.sendRequest({method:"generic",params:{action:t,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let t=null,n=(0,o.randomBytesHex)(8),cancel=i=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,i),null==t||t()},i=new Promise((i,s)=>{this.ui.isStandalone()||(t=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:cancel,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,e=>{if(null==t||t(),(0,h.isErrorResponse)(e))return s(Error(e.errorMessage));i(e)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)});return{promise:i,cancel}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChain=e,this.ui instanceof d.WalletLinkRelayUI&&this.ui.setChainId(e)}publishWeb3RequestEvent(e,t){var n;let i={type:"WEB3_REQUEST",id:e,request:t},s=u.Session.load(this.storage);null===(n=this.diagnostic)||void 0===n||n.log(a.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${t.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?u.Session.hash(s.id):"",isSessionMismatched:((null==s?void 0:s.id)!==this._session.id).toString()}),this.publishEvent("Web3Request",i,!0).then(e=>{var n;null===(n=this.diagnostic)||void 0===n||n.log(a.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${t.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?u.Session.hash(s.id):"",isSessionMismatched:((null==s?void 0:s.id)!==this._session.id).toString()})}).catch(e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i.id,response:{method:t.method,errorMessage:e.message}})})}publishWeb3RequestCanceledEvent(e){this.publishEvent("Web3RequestCanceled",{type:"WEB3_REQUEST_CANCELED",id:e},!1).then()}publishEvent(e,t,n){return this.connection.publishEvent(e,t,n)}handleWeb3ResponseMessage(e){var t;let{response:n}=e;if(null===(t=this.diagnostic)||void 0===t||t.log(a.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),"requestEthereumAccounts"===n.method){WalletLinkRelay.accountRequestCallbackIds.forEach(t=>this.invokeCallback(Object.assign(Object.assign({},e),{id:t}))),WalletLinkRelay.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,t,n,s){var o;let a=null!==(o=null==n?void 0:n.message)&&void 0!==o?o:(0,i.getMessageFromCode)(s);this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:e,response:{method:t,errorMessage:a,errorCode:s}})}invokeCallback(e){let t=this.relayEventManager.callbacks.get(e.id);t&&(t(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){let e={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},t=(0,o.randomBytesHex)(8),cancel=n=>{this.publishWeb3RequestCanceledEvent(t),this.handleErrorResponse(t,e.method,n)},n=new Promise((n,s)=>{if(this.relayEventManager.callbacks.set(t,e=>{if(this.ui.hideRequestEthereumAccounts(),(0,h.isErrorResponse)(e))return s(Error(e.errorMessage));n(e)}),this.ui.inlineAccountsResponse())this.ui.requestEthereumAccounts({onCancel:cancel,onAccounts:e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:"requestEthereumAccounts",result:e}})}});else{let e=i.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>cancel(e)})}WalletLinkRelay.accountRequestCallbackIds.add(t),this.ui.inlineAccountsResponse()||this.ui.isStandalone()||this.publishWeb3RequestEvent(t,e)});return{promise:n,cancel}}selectProvider(e){let t=(0,o.randomBytesHex)(8),n=new Promise((n,i)=>{this.relayEventManager.callbacks.set(t,e=>{if((0,h.isErrorResponse)(e))return i(Error(e.errorMessage));n(e)}),this.ui.selectProvider&&this.ui.selectProvider({onApprove:e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:"selectProvider",result:e}})},onCancel:e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:"selectProvider",result:s.ProviderType.Unselected}})},providerOptions:e})});return{cancel:e=>{this.publishWeb3RequestCanceledEvent(t),this.handleErrorResponse(t,"selectProvider",e)},promise:n}}watchAsset(e,t,n,i,s,a){let l={method:"watchAsset",params:{type:e,options:{address:t,symbol:n,decimals:i,image:s},chainId:a}},u=null,c=(0,o.randomBytesHex)(8),cancel=e=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,l.method,e),null==u||u()};this.ui.inlineWatchAsset()||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:cancel,onResetConnection:this.resetAndReload}));let d=new Promise((o,d)=>{this.relayEventManager.callbacks.set(c,e=>{if(null==u||u(),(0,h.isErrorResponse)(e))return d(Error(e.errorMessage));o(e)}),this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:()=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"watchAsset",result:!0}})},onCancel:e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"watchAsset",result:!1}})},type:e,address:t,symbol:n,decimals:i,image:s,chainId:a}),this.ui.inlineWatchAsset()||this.ui.isStandalone()||this.publishWeb3RequestEvent(c,l)});return{cancel,promise:d}}addEthereumChain(e,t,n,i,s,a){let l={method:"addEthereumChain",params:{chainId:e,rpcUrls:t,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:a}},u=null,c=(0,o.randomBytesHex)(8),cancel=e=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,l.method,e),null==u||u()};this.ui.inlineAddEthereumChain(e)||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:cancel,onResetConnection:this.resetAndReload}));let d=new Promise((t,n)=>{this.relayEventManager.callbacks.set(c,e=>{if(null==u||u(),(0,h.isErrorResponse)(e))return n(Error(e.errorMessage));t(e)}),this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"addEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},onApprove:e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"addEthereumChain",result:{isApproved:!0,rpcUrl:e}}})},chainId:l.params.chainId,rpcUrls:l.params.rpcUrls,blockExplorerUrls:l.params.blockExplorerUrls,chainName:l.params.chainName,iconUrls:l.params.iconUrls,nativeCurrency:l.params.nativeCurrency}),this.ui.inlineAddEthereumChain(e)||this.ui.isStandalone()||this.publishWeb3RequestEvent(c,l)});return{promise:d,cancel}}switchEthereumChain(e,t){let n={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:t})},s=(0,o.randomBytesHex)(8),a=new Promise((t,o)=>{this.relayEventManager.callbacks.set(s,e=>(0,h.isErrorResponse)(e)&&e.errorCode?o(i.standardErrors.provider.custom({code:e.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."})):(0,h.isErrorResponse)(e)?o(Error(e.errorMessage)):void t(e)),this.ui.switchEthereumChain({onCancel:t=>{var n;if(t){let o=null!==(n=(0,i.getErrorCode)(t))&&void 0!==n?n:i.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(s,"switchEthereumChain",t instanceof Error?t:i.standardErrors.provider.unsupportedChain(e),o)}else this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s,response:{method:"switchEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},onApprove:e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s,response:{method:"switchEthereumChain",result:{isApproved:!0,rpcUrl:e}}})},chainId:n.params.chainId,address:n.params.address}),this.ui.inlineSwitchEthereumChain()||this.ui.isStandalone()||this.publishWeb3RequestEvent(s,n)});return{promise:a,cancel:e=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,n.method,e)}}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return u.Session.hash(this._session.id)}sendRequestStandalone(e,t){let _cancel=n=>{this.handleErrorResponse(e,t.method,n)},onSuccess=t=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:e,response:t})};switch(t.method){case"signEthereumMessage":this.ui.signEthereumMessage({request:t,onSuccess,onCancel:_cancel});break;case"signEthereumTransaction":this.ui.signEthereumTransaction({request:t,onSuccess,onCancel:_cancel});break;case"submitEthereumTransaction":this.ui.submitEthereumTransaction({request:t,onSuccess,onCancel:_cancel});break;case"ethereumAddressFromSignedMessage":this.ui.ethereumAddressFromSignedMessage({request:t,onSuccess});break;default:_cancel()}}};t.WalletLinkRelay=WalletLinkRelay,WalletLinkRelay.accountRequestCallbackIds=new Set},37326:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkConnection=void 0;let i=n(44922),s=n(36298),o=n(18634),a=n(1538),l=n(34654),u=n(60050),c=n(85208);t.WalletLinkConnection=class{constructor({session:e,linkAPIUrl:t,listener:n,diagnostic:h,WebSocketClass:d=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,i.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=e=>{if(!e)return;let t=new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",t=>e.JsonRpcUrl&&this.handleChainUpdated(t,e.JsonRpcUrl)]]);t.forEach((t,n)=>{let i=e[n];void 0!==i&&t(i)})},this.handleDestroyed=e=>{var t,n;"1"===e&&(null===(t=this.listener)||void 0===t||t.resetAndReload(),null===(n=this.diagnostic)||void 0===n||n.log(o.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:this.isDestroyed,sessionIdHash:l.Session.hash(this.session.id)}))},this.handleAccountUpdated=async e=>{var t,n;try{let n=await this.cipher.decrypt(e);null===(t=this.listener)||void 0===t||t.accountUpdated(n)}catch(e){null===(n=this.diagnostic)||void 0===n||n.log(o.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}},this.handleMetadataUpdated=async(e,t)=>{var n,i;try{let i=await this.cipher.decrypt(t);null===(n=this.listener)||void 0===n||n.metadataUpdated(e,i)}catch(t){null===(i=this.diagnostic)||void 0===i||i.log(o.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:e})}},this.handleWalletUsernameUpdated=async e=>{this.handleMetadataUpdated(a.WALLET_USER_NAME_KEY,e)},this.handleAppVersionUpdated=async e=>{this.handleMetadataUpdated(a.APP_VERSION_KEY,e)},this.handleChainUpdated=async(e,t)=>{var n,i;try{let i=await this.cipher.decrypt(e),s=await this.cipher.decrypt(t);null===(n=this.listener)||void 0===n||n.chainUpdated(i,s)}catch(e){null===(i=this.diagnostic)||void 0===i||i.log(o.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}},this.session=e,this.cipher=new s.Cipher(e.secret),this.diagnostic=h,this.listener=n;let f=new c.WalletLinkWebSocket(`${t}/rpc`,d);f.setConnectionStateListener(async t=>{var n;null===(n=this.diagnostic)||void 0===n||n.log(o.EVENTS.CONNECTED_STATE_CHANGE,{state:t,sessionIdHash:l.Session.hash(e.id)});let i=!1;switch(t){case c.ConnectionState.DISCONNECTED:if(!this.destroyed){let connect=async()=>{await new Promise(e=>setTimeout(e,5e3)),this.destroyed||f.connect().catch(()=>{connect()})};connect()}break;case c.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),i=!0}catch(e){}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},1e4),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();case c.ConnectionState.CONNECTING:}this.connected!==i&&(this.connected=i)}),f.setIncomingDataListener(t=>{var n,i,s;switch(t.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{let i="IsLinkedOK"===t.type?t.linked:void 0;null===(n=this.diagnostic)||void 0===n||n.log(o.EVENTS.LINKED,{sessionIdHash:l.Session.hash(e.id),linked:i,type:t.type,onlineGuests:t.onlineGuests}),this.linked=i||t.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":null===(i=this.diagnostic)||void 0===i||i.log(o.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:l.Session.hash(e.id),metadata_keys:t&&t.metadata?Object.keys(t.metadata):void 0}),this.handleSessionMetadataUpdated(t.metadata);break;case"Event":this.handleIncomingEvent(t)}void 0!==t.id&&(null===(s=this.requestResolutions.get(t.id))||void 0===s||s(t))}),this.ws=f,this.http=new u.WalletLinkHTTP(t,e.id,e.key)}connect(){var e;if(this.destroyed)throw Error("instance is destroyed");null===(e=this.diagnostic)||void 0===e||e.log(o.EVENTS.STARTED_CONNECTING,{sessionIdHash:l.Session.hash(this.session.id)}),this.ws.connect()}destroy(){var e;this.destroyed=!0,this.ws.disconnect(),null===(e=this.diagnostic)||void 0===e||e.log(o.EVENTS.DISCONNECTED,{sessionIdHash:l.Session.hash(this.session.id)}),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(e){var t,n;this._connected=e,e&&(null===(t=this.onceConnected)||void 0===t||t.call(this)),null===(n=this.listener)||void 0===n||n.connectedUpdated(e)}setOnceConnected(e){return new Promise(t=>{this.connected?e().then(t):this.onceConnected=()=>{e().then(t),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(e){var t,n;this._linked=e,e&&(null===(t=this.onceLinked)||void 0===t||t.call(this)),null===(n=this.listener)||void 0===n||n.linkedUpdated(e)}setOnceLinked(e){return new Promise(t=>{this.linked?e().then(t):this.onceLinked=()=>{e().then(t),this.onceLinked=void 0}})}async handleIncomingEvent(e){var t,n;if("Event"===e.type&&"Web3Response"===e.event)try{let n=await this.cipher.decrypt(e.data),i=JSON.parse(n);if("WEB3_RESPONSE"!==i.type)return;null===(t=this.listener)||void 0===t||t.handleWeb3ResponseMessage(i)}catch(e){null===(n=this.diagnostic)||void 0===n||n.log(o.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1;let e=await this.http.fetchUnseenEvents();e.forEach(e=>this.handleIncomingEvent(e))}async setSessionMetadata(e,t){let n={type:"SetSessionConfig",id:(0,i.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[e]:t}};return this.setOnceConnected(async()=>{let e=await this.makeRequest(n);if("Fail"===e.type)throw Error(e.error||"failed to set session metadata")})}async publishEvent(e,t,n=!1){let s=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},t),{origin:location.origin,relaySource:window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),o={type:"PublishEvent",id:(0,i.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:e,data:s,callWebhook:n};return this.setOnceLinked(async()=>{let e=await this.makeRequest(o);if("Fail"===e.type)throw Error(e.error||"failed to publish event");return e.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>2e4){this.ws.disconnect();return}try{this.ws.sendData("h")}catch(e){}}async makeRequest(e,t=6e4){let n;let i=e.id;return this.sendData(e),Promise.race([new Promise((e,s)=>{n=window.setTimeout(()=>{s(Error(`request ${i} timed out`))},t)}),new Promise(e=>{this.requestResolutions.set(i,t=>{clearTimeout(n),e(t),this.requestResolutions.delete(i)})})])}async authenticate(){let e={type:"HostSession",id:(0,i.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},t=await this.makeRequest(e);if("Fail"===t.type)throw Error(t.error||"failed to authentcate")}sendIsLinked(){let e={type:"IsLinked",id:(0,i.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}sendGetSessionConfig(){let e={type:"GetSessionConfig",id:(0,i.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}}},60050:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkHTTP=void 0,t.WalletLinkHTTP=class{constructor(e,t,n){this.linkAPIUrl=e,this.sessionId=t;let i=`${t}:${n}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(e=>fetch(`${this.linkAPIUrl}/events/${e.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(e=>console.error("Unabled to mark event as failed:",e))}async fetchUnseenEvents(){var e;let t=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(t.ok){let{events:n,error:i}=await t.json();if(i)throw Error(`Check unseen events failed: ${i}`);let s=null!==(e=null==n?void 0:n.filter(e=>"Web3Response"===e.event).map(e=>({type:"Event",sessionId:this.sessionId,eventId:e.id,event:e.event,data:e.data})))&&void 0!==e?e:[];return this.markUnseenEventsAsSeen(s),s}throw Error(`Check unseen events failed: ${t.status}`)}}},85208:function(e,t){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkWebSocket=t.ConnectionState=void 0,(i=n||(t.ConnectionState=n={}))[i.DISCONNECTED=0]="DISCONNECTED",i[i.CONNECTING=1]="CONNECTING",i[i.CONNECTED=2]="CONNECTED",t.WalletLinkWebSocket=class{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,t=WebSocket){this.WebSocketClass=t,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw Error("webSocket object is not null");return new Promise((e,t)=>{var i;let s;try{this.webSocket=s=new this.WebSocketClass(this.url)}catch(e){t(e);return}null===(i=this.connectionStateListener)||void 0===i||i.call(this,n.CONNECTING),s.onclose=e=>{var i;this.clearWebSocket(),t(Error(`websocket error ${e.code}: ${e.reason}`)),null===(i=this.connectionStateListener)||void 0===i||i.call(this,n.DISCONNECTED)},s.onopen=t=>{var i;if(e(),null===(i=this.connectionStateListener)||void 0===i||i.call(this,n.CONNECTED),this.pendingData.length>0){let e=[...this.pendingData];e.forEach(e=>this.sendData(e)),this.pendingData=[]}},s.onmessage=e=>{var t,n;if("h"===e.data)null===(t=this.incomingDataListener)||void 0===t||t.call(this,{type:"Heartbeat"});else try{let t=JSON.parse(e.data);null===(n=this.incomingDataListener)||void 0===n||n.call(this,t)}catch(e){}}})}disconnect(){var e;let{webSocket:t}=this;if(t){this.clearWebSocket(),null===(e=this.connectionStateListener)||void 0===e||e.call(this,n.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{t.close()}catch(e){}}}sendData(e){let{webSocket:t}=this;if(!t){this.pendingData.push(e),this.connect();return}t.send(e)}clearWebSocket(){let{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}},81808:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isErrorResponse=void 0,t.isErrorResponse=function(e){return void 0!==e.errorMessage}},37273:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkRelayUI=void 0;let i=n(11014),s=n(61383),o=n(53938);t.WalletLinkRelayUI=class{constructor(e){this.standalone=null,this.attached=!1,this.snackbar=new o.Snackbar({darkMode:e.darkMode}),this.linkFlow=new s.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,isParentConnection:!1})}attach(){if(this.attached)throw Error("Coinbase Wallet SDK UI is already attached");let e=document.documentElement,t=document.createElement("div");t.className="-cbwsdk-css-reset",e.appendChild(t),this.linkFlow.attach(t),this.snackbar.attach(t),this.attached=!0,(0,i.injectCssReset)()}setConnected(e){this.linkFlow.setConnected(e)}setChainId(e){this.linkFlow.setChainId(e)}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(){}watchAsset(){}switchEthereumChain(){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}showConnecting(e){let t;return t=e.isUnlinkedErrorState?{autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:{message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(t)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return null!==(e=this.standalone)&&void 0!==e&&e}}},20904:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer;border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}"},79415:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletSteps=t.ConnectContent=void 0;let s=i(n(37696)),o=n(6400),a=n(38278),l=n(13069),u=n(45935),c=n(90759),h=n(60765),d=n(7827),f=n(37116),p=i(n(20904)),g={title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",steps:CoinbaseWalletSteps},makeIconColor=e=>"light"===e?"#FFFFFF":"#0A0B0D";function ConnectItem({title:e,description:t,theme:n}){return(0,o.h)("div",{className:(0,s.default)("-cbwsdk-connect-item",n)},(0,o.h)("div",null,(0,o.h)(c.CoinbaseWalletRound,null)),(0,o.h)("div",{className:"-cbwsdk-connect-item-copy-wrapper"},(0,o.h)("h3",{className:"-cbwsdk-connect-item-title"},e),(0,o.h)("p",{className:"-cbwsdk-connect-item-description"},t)))}function CoinbaseWalletSteps({theme:e}){return(0,o.h)("ol",{className:"-cbwsdk-wallet-steps"},(0,o.h)("li",{className:(0,s.default)("-cbwsdk-wallet-steps-item",e)},(0,o.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,o.h)("li",{className:(0,s.default)("-cbwsdk-wallet-steps-item",e)},(0,o.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},(0,o.h)("span",null,"Tap ",(0,o.h)("strong",null,"Scan")," "),(0,o.h)("span",{className:(0,s.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,o.h)(h.QRCodeIcon,{fill:makeIconColor(e)})))))}t.ConnectContent=function(e){let{theme:t}=e,n=(0,a.createQrUrl)(e.sessionId,e.sessionSecret,e.linkAPIUrl,e.isParentConnection,e.version,e.chainId),i=g.steps;return(0,o.h)("div",{"data-testid":"connect-content",className:(0,s.default)("-cbwsdk-connect-content",t)},(0,o.h)("style",null,p.default),(0,o.h)("div",{className:"-cbwsdk-connect-content-header"},(0,o.h)("h2",{className:(0,s.default)("-cbwsdk-connect-content-heading",t)},"Scan to connect with our mobile app"),e.onCancel&&(0,o.h)("button",{type:"button",className:"-cbwsdk-cancel-button",onClick:e.onCancel},(0,o.h)(u.CloseIcon,{fill:"light"===t?"#0A0B0D":"#FFFFFF"}))),(0,o.h)("div",{className:"-cbwsdk-connect-content-layout"},(0,o.h)("div",{className:"-cbwsdk-connect-content-column-left"},(0,o.h)(ConnectItem,{title:g.title,description:g.description,theme:t})),(0,o.h)("div",{className:"-cbwsdk-connect-content-column-right"},(0,o.h)("div",{className:"-cbwsdk-connect-content-qr-wrapper"},(0,o.h)(d.QRCode,{content:n,width:200,height:200,fgColor:"#000",bgColor:"transparent"}),(0,o.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:l.LIB_VERSION}),(0,o.h)("input",{type:"hidden",value:n})),(0,o.h)(i,{theme:t}),!e.isConnected&&(0,o.h)("div",{"data-testid":"connecting-spinner",className:(0,s.default)("-cbwsdk-connect-content-qr-connecting",t)},(0,o.h)(f.Spinner,{size:36,color:"dark"===t?"#FFF":"#000"}),(0,o.h)("p",null,"Connecting...")))))},t.CoinbaseWalletSteps=CoinbaseWalletSteps},4505:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}"},18797:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectDialog=void 0;let s=i(n(37696)),o=n(6400),a=n(30396),l=n(79415),u=n(61374),c=i(n(4505));t.ConnectDialog=e=>{let{isOpen:t,darkMode:n}=e,[i,h]=(0,a.useState)(!t),[d,f]=(0,a.useState)(!t);(0,a.useEffect)(()=>{let e=[window.setTimeout(()=>{f(!t)},10)];return t?h(!1):e.push(window.setTimeout(()=>{h(!0)},360)),()=>{e.forEach(window.clearTimeout)}},[t]);let p=n?"dark":"light";return(0,o.h)("div",{class:(0,s.default)("-cbwsdk-connect-dialog-container",i&&"-cbwsdk-connect-dialog-container-hidden")},(0,o.h)("style",null,c.default),(0,o.h)("div",{class:(0,s.default)("-cbwsdk-connect-dialog-backdrop",p,d&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,o.h)("div",{class:"-cbwsdk-connect-dialog"},(0,o.h)("div",{class:(0,s.default)("-cbwsdk-connect-dialog-box",d&&"-cbwsdk-connect-dialog-box-hidden")},e.connectDisabled?null:(0,o.h)(l.ConnectContent,{theme:p,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,linkAPIUrl:e.linkAPIUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection,chainId:e.chainId,onCancel:e.onCancel}),(0,o.h)(u.TryExtensionContent,{theme:p}))))}},61383:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkFlow=void 0;let i=n(6400),s=n(18797);t.LinkFlow=class{constructor(e){this.connected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render()}setConnected(e){this.connected!==e&&(this.connected=e,this.render())}setChainId(e){this.chainId!==e&&(this.chainId=e,this.render())}detach(){var e;this.root&&((0,i.render)(null,this.root),null===(e=this.root.parentElement)||void 0===e||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){this.root&&(0,i.render)((0,i.h)(s.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.connected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}}},7827:function(e,t,n){"use strict";var i=n(54790).lW,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.QRCode=void 0;let o=n(6400),a=n(30396),l=s(n(87654));t.QRCode=e=>{let[t,n]=(0,a.useState)("");return(0,a.useEffect)(()=>{var t,s;let o=new l.default({content:e.content,background:e.bgColor||"#ffffff",color:e.fgColor||"#000000",container:"svg",ecl:"M",width:null!==(t=e.width)&&void 0!==t?t:256,height:null!==(s=e.height)&&void 0!==s?s:256,padding:0,image:e.image}),a=i.from(o.svg(),"utf8").toString("base64");n(`data:image/svg+xml;base64,${a}`)},[e.bgColor,e.content,e.fgColor,e.height,e.image,e.width]),t?(0,o.h)("img",{src:t,alt:"QR Code"}):null}},92323:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}"},58780:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RedirectDialog=void 0;let s=i(n(37696)),o=n(6400),a=n(11014),l=n(23948),u=i(n(92323));t.RedirectDialog=class{constructor(){this.root=null}attach(){let e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),(0,a.injectCssReset)()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&((0,o.render)(null,this.root),e&&(0,o.render)((0,o.h)(RedirectDialogContent,Object.assign({},e,{onDismiss:()=>{this.clear()}})),this.root))}};let RedirectDialogContent=({title:e,buttonText:t,darkMode:n,onButtonClick:i,onDismiss:a})=>(0,o.h)(l.SnackbarContainer,{darkMode:n},(0,o.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,o.h)("style",null,u.default),(0,o.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:a}),(0,o.h)("div",{class:(0,s.default)("-cbwsdk-redirect-dialog-box",n?"dark":"light")},(0,o.h)("p",null,e),(0,o.h)("button",{onClick:i},t))))},4e4:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"},53938:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;let s=i(n(37696)),o=n(6400),a=n(30396),l=i(n(4e4));t.Snackbar=class{constructor(e){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=e.darkMode}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){let t=this.nextItemKey++;return this.items.set(t,e),this.render(),()=>{this.items.delete(t),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,o.render)((0,o.h)("div",null,(0,o.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>(0,o.h)(t.SnackbarInstance,Object.assign({},n,{key:e}))))),this.root)}},t.SnackbarContainer=e=>(0,o.h)("div",{class:(0,s.default)("-cbwsdk-snackbar-container")},(0,o.h)("style",null,l.default),(0,o.h)("div",{class:"-cbwsdk-snackbar"},e.children)),t.SnackbarInstance=({autoExpand:e,message:t,menuItems:n})=>{let[i,l]=(0,a.useState)(!0),[u,c]=(0,a.useState)(null!=e&&e);return(0,a.useEffect)(()=>{let e=[window.setTimeout(()=>{l(!1)},1),window.setTimeout(()=>{c(!0)},1e4)];return()=>{e.forEach(window.clearTimeout)}}),(0,o.h)("div",{class:(0,s.default)("-cbwsdk-snackbar-instance",i&&"-cbwsdk-snackbar-instance-hidden",u&&"-cbwsdk-snackbar-instance-expanded")},(0,o.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:()=>{c(!u)}},(0,o.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,o.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},t),(0,o.h)("div",{class:"-gear-container"},!u&&(0,o.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,o.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=",class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&(0,o.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((e,t)=>(0,o.h)("div",{class:(0,s.default)("-cbwsdk-snackbar-instance-menu-item",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:e.onClick,key:t},(0,o.h)("svg",{width:e.svgWidth,height:e.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":e.defaultFillRule,"clip-rule":e.defaultClipRule,d:e.path,fill:"#AAAAAA"})),(0,o.h)("span",{class:(0,s.default)("-cbwsdk-snackbar-instance-menu-item-info",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},e.info)))))}},23948:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(53938),t)},51490:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}"},37116:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;let s=n(6400),o=i(n(51490));t.Spinner=e=>{var t;let n=null!==(t=e.size)&&void 0!==t?t:64,i=e.color||"#000";return(0,s.h)("div",{class:"-cbwsdk-spinner"},(0,s.h)("style",null,o.default),(0,s.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:n,height:n}},(0,s.h)("circle",{style:{cx:50,cy:50,r:45,stroke:i}})))}},3999:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}"},61374:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TryExtensionContent=void 0;let s=i(n(37696)),o=n(6400),a=n(30396),l=n(2666),u=n(33395),c=n(44186),h=i(n(3999));t.TryExtensionContent=function({theme:e}){let[t,n]=(0,a.useState)(!1),i=(0,a.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),d=(0,a.useCallback)(()=>{t?window.location.reload():(i(),n(!0))},[i,t]);return(0,o.h)("div",{class:(0,s.default)("-cbwsdk-try-extension",e)},(0,o.h)("style",null,h.default),(0,o.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,o.h)("h3",{class:(0,s.default)("-cbwsdk-try-extension-heading",e)},"Or try the Coinbase Wallet browser extension"),(0,o.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,o.h)("button",{class:(0,s.default)("-cbwsdk-try-extension-cta",e),onClick:d},t?"Refresh":"Install"),(0,o.h)("div",null,!t&&(0,o.h)(l.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:"light"===e?"#0052FF":"#588AF5"})))),(0,o.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,o.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,o.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,o.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,o.h)("span",{class:(0,s.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,o.h)(u.LaptopIcon,{fill:"light"===e?"#0A0B0D":"#FFFFFF"}))),(0,o.h)("div",{class:(0,s.default)("-cbwsdk-try-extension-list-item-copy",e)},"Connect with dapps with just one click on your desktop browser")),(0,o.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,o.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,o.h)("span",{class:(0,s.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,o.h)(c.SafeIcon,{fill:"light"===e?"#0A0B0D":"#FFFFFF"}))),(0,o.h)("div",{class:(0,s.default)("-cbwsdk-try-extension-list-item-copy",e)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}},2666:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowLeftIcon=void 0;let i=n(6400);t.ArrowLeftIcon=function(e){return(0,i.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),(0,i.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}},45935:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseIcon=void 0;let i=n(6400);t.CloseIcon=function(e){return(0,i.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,i.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}},90759:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletRound=void 0;let i=n(6400);t.CoinbaseWalletRound=function(e){return(0,i.h)("svg",Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,i.h)("circle",{cx:"14",cy:"14",r:"14",fill:"#0052FF"}),(0,i.h)("path",{d:"M23.8521 14.0003C23.8521 19.455 19.455 23.8521 14.0003 23.8521C8.54559 23.8521 4.14844 19.455 4.14844 14.0003C4.14844 8.54559 8.54559 4.14844 14.0003 4.14844C19.455 4.14844 23.8521 8.54559 23.8521 14.0003Z",fill:"white"}),(0,i.h)("path",{d:"M11.1855 12.5042C11.1855 12.0477 11.1855 11.7942 11.2835 11.642C11.3814 11.4899 11.4793 11.3377 11.6261 11.287C11.8219 11.1855 12.0178 11.1855 12.5073 11.1855H15.4934C15.983 11.1855 16.1788 11.1855 16.3746 11.287C16.5215 11.3884 16.6683 11.4899 16.7173 11.642C16.8152 11.8449 16.8152 12.0477 16.8152 12.5042V15.4965C16.8152 15.953 16.8152 16.2066 16.7173 16.3587C16.6194 16.5109 16.5215 16.663 16.3746 16.7137C16.1788 16.8152 15.983 16.8152 15.4934 16.8152H12.5073C12.0178 16.8152 11.8219 16.8152 11.6261 16.7137C11.4793 16.6123 11.3324 16.5109 11.2835 16.3587C11.1855 16.1558 11.1855 15.953 11.1855 15.4965V12.5042Z",fill:"#0052FF"}))}},33395:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LaptopIcon=void 0;let i=n(6400);t.LaptopIcon=function(e){return(0,i.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,i.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,i.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}},60765:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QRCodeIcon=void 0;let i=n(6400);t.QRCodeIcon=function(e){return(0,i.h)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),(0,i.h)("path",{d:"M3 3V8.99939L5 8.99996V5H9V3H3Z"}),(0,i.h)("path",{d:"M15 21L21 21V15.0006L19 15V19L15 19V21Z"}),(0,i.h)("path",{d:"M21 9H19V5H15.0006L15 3H21V9Z"}),(0,i.h)("path",{d:"M3 15V21H8.99939L8.99996 19H5L5 15H3Z"}))}},44186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SafeIcon=void 0;let i=n(6400);t.SafeIcon=function(e){return(0,i.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,i.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}},56974:function(e,t,n){var i=n(54790).lW;let s=n(58125),o=n(9e3);function elementaryName(e){if(e.startsWith("int["))return"int256"+e.slice(3);if("int"===e)return"int256";if(e.startsWith("uint["))return"uint256"+e.slice(4);if("uint"===e)return"uint256";if(e.startsWith("fixed["))return"fixed128x128"+e.slice(5);if("fixed"===e)return"fixed128x128";if(e.startsWith("ufixed["))return"ufixed128x128"+e.slice(6);else if("ufixed"===e)return"ufixed128x128";return e}function parseTypeN(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function parseTypeNxM(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function parseTypeArray(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function parseNumber(e){var t=typeof e;if("string"===t)return s.isHexString(e)?new o(s.stripHexPrefix(e),16):new o(e,10);if("number"===t)return new o(e);if(e.toArray)return e;throw Error("Argument is not a number")}function encodeSingle(e,t){if("address"===e)return encodeSingle("uint160",parseNumber(t));if("bool"===e)return encodeSingle("uint8",t?1:0);if("string"===e)return encodeSingle("bytes",new i(t,"utf8"));if((c=e).lastIndexOf("]")===c.length-1){if(void 0===t.length)throw Error("Not an array?");if("dynamic"!==(n=parseTypeArray(e))&&0!==n&&t.length>n)throw Error("Elements exceed array size: "+n);for(u in l=[],e=e.slice(0,e.lastIndexOf("[")),"string"==typeof t&&(t=JSON.parse(t)),t)l.push(encodeSingle(e,t[u]));if("dynamic"===n){var n,a,l,u,c,h=encodeSingle("uint256",t.length);l.unshift(h)}return i.concat(l)}if("bytes"===e)return t=new i(t),l=i.concat([encodeSingle("uint256",t.length),t]),t.length%32!=0&&(l=i.concat([l,s.zeros(32-t.length%32)])),l;if(e.startsWith("bytes")){if((n=parseTypeN(e))<1||n>32)throw Error("Invalid bytes<N> width: "+n);return s.setLengthRight(t,32)}else if(e.startsWith("uint")){if((n=parseTypeN(e))%8||n<8||n>256)throw Error("Invalid uint<N> width: "+n);if((a=parseNumber(t)).bitLength()>n)throw Error("Supplied uint exceeds width: "+n+" vs "+a.bitLength());if(a<0)throw Error("Supplied uint is negative");return a.toArrayLike(i,"be",32)}else if(e.startsWith("int")){if((n=parseTypeN(e))%8||n<8||n>256)throw Error("Invalid int<N> width: "+n);if((a=parseNumber(t)).bitLength()>n)throw Error("Supplied int exceeds width: "+n+" vs "+a.bitLength());return a.toTwos(256).toArrayLike(i,"be",32)}else if(e.startsWith("ufixed")){if(n=parseTypeNxM(e),(a=parseNumber(t))<0)throw Error("Supplied ufixed is negative");return encodeSingle("uint256",a.mul(new o(2).pow(new o(n[1]))))}else if(e.startsWith("fixed"))return n=parseTypeNxM(e),encodeSingle("int256",parseNumber(t).mul(new o(2).pow(new o(n[1]))));throw Error("Unsupported or invalid type: "+e)}function solidityPack(e,t){if(e.length!==t.length)throw Error("Number of types are not matching the values");for(var n,o,a=[],l=0;l<e.length;l++){var u=elementaryName(e[l]),c=t[l];if("bytes"===u)a.push(c);else if("string"===u)a.push(new i(c,"utf8"));else if("bool"===u)a.push(new i(c?"01":"00","hex"));else if("address"===u)a.push(s.setLength(c,20));else if(u.startsWith("bytes")){if((n=parseTypeN(u))<1||n>32)throw Error("Invalid bytes<N> width: "+n);a.push(s.setLengthRight(c,n))}else if(u.startsWith("uint")){if((n=parseTypeN(u))%8||n<8||n>256)throw Error("Invalid uint<N> width: "+n);if((o=parseNumber(c)).bitLength()>n)throw Error("Supplied uint exceeds width: "+n+" vs "+o.bitLength());a.push(o.toArrayLike(i,"be",n/8))}else if(u.startsWith("int")){if((n=parseTypeN(u))%8||n<8||n>256)throw Error("Invalid int<N> width: "+n);if((o=parseNumber(c)).bitLength()>n)throw Error("Supplied int exceeds width: "+n+" vs "+o.bitLength());a.push(o.toTwos(n).toArrayLike(i,"be",n/8))}else throw Error("Unsupported or invalid type: "+u)}return i.concat(a)}e.exports={rawEncode:function(e,t){var n=[],s=[],o=32*e.length;for(var a in e){var l=elementaryName(e[a]),u=encodeSingle(l,t[a]);"string"===l||"bytes"===l||"dynamic"===parseTypeArray(l)?(n.push(encodeSingle("uint256",o)),s.push(u),o+=u.length):n.push(u)}return i.concat(n.concat(s))},solidityPack,soliditySHA3:function(e,t){return s.keccak(solidityPack(e,t))}}},64378:function(e,t,n){var i=n(54790).lW;let s=n(58125),o=n(56974),a={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},l={encodeData(e,t,n,a=!0){let l=["bytes32"],u=[this.hashType(e,n)];if(a){let encodeField=(e,t,l)=>{if(void 0!==n[t])return["bytes32",null==l?"0x0000000000000000000000000000000000000000000000000000000000000000":s.keccak(this.encodeData(t,l,n,a))];if(void 0===l)throw Error(`missing value for field ${e} of type ${t}`);if("bytes"===t)return["bytes32",s.keccak(l)];if("string"===t)return"string"==typeof l&&(l=i.from(l,"utf8")),["bytes32",s.keccak(l)];if(t.lastIndexOf("]")===t.length-1){let n=t.slice(0,t.lastIndexOf("[")),i=l.map(t=>encodeField(e,n,t));return["bytes32",s.keccak(o.rawEncode(i.map(([e])=>e),i.map(([,e])=>e)))]}return[t,l]};for(let i of n[e]){let[e,n]=encodeField(i.name,i.type,t[i.name]);l.push(e),u.push(n)}}else for(let o of n[e]){let e=t[o.name];if(void 0!==e){if("bytes"===o.type)l.push("bytes32"),e=s.keccak(e),u.push(e);else if("string"===o.type)l.push("bytes32"),"string"==typeof e&&(e=i.from(e,"utf8")),e=s.keccak(e),u.push(e);else if(void 0!==n[o.type])l.push("bytes32"),e=s.keccak(this.encodeData(o.type,e,n,a)),u.push(e);else if(o.type.lastIndexOf("]")===o.type.length-1)throw Error("Arrays currently unimplemented in encodeData");else l.push(o.type),u.push(e)}}return o.rawEncode(l,u)},encodeType(e,t){let n="",i=this.findTypeDependencies(e,t).filter(t=>t!==e);for(let s of i=[e].concat(i.sort())){let e=t[s];if(!e)throw Error("No type definition specified: "+s);n+=s+"("+t[s].map(({name:e,type:t})=>t+" "+e).join(",")+")"}return n},findTypeDependencies(e,t,n=[]){if(e=e.match(/^\w*/)[0],n.includes(e)||void 0===t[e])return n;for(let i of(n.push(e),t[e]))for(let e of this.findTypeDependencies(i.type,t,n))n.includes(e)||n.push(e);return n},hashStruct(e,t,n,i=!0){return s.keccak(this.encodeData(e,t,n,i))},hashType(e,t){return s.keccak(this.encodeType(e,t))},sanitizeData(e){let t={};for(let n in a.properties)e[n]&&(t[n]=e[n]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){let n=this.sanitizeData(e),o=[i.from("1901","hex")];return o.push(this.hashStruct("EIP712Domain",n.domain,n.types,t)),"EIP712Domain"!==n.primaryType&&o.push(this.hashStruct(n.primaryType,n.message,n.types,t)),s.keccak(i.concat(o))}};e.exports={TYPED_MESSAGE_SCHEMA:a,TypedDataUtils:l,hashForSignTypedDataLegacy:function(e){return function(e){let t=Error("Expect argument to be non-empty array");if("object"!=typeof e||!e.length)throw t;let n=e.map(function(e){return"bytes"===e.type?s.toBuffer(e.value):e.value}),i=e.map(function(e){return e.type}),a=e.map(function(e){if(!e.name)throw t;return e.type+" "+e.name});return o.soliditySHA3(["bytes32","bytes32"],[o.soliditySHA3(Array(e.length).fill("string"),a),o.soliditySHA3(i,n)])}(e.data)},hashForSignTypedData_v3:function(e){return l.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return l.hash(e.data)}}},58125:function(e,t,n){var i=n(54790).lW;let s=n(95811),o=n(9e3);function zeros(e){return i.allocUnsafe(e).fill(0)}function setLength(e,t,n){let i=zeros(t);return(e=toBuffer(e),n)?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)}function toBuffer(e){if(!i.isBuffer(e)){if(Array.isArray(e))e=i.from(e);else if("string"==typeof e){var t;e=isHexString(e)?i.from((t=stripHexPrefix(e)).length%2?"0"+t:t,"hex"):i.from(e)}else if("number"==typeof e)e=intToBuffer(e);else if(null==e)e=i.allocUnsafe(0);else if(o.isBN(e))e=e.toArrayLike(i);else if(e.toArray)e=i.from(e.toArray());else throw Error("invalid type")}return e}function isHexString(e){return"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/)}function stripHexPrefix(e){return"string"==typeof e&&e.startsWith("0x")?e.slice(2):e}e.exports={zeros,setLength,setLengthRight:function(e,t){return setLength(e,t,!0)},isHexString,stripHexPrefix,toBuffer,bufferToHex:function(e){return"0x"+(e=toBuffer(e)).toString("hex")},keccak:function(e,t){return e=toBuffer(e),t||(t=256),s("keccak"+t).update(e).digest()}}},87654:function(e){function QR8bitByte(e){this.mode=t.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var n=0,i=this.data.length;n<i;n++){var s=[],o=this.data.charCodeAt(n);o>65536?(s[0]=240|(1835008&o)>>>18,s[1]=128|(258048&o)>>>12,s[2]=128|(4032&o)>>>6,s[3]=128|63&o):o>2048?(s[0]=224|(61440&o)>>>12,s[1]=128|(4032&o)>>>6,s[2]=128|63&o):o>128?(s[0]=192|(1984&o)>>>6,s[1]=128|63&o):s[0]=o,this.parsedData.push(s)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function QRCodeModel(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}QR8bitByte.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,n=this.parsedData.length;t<n;t++)e.put(this.parsedData[t],8)}},QRCodeModel.prototype={addData:function(e){var t=new QR8bitByte(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1)&&!(this.moduleCount<=e+n))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4?this.modules[e+n][t+i]=!0:this.modules[e+n][t+i]=!1)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=s.getLostPoint(this);(0==n||e>i)&&(e=i,t=n)}return t},createMovieClip:function(e,t,n){var i=e.createEmptyMovieClip(t,n);this.make();for(var s=0;s<this.modules.length;s++)for(var o=1*s,a=0;a<this.modules[s].length;a++){var l=1*a;this.modules[s][a]&&(i.beginFill(0,100),i.moveTo(l,o),i.lineTo(l+1,o),i.lineTo(l+1,o+1),i.lineTo(l,o+1),i.endFill())}return i},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=s.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t],o=e[n];if(null==this.modules[i][o])for(var a=-2;a<=2;a++)for(var l=-2;l<=2;l++)-2==a||2==a||-2==l||2==l||0==a&&0==l?this.modules[i+a][o+l]=!0:this.modules[i+a][o+l]=!1}},setupTypeNumber:function(e){for(var t=s.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!e&&(t>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(var n=0;n<18;n++){var i=!e&&(t>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,i=s.getBCHTypeInfo(n),o=0;o<15;o++){var a=!e&&(i>>o&1)==1;o<6?this.modules[o][8]=a:o<8?this.modules[o+1][8]=a:this.modules[this.moduleCount-15+o][8]=a}for(var o=0;o<15;o++){var a=!e&&(i>>o&1)==1;o<8?this.modules[8][this.moduleCount-o-1]=a:o<9?this.modules[8][15-o-1+1]=a:this.modules[8][15-o-1]=a}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,i=this.moduleCount-1,o=7,a=0,l=this.moduleCount-1;l>0;l-=2)for(6==l&&l--;;){for(var u=0;u<2;u++)if(null==this.modules[i][l-u]){var c=!1;a<e.length&&(c=(e[a]>>>o&1)==1),s.getMask(t,i,l-u)&&(c=!c),this.modules[i][l-u]=c,-1==--o&&(a++,o=7)}if((i+=n)<0||this.moduleCount<=i){i-=n,n=-n;break}}}},QRCodeModel.PAD0=236,QRCodeModel.PAD1=17,QRCodeModel.createData=function(e,t,n){for(var i=QRRSBlock.getRSBlocks(e,t),o=new QRBitBuffer,a=0;a<n.length;a++){var l=n[a];o.put(l.mode,4),o.put(l.getLength(),s.getLengthInBits(l.mode,e)),l.write(o)}for(var u=0,a=0;a<i.length;a++)u+=i[a].dataCount;if(o.getLengthInBits()>8*u)throw Error("code length overflow. ("+o.getLengthInBits()+">"+8*u+")");for(o.getLengthInBits()+4<=8*u&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*u)&&(o.put(QRCodeModel.PAD0,8),!(o.getLengthInBits()>=8*u));)o.put(QRCodeModel.PAD1,8);return QRCodeModel.createBytes(o,i)},QRCodeModel.createBytes=function(e,t){for(var n=0,i=0,o=0,a=Array(t.length),l=Array(t.length),u=0;u<t.length;u++){var c=t[u].dataCount,h=t[u].totalCount-c;i=Math.max(i,c),o=Math.max(o,h),a[u]=Array(c);for(var d=0;d<a[u].length;d++)a[u][d]=255&e.buffer[d+n];n+=c;var f=s.getErrorCorrectPolynomial(h),p=new QRPolynomial(a[u],f.getLength()-1).mod(f);l[u]=Array(f.getLength()-1);for(var d=0;d<l[u].length;d++){var g=d+p.getLength()-l[u].length;l[u][d]=g>=0?p.get(g):0}}for(var m=0,d=0;d<t.length;d++)m+=t[d].totalCount;for(var y=Array(m),b=0,d=0;d<i;d++)for(var u=0;u<t.length;u++)d<a[u].length&&(y[b++]=a[u][d]);for(var d=0;d<o;d++)for(var u=0;u<t.length;u++)d<l[u].length&&(y[b++]=l[u][d]);return y};for(var t={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},i={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;s.getBCHDigit(t)-s.getBCHDigit(s.G15)>=0;)t^=s.G15<<s.getBCHDigit(t)-s.getBCHDigit(s.G15);return(e<<10|t)^s.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;s.getBCHDigit(t)-s.getBCHDigit(s.G18)>=0;)t^=s.G18<<s.getBCHDigit(t)-s.getBCHDigit(s.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return s.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case i.PATTERN000:return(t+n)%2==0;case i.PATTERN001:return t%2==0;case i.PATTERN010:return n%3==0;case i.PATTERN011:return(t+n)%3==0;case i.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case i.PATTERN101:return t*n%2+t*n%3==0;case i.PATTERN110:return(t*n%2+t*n%3)%2==0;case i.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new QRPolynomial([1],0),n=0;n<e;n++)t=t.multiply(new QRPolynomial([1,o.gexp(n)],0));return t},getLengthInBits:function(e,n){if(1<=n&&n<10)switch(e){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:case t.MODE_KANJI:return 8;default:throw Error("mode:"+e)}else if(n<27)switch(e){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw Error("mode:"+e)}else if(n<41)switch(e){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw Error("mode:"+e)}else throw Error("type:"+n)},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i++)for(var s=0;s<t;s++){for(var o=0,a=e.isDark(i,s),l=-1;l<=1;l++)if(!(i+l<0)&&!(t<=i+l))for(var u=-1;u<=1;u++)!(s+u<0)&&!(t<=s+u)&&(0!=l||0!=u)&&a==e.isDark(i+l,s+u)&&o++;o>5&&(n+=3+o-5)}for(var i=0;i<t-1;i++)for(var s=0;s<t-1;s++){var c=0;e.isDark(i,s)&&c++,e.isDark(i+1,s)&&c++,e.isDark(i,s+1)&&c++,e.isDark(i+1,s+1)&&c++,(0==c||4==c)&&(n+=3)}for(var i=0;i<t;i++)for(var s=0;s<t-6;s++)e.isDark(i,s)&&!e.isDark(i,s+1)&&e.isDark(i,s+2)&&e.isDark(i,s+3)&&e.isDark(i,s+4)&&!e.isDark(i,s+5)&&e.isDark(i,s+6)&&(n+=40);for(var s=0;s<t;s++)for(var i=0;i<t-6;i++)e.isDark(i,s)&&!e.isDark(i+1,s)&&e.isDark(i+2,s)&&e.isDark(i+3,s)&&e.isDark(i+4,s)&&!e.isDark(i+5,s)&&e.isDark(i+6,s)&&(n+=40);for(var h=0,s=0;s<t;s++)for(var i=0;i<t;i++)e.isDark(i,s)&&h++;return n+10*(Math.abs(100*h/t/t-50)/5)}},o={glog:function(e){if(e<1)throw Error("glog("+e+")");return o.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return o.EXP_TABLE[e]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},a=0;a<8;a++)o.EXP_TABLE[a]=1<<a;for(var a=8;a<256;a++)o.EXP_TABLE[a]=o.EXP_TABLE[a-4]^o.EXP_TABLE[a-5]^o.EXP_TABLE[a-6]^o.EXP_TABLE[a-8];for(var a=0;a<255;a++)o.LOG_TABLE[o.EXP_TABLE[a]]=a;function QRPolynomial(e,t){if(void 0==e.length)throw Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}function QRRSBlock(e,t){this.totalCount=e,this.dataCount=t}function QRBitBuffer(){this.buffer=[],this.length=0}QRPolynomial.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<e.getLength();i++)t[n+i]^=o.gexp(o.glog(this.get(n))+o.glog(e.get(i)));return new QRPolynomial(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=o.glog(this.get(0))-o.glog(e.get(0)),n=Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(var i=0;i<e.getLength();i++)n[i]^=o.gexp(o.glog(e.get(i))+t);return new QRPolynomial(n,0).mod(e)}},QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],QRRSBlock.getRSBlocks=function(e,t){var n=QRRSBlock.getRsBlockTable(e,t);if(void 0==n)throw Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var i=n.length/3,s=[],o=0;o<i;o++)for(var a=n[3*o+0],l=n[3*o+1],u=n[3*o+2],c=0;c<a;c++)s.push(new QRRSBlock(l,u));return s},QRRSBlock.getRsBlockTable=function(e,t){switch(t){case n.L:return QRRSBlock.RS_BLOCK_TABLE[(e-1)*4+0];case n.M:return QRRSBlock.RS_BLOCK_TABLE[(e-1)*4+1];case n.Q:return QRRSBlock.RS_BLOCK_TABLE[(e-1)*4+2];case n.H:return QRRSBlock.RS_BLOCK_TABLE[(e-1)*4+3];default:return}},QRBitBuffer.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var l=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function QRCode(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},"string"==typeof e&&(e={content:e}),e)for(var t in e)this.options[t]=e[t];if("string"!=typeof this.options.content)throw Error("Expected 'content' as string!");if(0===this.options.content.length)throw Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw Error("Expected 'width' or 'height' value to be higher than zero!");var i=this.options.content,s=function(e,t){for(var n,i=(n=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a")).length+(n.length!=e?3:0),s=1,o=0,a=0,u=l.length;a<=u;a++){var c=l[a];if(!c)throw Error("Content too long: expected "+o+" but got "+i);switch(t){case"L":o=c[0];break;case"M":o=c[1];break;case"Q":o=c[2];break;case"H":o=c[3];break;default:throw Error("Unknwon error correction level: "+t)}if(i<=o)break;s++}if(s>l.length)throw Error("Content too long");return s}(i,this.options.ecl),o=function(e){switch(e){case"L":return n.L;case"M":return n.M;case"Q":return n.Q;case"H":return n.H;default:throw Error("Unknwon error correction level: "+e)}}(this.options.ecl);this.qrcode=new QRCodeModel(s,o),this.qrcode.addData(i),this.qrcode.make()}QRCode.prototype.svg=function(e){var t=this.options||{},n=this.qrcode.modules;void 0===e&&(e={container:t.container||"svg"});for(var i=void 0===t.pretty||!!t.pretty,s=i?"  ":"",o=i?"\r\n":"",a=t.width,l=t.height,u=n.length,c=a/(u+2*t.padding),h=l/(u+2*t.padding),d=void 0!==t.join&&!!t.join,f=void 0!==t.swap&&!!t.swap,p=void 0===t.xmlDeclaration||!!t.xmlDeclaration,g=void 0!==t.predefined&&!!t.predefined,m=g?s+'<defs><path id="qrmodule" d="M0 0 h'+h+" v"+c+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+o:"",y=s+'<rect x="0" y="0" width="'+a+'" height="'+l+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+o,b="",v="",w=0;w<u;w++)for(var k=0;k<u;k++)if(n[k][w]){var _=k*c+t.padding*c,M=w*h+t.padding*h;if(f){var S=_;_=M,M=S}if(d){var R=c+_,I=h+M;_=Number.isInteger(_)?Number(_):_.toFixed(2),M=Number.isInteger(M)?Number(M):M.toFixed(2),R=Number.isInteger(R)?Number(R):R.toFixed(2),v+="M"+_+","+M+" V"+(I=Number.isInteger(I)?Number(I):I.toFixed(2))+" H"+R+" V"+M+" H"+_+" Z "}else g?b+=s+'<use x="'+_.toString()+'" y="'+M.toString()+'" href="#qrmodule" />'+o:b+=s+'<rect x="'+_.toString()+'" y="'+M.toString()+'" width="'+c+'" height="'+h+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+o}d&&(b=s+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+v+'" />');let B="";if(void 0!==this.options.image&&this.options.image.svg){let e=a*this.options.image.width/100,t=l*this.options.image.height/100;B+=`<svg x="${a/2-e/2}" y="${l/2-t/2}" width="${e}" height="${t}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`+(this.options.image.svg+o)+"</svg>"}var C="";switch(e.container){case"svg":p&&(C+='<?xml version="1.0" standalone="yes"?>'+o),C+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+a+'" height="'+l+'">'+o+(m+y+b)+B+"</svg>";break;case"svg-viewbox":p&&(C+='<?xml version="1.0" standalone="yes"?>'+o),C+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+a+" "+l+'">'+o+(m+y+b)+B+"</svg>";break;case"g":C+='<g width="'+a+'" height="'+l+'">'+o+(m+y+b)+B+"</g>";break;default:C+=(m+y+b+B).replace(/^\s+/,"")}return C},e.exports=QRCode},13069:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LIB_VERSION=void 0,t.LIB_VERSION="3.9.3"},9e3:function(e,t,n){!function(e,t){"use strict";function assert(e,t){if(!e)throw Error(t||"Assertion failed")}function inherits(e,t){e.super_=t;var TempCtor=function(){};TempCtor.prototype=t.prototype,e.prototype=new TempCtor,e.prototype.constructor=e}function BN(e,t,n){if(BN.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(n=t,t=10),this._init(e||0,t||10,n||"be"))}"object"==typeof e?e.exports=BN:t.BN=BN,BN.BN=BN,BN.wordSize=26;try{i="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(84534).Buffer}catch(e){}function parseHex4Bits(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void assert(!1,"Invalid character in "+e)}function parseHexByte(e,t,n){var i=parseHex4Bits(e,n);return n-1>=t&&(i|=parseHex4Bits(e,n-1)<<4),i}function parseBase(e,t,n,i){for(var s=0,o=0,a=Math.min(e.length,n),l=t;l<a;l++){var u=e.charCodeAt(l)-48;s*=i,o=u>=49?u-49+10:u>=17?u-17+10:u,assert(u>=0&&o<i,"Invalid character"),s+=o}return s}function move(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(BN.isBN=function(e){return e instanceof BN||null!==e&&"object"==typeof e&&e.constructor.wordSize===BN.wordSize&&Array.isArray(e.words)},BN.max=function(e,t){return e.cmp(t)>0?e:t},BN.min=function(e,t){return 0>e.cmp(t)?e:t},BN.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),assert(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},BN.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(assert(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},BN.prototype._initArray=function(e,t,n){if(assert("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var i,s,o=0;o<this.length;o++)this.words[o]=0;var a=0;if("be"===n)for(o=e.length-1,i=0;o>=0;o-=3)s=e[o]|e[o-1]<<8|e[o-2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);else if("le"===n)for(o=0,i=0;o<e.length;o+=3)s=e[o]|e[o+1]<<8|e[o+2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);return this._strip()},BN.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var i,s=0;s<this.length;s++)this.words[s]=0;var o=0,a=0;if("be"===n)for(s=e.length-1;s>=t;s-=2)i=parseHexByte(e,t,s)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(s=(e.length-t)%2==0?t+1:t;s<e.length;s+=2)i=parseHexByte(e,t,s)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},BN.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,s=1;s<=67108863;s*=t)i++;i--,s=s/t|0;for(var o=e.length-n,a=o%i,l=Math.min(o,o-a)+n,u=0,c=n;c<l;c+=i)u=parseBase(e,c,c+i,t),this.imuln(s),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=parseBase(e,c,e.length,t),c=0;c<a;c++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},BN.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},BN.prototype._move=function(e){move(e,this)},BN.prototype.clone=function(){var e=new BN(null);return this.copy(e),e},BN.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},BN.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{BN.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspect}catch(e){BN.prototype.inspect=inspect}else BN.prototype.inspect=inspect;function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var i,s=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],a=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function smallMulTo(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var s=0|e.words[0],o=0|t.words[0],a=s*o,l=67108863&a,u=a/67108864|0;n.words[0]=l;for(var c=1;c<i;c++){for(var h=u>>>26,d=67108863&u,f=Math.min(c,t.length-1),p=Math.max(0,c-e.length+1);p<=f;p++){var g=c-p|0;h+=(a=(s=0|e.words[g])*(o=0|t.words[p])+d)/67108864|0,d=67108863&a}n.words[c]=0|d,u=0|h}return 0!==u?n.words[c]=0|u:n.length--,n._strip()}BN.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var n,i=0,l=0,u=0;u<this.length;u++){var c=this.words[u],h=((c<<i|l)&16777215).toString(16);l=c>>>24-i&16777215,(i+=2)>=26&&(i-=26,u--),n=0!==l||u!==this.length-1?s[6-h.length]+h+n:h+n}for(0!==l&&(n=l.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var d=o[e],f=a[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modrn(f).toString(e);n=(p=p.idivn(f)).isZero()?g+n:s[d-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},BN.prototype.toJSON=function(){return this.toString(16,2)},i&&(BN.prototype.toBuffer=function(e,t){return this.toArrayLike(i,e,t)}),BN.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},BN.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),s=n||Math.max(1,i);assert(i<=s,"byte array longer than desired length"),assert(s>0,"Requested array length <= 0");var o=e.allocUnsafe?e.allocUnsafe(s):new e(s);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,i),o},BN.prototype._toArrayLikeLE=function(e,t){for(var n=0,i=0,s=0,o=0;s<this.length;s++){var a=this.words[s]<<o|i;e[n++]=255&a,n<e.length&&(e[n++]=a>>8&255),n<e.length&&(e[n++]=a>>16&255),6===o?(n<e.length&&(e[n++]=a>>24&255),i=0,o=0):(i=a>>>24,o+=2)}if(n<e.length)for(e[n++]=i;n<e.length;)e[n++]=0},BN.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,i=0,s=0,o=0;s<this.length;s++){var a=this.words[s]<<o|i;e[n--]=255&a,n>=0&&(e[n--]=a>>8&255),n>=0&&(e[n--]=a>>16&255),6===o?(n>=0&&(e[n--]=a>>24&255),i=0,o=0):(i=a>>>24,o+=2)}if(n>=0)for(e[n--]=i;n>=0;)e[n--]=0},Math.clz32?BN.prototype._countBits=function(e){return 32-Math.clz32(e)}:BN.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},BN.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return(8191&t)==0&&(n+=13,t>>>=13),(127&t)==0&&(n+=7,t>>>=7),(15&t)==0&&(n+=4,t>>>=4),(3&t)==0&&(n+=2,t>>>=2),(1&t)==0&&n++,n},BN.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},BN.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},BN.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},BN.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function(){return 0!==this.negative},BN.prototype.neg=function(){return this.clone().ineg()},BN.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},BN.prototype.ior=function(e){return assert((this.negative|e.negative)==0),this.iuor(e)},BN.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},BN.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},BN.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},BN.prototype.iand=function(e){return assert((this.negative|e.negative)==0),this.iuand(e)},BN.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},BN.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},BN.prototype.iuxor=function(e){this.length>e.length?(t=this,n=e):(t=e,n=this);for(var t,n,i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this._strip()},BN.prototype.ixor=function(e){return assert((this.negative|e.negative)==0),this.iuxor(e)},BN.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},BN.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},BN.prototype.inotn=function(e){assert("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},BN.prototype.notn=function(e){return this.clone().inotn(e)},BN.prototype.setn=function(e,t){assert("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),t?this.words[n]=this.words[n]|1<<i:this.words[n]=this.words[n]&~(1<<i),this._strip()},BN.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var t,n,i,s=0,o=0;o<i.length;o++)t=(0|n.words[o])+(0|i.words[o])+s,this.words[o]=67108863&t,s=t>>>26;for(;0!==s&&o<n.length;o++)t=(0|n.words[o])+s,this.words[o]=67108863&t,s=t>>>26;if(this.length=n.length,0!==s)this.words[this.length]=s,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},BN.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},BN.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,n,i=this.iadd(e);return e.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var s=this.cmp(e);if(0===s)return this.negative=0,this.length=1,this.words[0]=0,this;s>0?(t=this,n=e):(t=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(i=(0|t.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&i;for(;0!==o&&a<t.length;a++)o=(i=(0|t.words[a])+o)>>26,this.words[a]=67108863&i;if(0===o&&a<t.length&&t!==this)for(;a<t.length;a++)this.words[a]=t.words[a];return this.length=Math.max(this.length,a),t!==this&&(this.negative=1),this._strip()},BN.prototype.sub=function(e){return this.clone().isub(e)};var comb10MulTo=function(e,t,n){var i,s,o,a=e.words,l=t.words,u=n.words,c=0,h=0|a[0],d=8191&h,f=h>>>13,p=0|a[1],g=8191&p,m=p>>>13,y=0|a[2],b=8191&y,v=y>>>13,w=0|a[3],k=8191&w,_=w>>>13,M=0|a[4],S=8191&M,R=M>>>13,I=0|a[5],B=8191&I,C=I>>>13,N=0|a[6],x=8191&N,A=N>>>13,T=0|a[7],L=8191&T,O=T>>>13,P=0|a[8],F=8191&P,j=P>>>13,D=0|a[9],$=8191&D,U=D>>>13,H=0|l[0],V=8191&H,W=H>>>13,q=0|l[1],z=8191&q,J=q>>>13,G=0|l[2],Q=8191&G,Z=G>>>13,K=0|l[3],X=8191&K,Y=K>>>13,ee=0|l[4],et=8191&ee,er=ee>>>13,en=0|l[5],ei=8191&en,es=en>>>13,eo=0|l[6],ea=8191&eo,el=eo>>>13,eu=0|l[7],ec=8191&eu,eh=eu>>>13,ed=0|l[8],ef=8191&ed,ep=ed>>>13,eg=0|l[9],em=8191&eg,ey=eg>>>13;n.negative=e.negative^t.negative,n.length=19;var eb=(c+(i=Math.imul(d,V))|0)+((8191&(s=(s=Math.imul(d,W))+Math.imul(f,V)|0))<<13)|0;c=((o=Math.imul(f,W))+(s>>>13)|0)+(eb>>>26)|0,eb&=67108863,i=Math.imul(g,V),s=(s=Math.imul(g,W))+Math.imul(m,V)|0,o=Math.imul(m,W);var ev=(c+(i=i+Math.imul(d,z)|0)|0)+((8191&(s=(s=s+Math.imul(d,J)|0)+Math.imul(f,z)|0))<<13)|0;c=((o=o+Math.imul(f,J)|0)+(s>>>13)|0)+(ev>>>26)|0,ev&=67108863,i=Math.imul(b,V),s=(s=Math.imul(b,W))+Math.imul(v,V)|0,o=Math.imul(v,W),i=i+Math.imul(g,z)|0,s=(s=s+Math.imul(g,J)|0)+Math.imul(m,z)|0,o=o+Math.imul(m,J)|0;var ew=(c+(i=i+Math.imul(d,Q)|0)|0)+((8191&(s=(s=s+Math.imul(d,Z)|0)+Math.imul(f,Q)|0))<<13)|0;c=((o=o+Math.imul(f,Z)|0)+(s>>>13)|0)+(ew>>>26)|0,ew&=67108863,i=Math.imul(k,V),s=(s=Math.imul(k,W))+Math.imul(_,V)|0,o=Math.imul(_,W),i=i+Math.imul(b,z)|0,s=(s=s+Math.imul(b,J)|0)+Math.imul(v,z)|0,o=o+Math.imul(v,J)|0,i=i+Math.imul(g,Q)|0,s=(s=s+Math.imul(g,Z)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,Z)|0;var eE=(c+(i=i+Math.imul(d,X)|0)|0)+((8191&(s=(s=s+Math.imul(d,Y)|0)+Math.imul(f,X)|0))<<13)|0;c=((o=o+Math.imul(f,Y)|0)+(s>>>13)|0)+(eE>>>26)|0,eE&=67108863,i=Math.imul(S,V),s=(s=Math.imul(S,W))+Math.imul(R,V)|0,o=Math.imul(R,W),i=i+Math.imul(k,z)|0,s=(s=s+Math.imul(k,J)|0)+Math.imul(_,z)|0,o=o+Math.imul(_,J)|0,i=i+Math.imul(b,Q)|0,s=(s=s+Math.imul(b,Z)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,Z)|0,i=i+Math.imul(g,X)|0,s=(s=s+Math.imul(g,Y)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Y)|0;var ek=(c+(i=i+Math.imul(d,et)|0)|0)+((8191&(s=(s=s+Math.imul(d,er)|0)+Math.imul(f,et)|0))<<13)|0;c=((o=o+Math.imul(f,er)|0)+(s>>>13)|0)+(ek>>>26)|0,ek&=67108863,i=Math.imul(B,V),s=(s=Math.imul(B,W))+Math.imul(C,V)|0,o=Math.imul(C,W),i=i+Math.imul(S,z)|0,s=(s=s+Math.imul(S,J)|0)+Math.imul(R,z)|0,o=o+Math.imul(R,J)|0,i=i+Math.imul(k,Q)|0,s=(s=s+Math.imul(k,Z)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,Z)|0,i=i+Math.imul(b,X)|0,s=(s=s+Math.imul(b,Y)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,Y)|0,i=i+Math.imul(g,et)|0,s=(s=s+Math.imul(g,er)|0)+Math.imul(m,et)|0,o=o+Math.imul(m,er)|0;var e_=(c+(i=i+Math.imul(d,ei)|0)|0)+((8191&(s=(s=s+Math.imul(d,es)|0)+Math.imul(f,ei)|0))<<13)|0;c=((o=o+Math.imul(f,es)|0)+(s>>>13)|0)+(e_>>>26)|0,e_&=67108863,i=Math.imul(x,V),s=(s=Math.imul(x,W))+Math.imul(A,V)|0,o=Math.imul(A,W),i=i+Math.imul(B,z)|0,s=(s=s+Math.imul(B,J)|0)+Math.imul(C,z)|0,o=o+Math.imul(C,J)|0,i=i+Math.imul(S,Q)|0,s=(s=s+Math.imul(S,Z)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,Z)|0,i=i+Math.imul(k,X)|0,s=(s=s+Math.imul(k,Y)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,Y)|0,i=i+Math.imul(b,et)|0,s=(s=s+Math.imul(b,er)|0)+Math.imul(v,et)|0,o=o+Math.imul(v,er)|0,i=i+Math.imul(g,ei)|0,s=(s=s+Math.imul(g,es)|0)+Math.imul(m,ei)|0,o=o+Math.imul(m,es)|0;var eM=(c+(i=i+Math.imul(d,ea)|0)|0)+((8191&(s=(s=s+Math.imul(d,el)|0)+Math.imul(f,ea)|0))<<13)|0;c=((o=o+Math.imul(f,el)|0)+(s>>>13)|0)+(eM>>>26)|0,eM&=67108863,i=Math.imul(L,V),s=(s=Math.imul(L,W))+Math.imul(O,V)|0,o=Math.imul(O,W),i=i+Math.imul(x,z)|0,s=(s=s+Math.imul(x,J)|0)+Math.imul(A,z)|0,o=o+Math.imul(A,J)|0,i=i+Math.imul(B,Q)|0,s=(s=s+Math.imul(B,Z)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,Z)|0,i=i+Math.imul(S,X)|0,s=(s=s+Math.imul(S,Y)|0)+Math.imul(R,X)|0,o=o+Math.imul(R,Y)|0,i=i+Math.imul(k,et)|0,s=(s=s+Math.imul(k,er)|0)+Math.imul(_,et)|0,o=o+Math.imul(_,er)|0,i=i+Math.imul(b,ei)|0,s=(s=s+Math.imul(b,es)|0)+Math.imul(v,ei)|0,o=o+Math.imul(v,es)|0,i=i+Math.imul(g,ea)|0,s=(s=s+Math.imul(g,el)|0)+Math.imul(m,ea)|0,o=o+Math.imul(m,el)|0;var eS=(c+(i=i+Math.imul(d,ec)|0)|0)+((8191&(s=(s=s+Math.imul(d,eh)|0)+Math.imul(f,ec)|0))<<13)|0;c=((o=o+Math.imul(f,eh)|0)+(s>>>13)|0)+(eS>>>26)|0,eS&=67108863,i=Math.imul(F,V),s=(s=Math.imul(F,W))+Math.imul(j,V)|0,o=Math.imul(j,W),i=i+Math.imul(L,z)|0,s=(s=s+Math.imul(L,J)|0)+Math.imul(O,z)|0,o=o+Math.imul(O,J)|0,i=i+Math.imul(x,Q)|0,s=(s=s+Math.imul(x,Z)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,Z)|0,i=i+Math.imul(B,X)|0,s=(s=s+Math.imul(B,Y)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,Y)|0,i=i+Math.imul(S,et)|0,s=(s=s+Math.imul(S,er)|0)+Math.imul(R,et)|0,o=o+Math.imul(R,er)|0,i=i+Math.imul(k,ei)|0,s=(s=s+Math.imul(k,es)|0)+Math.imul(_,ei)|0,o=o+Math.imul(_,es)|0,i=i+Math.imul(b,ea)|0,s=(s=s+Math.imul(b,el)|0)+Math.imul(v,ea)|0,o=o+Math.imul(v,el)|0,i=i+Math.imul(g,ec)|0,s=(s=s+Math.imul(g,eh)|0)+Math.imul(m,ec)|0,o=o+Math.imul(m,eh)|0;var eR=(c+(i=i+Math.imul(d,ef)|0)|0)+((8191&(s=(s=s+Math.imul(d,ep)|0)+Math.imul(f,ef)|0))<<13)|0;c=((o=o+Math.imul(f,ep)|0)+(s>>>13)|0)+(eR>>>26)|0,eR&=67108863,i=Math.imul($,V),s=(s=Math.imul($,W))+Math.imul(U,V)|0,o=Math.imul(U,W),i=i+Math.imul(F,z)|0,s=(s=s+Math.imul(F,J)|0)+Math.imul(j,z)|0,o=o+Math.imul(j,J)|0,i=i+Math.imul(L,Q)|0,s=(s=s+Math.imul(L,Z)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,Z)|0,i=i+Math.imul(x,X)|0,s=(s=s+Math.imul(x,Y)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,Y)|0,i=i+Math.imul(B,et)|0,s=(s=s+Math.imul(B,er)|0)+Math.imul(C,et)|0,o=o+Math.imul(C,er)|0,i=i+Math.imul(S,ei)|0,s=(s=s+Math.imul(S,es)|0)+Math.imul(R,ei)|0,o=o+Math.imul(R,es)|0,i=i+Math.imul(k,ea)|0,s=(s=s+Math.imul(k,el)|0)+Math.imul(_,ea)|0,o=o+Math.imul(_,el)|0,i=i+Math.imul(b,ec)|0,s=(s=s+Math.imul(b,eh)|0)+Math.imul(v,ec)|0,o=o+Math.imul(v,eh)|0,i=i+Math.imul(g,ef)|0,s=(s=s+Math.imul(g,ep)|0)+Math.imul(m,ef)|0,o=o+Math.imul(m,ep)|0;var eI=(c+(i=i+Math.imul(d,em)|0)|0)+((8191&(s=(s=s+Math.imul(d,ey)|0)+Math.imul(f,em)|0))<<13)|0;c=((o=o+Math.imul(f,ey)|0)+(s>>>13)|0)+(eI>>>26)|0,eI&=67108863,i=Math.imul($,z),s=(s=Math.imul($,J))+Math.imul(U,z)|0,o=Math.imul(U,J),i=i+Math.imul(F,Q)|0,s=(s=s+Math.imul(F,Z)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,Z)|0,i=i+Math.imul(L,X)|0,s=(s=s+Math.imul(L,Y)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Y)|0,i=i+Math.imul(x,et)|0,s=(s=s+Math.imul(x,er)|0)+Math.imul(A,et)|0,o=o+Math.imul(A,er)|0,i=i+Math.imul(B,ei)|0,s=(s=s+Math.imul(B,es)|0)+Math.imul(C,ei)|0,o=o+Math.imul(C,es)|0,i=i+Math.imul(S,ea)|0,s=(s=s+Math.imul(S,el)|0)+Math.imul(R,ea)|0,o=o+Math.imul(R,el)|0,i=i+Math.imul(k,ec)|0,s=(s=s+Math.imul(k,eh)|0)+Math.imul(_,ec)|0,o=o+Math.imul(_,eh)|0,i=i+Math.imul(b,ef)|0,s=(s=s+Math.imul(b,ep)|0)+Math.imul(v,ef)|0,o=o+Math.imul(v,ep)|0;var eB=(c+(i=i+Math.imul(g,em)|0)|0)+((8191&(s=(s=s+Math.imul(g,ey)|0)+Math.imul(m,em)|0))<<13)|0;c=((o=o+Math.imul(m,ey)|0)+(s>>>13)|0)+(eB>>>26)|0,eB&=67108863,i=Math.imul($,Q),s=(s=Math.imul($,Z))+Math.imul(U,Q)|0,o=Math.imul(U,Z),i=i+Math.imul(F,X)|0,s=(s=s+Math.imul(F,Y)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,Y)|0,i=i+Math.imul(L,et)|0,s=(s=s+Math.imul(L,er)|0)+Math.imul(O,et)|0,o=o+Math.imul(O,er)|0,i=i+Math.imul(x,ei)|0,s=(s=s+Math.imul(x,es)|0)+Math.imul(A,ei)|0,o=o+Math.imul(A,es)|0,i=i+Math.imul(B,ea)|0,s=(s=s+Math.imul(B,el)|0)+Math.imul(C,ea)|0,o=o+Math.imul(C,el)|0,i=i+Math.imul(S,ec)|0,s=(s=s+Math.imul(S,eh)|0)+Math.imul(R,ec)|0,o=o+Math.imul(R,eh)|0,i=i+Math.imul(k,ef)|0,s=(s=s+Math.imul(k,ep)|0)+Math.imul(_,ef)|0,o=o+Math.imul(_,ep)|0;var eC=(c+(i=i+Math.imul(b,em)|0)|0)+((8191&(s=(s=s+Math.imul(b,ey)|0)+Math.imul(v,em)|0))<<13)|0;c=((o=o+Math.imul(v,ey)|0)+(s>>>13)|0)+(eC>>>26)|0,eC&=67108863,i=Math.imul($,X),s=(s=Math.imul($,Y))+Math.imul(U,X)|0,o=Math.imul(U,Y),i=i+Math.imul(F,et)|0,s=(s=s+Math.imul(F,er)|0)+Math.imul(j,et)|0,o=o+Math.imul(j,er)|0,i=i+Math.imul(L,ei)|0,s=(s=s+Math.imul(L,es)|0)+Math.imul(O,ei)|0,o=o+Math.imul(O,es)|0,i=i+Math.imul(x,ea)|0,s=(s=s+Math.imul(x,el)|0)+Math.imul(A,ea)|0,o=o+Math.imul(A,el)|0,i=i+Math.imul(B,ec)|0,s=(s=s+Math.imul(B,eh)|0)+Math.imul(C,ec)|0,o=o+Math.imul(C,eh)|0,i=i+Math.imul(S,ef)|0,s=(s=s+Math.imul(S,ep)|0)+Math.imul(R,ef)|0,o=o+Math.imul(R,ep)|0;var eN=(c+(i=i+Math.imul(k,em)|0)|0)+((8191&(s=(s=s+Math.imul(k,ey)|0)+Math.imul(_,em)|0))<<13)|0;c=((o=o+Math.imul(_,ey)|0)+(s>>>13)|0)+(eN>>>26)|0,eN&=67108863,i=Math.imul($,et),s=(s=Math.imul($,er))+Math.imul(U,et)|0,o=Math.imul(U,er),i=i+Math.imul(F,ei)|0,s=(s=s+Math.imul(F,es)|0)+Math.imul(j,ei)|0,o=o+Math.imul(j,es)|0,i=i+Math.imul(L,ea)|0,s=(s=s+Math.imul(L,el)|0)+Math.imul(O,ea)|0,o=o+Math.imul(O,el)|0,i=i+Math.imul(x,ec)|0,s=(s=s+Math.imul(x,eh)|0)+Math.imul(A,ec)|0,o=o+Math.imul(A,eh)|0,i=i+Math.imul(B,ef)|0,s=(s=s+Math.imul(B,ep)|0)+Math.imul(C,ef)|0,o=o+Math.imul(C,ep)|0;var ex=(c+(i=i+Math.imul(S,em)|0)|0)+((8191&(s=(s=s+Math.imul(S,ey)|0)+Math.imul(R,em)|0))<<13)|0;c=((o=o+Math.imul(R,ey)|0)+(s>>>13)|0)+(ex>>>26)|0,ex&=67108863,i=Math.imul($,ei),s=(s=Math.imul($,es))+Math.imul(U,ei)|0,o=Math.imul(U,es),i=i+Math.imul(F,ea)|0,s=(s=s+Math.imul(F,el)|0)+Math.imul(j,ea)|0,o=o+Math.imul(j,el)|0,i=i+Math.imul(L,ec)|0,s=(s=s+Math.imul(L,eh)|0)+Math.imul(O,ec)|0,o=o+Math.imul(O,eh)|0,i=i+Math.imul(x,ef)|0,s=(s=s+Math.imul(x,ep)|0)+Math.imul(A,ef)|0,o=o+Math.imul(A,ep)|0;var eA=(c+(i=i+Math.imul(B,em)|0)|0)+((8191&(s=(s=s+Math.imul(B,ey)|0)+Math.imul(C,em)|0))<<13)|0;c=((o=o+Math.imul(C,ey)|0)+(s>>>13)|0)+(eA>>>26)|0,eA&=67108863,i=Math.imul($,ea),s=(s=Math.imul($,el))+Math.imul(U,ea)|0,o=Math.imul(U,el),i=i+Math.imul(F,ec)|0,s=(s=s+Math.imul(F,eh)|0)+Math.imul(j,ec)|0,o=o+Math.imul(j,eh)|0,i=i+Math.imul(L,ef)|0,s=(s=s+Math.imul(L,ep)|0)+Math.imul(O,ef)|0,o=o+Math.imul(O,ep)|0;var eT=(c+(i=i+Math.imul(x,em)|0)|0)+((8191&(s=(s=s+Math.imul(x,ey)|0)+Math.imul(A,em)|0))<<13)|0;c=((o=o+Math.imul(A,ey)|0)+(s>>>13)|0)+(eT>>>26)|0,eT&=67108863,i=Math.imul($,ec),s=(s=Math.imul($,eh))+Math.imul(U,ec)|0,o=Math.imul(U,eh),i=i+Math.imul(F,ef)|0,s=(s=s+Math.imul(F,ep)|0)+Math.imul(j,ef)|0,o=o+Math.imul(j,ep)|0;var eL=(c+(i=i+Math.imul(L,em)|0)|0)+((8191&(s=(s=s+Math.imul(L,ey)|0)+Math.imul(O,em)|0))<<13)|0;c=((o=o+Math.imul(O,ey)|0)+(s>>>13)|0)+(eL>>>26)|0,eL&=67108863,i=Math.imul($,ef),s=(s=Math.imul($,ep))+Math.imul(U,ef)|0,o=Math.imul(U,ep);var eO=(c+(i=i+Math.imul(F,em)|0)|0)+((8191&(s=(s=s+Math.imul(F,ey)|0)+Math.imul(j,em)|0))<<13)|0;c=((o=o+Math.imul(j,ey)|0)+(s>>>13)|0)+(eO>>>26)|0,eO&=67108863;var eP=(c+(i=Math.imul($,em))|0)+((8191&(s=(s=Math.imul($,ey))+Math.imul(U,em)|0))<<13)|0;return c=((o=Math.imul(U,ey))+(s>>>13)|0)+(eP>>>26)|0,eP&=67108863,u[0]=eb,u[1]=ev,u[2]=ew,u[3]=eE,u[4]=ek,u[5]=e_,u[6]=eM,u[7]=eS,u[8]=eR,u[9]=eI,u[10]=eB,u[11]=eC,u[12]=eN,u[13]=ex,u[14]=eA,u[15]=eT,u[16]=eL,u[17]=eO,u[18]=eP,0!==c&&(u[19]=c,n.length++),n};function bigMulTo(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,s=0,o=0;o<n.length-1;o++){var a=s;s=0;for(var l=67108863&i,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var h=o-c,d=(0|e.words[h])*(0|t.words[c]),f=67108863&d;a=a+(d/67108864|0)|0,l=67108863&(f=f+l|0),s+=(a=a+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=l,i=a,a=s}return 0!==i?n.words[o]=i:n.length--,n._strip()}function FFTM(e,t){this.x=e,this.y=t}Math.imul||(comb10MulTo=smallMulTo),BN.prototype.mulTo=function(e,t){var n,i=this.length+e.length;return 10===this.length&&10===e.length?comb10MulTo(this,e,t):i<63?smallMulTo(this,e,t):bigMulTo(this,e,t)},FFTM.prototype.makeRBT=function(e){for(var t=Array(e),n=BN.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},FFTM.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,s=0;s<t;s++)i|=(1&e)<<t-s-1,e>>=1;return i},FFTM.prototype.permute=function(e,t,n,i,s,o){for(var a=0;a<o;a++)i[a]=t[e[a]],s[a]=n[e[a]]},FFTM.prototype.transform=function(e,t,n,i,s,o){this.permute(o,e,t,n,i,s);for(var a=1;a<s;a<<=1)for(var l=a<<1,u=Math.cos(2*Math.PI/l),c=Math.sin(2*Math.PI/l),h=0;h<s;h+=l)for(var d=u,f=c,p=0;p<a;p++){var g=n[h+p],m=i[h+p],y=n[h+p+a],b=i[h+p+a],v=d*y-f*b;b=d*b+f*y,y=v,n[h+p]=g+y,i[h+p]=m+b,n[h+p+a]=g-y,i[h+p+a]=m-b,p!==l&&(v=u*d-c*f,f=u*f+c*d,d=v)}},FFTM.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,s=0;for(n=n/2|0;n;n>>>=1)s++;return 1<<s+1+i},FFTM.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var s=e[i];e[i]=e[n-i-1],e[n-i-1]=s,s=t[i],t[i]=-t[n-i-1],t[n-i-1]=-s}},FFTM.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var s=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&s,n=s<67108864?0:s/67108864|0}return e},FFTM.prototype.convert13b=function(e,t,n,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)n[o]=0;assert(0===s),assert((-8192&s)==0)},FFTM.prototype.stub=function(e){for(var t=Array(e),n=0;n<e;n++)t[n]=0;return t},FFTM.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),s=this.makeRBT(i),o=this.stub(i),a=Array(i),l=Array(i),u=Array(i),c=Array(i),h=Array(i),d=Array(i),f=n.words;f.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,c,i),this.transform(a,o,l,u,i,s),this.transform(c,o,h,d,i,s);for(var p=0;p<i;p++){var g=l[p]*h[p]-u[p]*d[p];u[p]=l[p]*d[p]+u[p]*h[p],l[p]=g}return this.conjugate(l,u,i),this.transform(l,u,f,o,i,s),this.conjugate(f,o,i),this.normalize13b(f,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},BN.prototype.mul=function(e){var t=new BN(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},BN.prototype.mulf=function(e){var t=new BN(null);return t.words=Array(this.length+e.length),bigMulTo(this,e,t)},BN.prototype.imul=function(e){return this.clone().mulTo(e,this)},BN.prototype.imuln=function(e){var t=e<0;t&&(e=-e),assert("number"==typeof e),assert(e<67108864);for(var n=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,o=(67108863&s)+(67108863&n);n>>=26,n+=(s/67108864|0)+(o>>>26),this.words[i]=67108863&o}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},BN.prototype.muln=function(e){return this.clone().imuln(e)},BN.prototype.sqr=function(){return this.mul(this)},BN.prototype.isqr=function(){return this.imul(this.clone())},BN.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,s=n%26;t[n]=e.words[i]>>>s&1}return t}(e);if(0===t.length)return new BN(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var s=n.sqr();i<t.length;i++,s=s.sqr())0!==t[i]&&(n=n.mul(s));return n},BN.prototype.iushln=function(e){assert("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,l=(0|this.words[t])-a<<n;this.words[t]=l|o,o=a>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},BN.prototype.ishln=function(e){return assert(0===this.negative),this.iushln(e)},BN.prototype.iushrn=function(e,t,n){assert("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var i,s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s;if(i-=o,i=Math.max(0,i),n){for(var l=0;l<o;l++)n.words[l]=this.words[l];n.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var c=0|this.words[l];this.words[l]=u<<26-s|c>>>s,u=c&a}return n&&0!==u&&(n.words[n.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},BN.prototype.ishrn=function(e,t,n){return assert(0===this.negative),this.iushrn(e,t,n)},BN.prototype.shln=function(e){return this.clone().ishln(e)},BN.prototype.ushln=function(e){return this.clone().iushln(e)},BN.prototype.shrn=function(e){return this.clone().ishrn(e)},BN.prototype.ushrn=function(e){return this.clone().iushrn(e)},BN.prototype.testn=function(e){assert("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;return!(this.length<=n)&&!!(this.words[n]&1<<t)},BN.prototype.imaskn=function(e){assert("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;return(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)?this:(0!==t&&n++,this.length=Math.min(n,this.length),0!==t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this._strip())},BN.prototype.maskn=function(e){return this.clone().imaskn(e)},BN.prototype.iaddn=function(e){return(assert("number"==typeof e),assert(e<67108864),e<0)?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},BN.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},BN.prototype.isubn=function(e){if(assert("number"==typeof e),assert(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},BN.prototype.addn=function(e){return this.clone().iaddn(e)},BN.prototype.subn=function(e){return this.clone().isubn(e)},BN.prototype.iabs=function(){return this.negative=0,this},BN.prototype.abs=function(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function(e,t,n){var i,s,o=e.length+n;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+a;var l=(0|e.words[i])*t;s-=67108863&l,a=(s>>26)-(l/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this._strip();for(assert(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},BN.prototype._wordDiv=function(e,t){var n,i=this.length-e.length,s=this.clone(),o=e,a=0|o.words[o.length-1];0!=(i=26-this._countBits(a))&&(o=o.ushln(i),s.iushln(i),a=0|o.words[o.length-1]);var l=s.length-o.length;if("mod"!==t){(n=new BN(null)).length=l+1,n.words=Array(n.length);for(var u=0;u<n.length;u++)n.words[u]=0}var c=s.clone()._ishlnsubmul(o,1,l);0===c.negative&&(s=c,n&&(n.words[l]=1));for(var h=l-1;h>=0;h--){var d=(0|s.words[o.length+h])*67108864+(0|s.words[o.length+h-1]);for(d=Math.min(d/a|0,67108863),s._ishlnsubmul(o,d,h);0!==s.negative;)d--,s.negative=0,s._ishlnsubmul(o,1,h),s.isZero()||(s.negative^=1);n&&(n.words[h]=d)}return n&&n._strip(),s._strip(),"div"!==t&&0!==i&&s.iushrn(i),{div:n||null,mod:s}},BN.prototype.divmod=function(e,t,n){var i,s,o;return(assert(!e.isZero()),this.isZero())?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(i=o.div.neg()),"div"!==t&&(s=o.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(i=o.div.neg()),{div:i,mod:o.mod}):(this.negative&e.negative)!=0?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(s=o.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||0>this.cmp(e)?{div:new BN(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new BN(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new BN(this.modrn(e.words[0]))}:this._wordDiv(e,t)},BN.prototype.div=function(e){return this.divmod(e,"div",!1).div},BN.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},BN.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},BN.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),s=e.andln(1),o=n.cmp(i);return o<0||1===s&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},BN.prototype.modrn=function(e){var t=e<0;t&&(e=-e),assert(e<=67108863);for(var n=67108864%e,i=0,s=this.length-1;s>=0;s--)i=(n*i+(0|this.words[s]))%e;return t?-i:i},BN.prototype.modn=function(e){return this.modrn(e)},BN.prototype.idivn=function(e){var t=e<0;t&&(e=-e),assert(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*n;this.words[i]=s/e|0,n=s%e}return this._strip(),t?this.ineg():this},BN.prototype.divn=function(e){return this.clone().idivn(e)},BN.prototype.egcd=function(e){assert(0===e.negative),assert(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new BN(1),s=new BN(0),o=new BN(0),a=new BN(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),c=t.clone();!t.isZero();){for(var h=0,d=1;(t.words[0]&d)==0&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(u),s.isub(c)),i.iushrn(1),s.iushrn(1);for(var f=0,p=1;(n.words[0]&p)==0&&f<26;++f,p<<=1);if(f>0)for(n.iushrn(f);f-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(u),a.isub(c)),o.iushrn(1),a.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(o),s.isub(a)):(n.isub(t),o.isub(i),a.isub(s))}return{a:o,b:a,gcd:n.iushln(l)}},BN.prototype._invmp=function(e){assert(0===e.negative),assert(!e.isZero());var t,n=this,i=e.clone();n=0!==n.negative?n.umod(e):n.clone();for(var s=new BN(1),o=new BN(0),a=i.clone();n.cmpn(1)>0&&i.cmpn(1)>0;){for(var l=0,u=1;(n.words[0]&u)==0&&l<26;++l,u<<=1);if(l>0)for(n.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(a),s.iushrn(1);for(var c=0,h=1;(i.words[0]&h)==0&&c<26;++c,h<<=1);if(c>0)for(i.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(a),o.iushrn(1);n.cmp(i)>=0?(n.isub(i),s.isub(o)):(i.isub(n),o.isub(s))}return 0>(t=0===n.cmpn(1)?s:o).cmpn(0)&&t.iadd(e),t},BN.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var s=t.cmp(n);if(s<0){var o=t;t=n,n=o}else if(0===s||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},BN.prototype.invm=function(e){return this.egcd(e).a.umod(e)},BN.prototype.isEven=function(){return(1&this.words[0])==0},BN.prototype.isOdd=function(){return(1&this.words[0])==1},BN.prototype.andln=function(e){return this.words[0]&e},BN.prototype.bincn=function(e){assert("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];a+=s,s=a>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},BN.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return -1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),assert(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},BN.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},BN.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],s=0|e.words[n];if(i!==s){i<s?t=-1:i>s&&(t=1);break}}return t},BN.prototype.gtn=function(e){return 1===this.cmpn(e)},BN.prototype.gt=function(e){return 1===this.cmp(e)},BN.prototype.gten=function(e){return this.cmpn(e)>=0},BN.prototype.gte=function(e){return this.cmp(e)>=0},BN.prototype.ltn=function(e){return -1===this.cmpn(e)},BN.prototype.lt=function(e){return -1===this.cmp(e)},BN.prototype.lten=function(e){return 0>=this.cmpn(e)},BN.prototype.lte=function(e){return 0>=this.cmp(e)},BN.prototype.eqn=function(e){return 0===this.cmpn(e)},BN.prototype.eq=function(e){return 0===this.cmp(e)},BN.red=function(e){return new Red(e)},BN.prototype.toRed=function(e){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},BN.prototype.fromRed=function(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function(e){return this.red=e,this},BN.prototype.forceRed=function(e){return assert(!this.red,"Already a number in reduction context"),this._forceRed(e)},BN.prototype.redAdd=function(e){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},BN.prototype.redIAdd=function(e){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},BN.prototype.redSub=function(e){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},BN.prototype.redISub=function(e){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},BN.prototype.redShl=function(e){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},BN.prototype.redMul=function(e){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},BN.prototype.redIMul=function(e){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},BN.prototype.redSqr=function(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function(e){return assert(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var l={k256:null,p224:null,p192:null,p25519:null};function MPrime(e,t){this.name=e,this.p=new BN(t,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(e){if("string"==typeof e){var t=BN._prime(e);this.m=t.p,this.prime=t}else assert(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function Mont(e){Red.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function(){var e=new BN(null);return e.words=Array(Math.ceil(this.n/13)),e},MPrime.prototype.ireduce=function(e){var t,n=e;do this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength();while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},MPrime.prototype.split=function(e,t){e.iushrn(this.n,0,t)},MPrime.prototype.imulK=function(e){return e.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function(e,t){for(var n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9){e.words[0]=0,e.length=1;return}var s=e.words[9];for(i=10,t.words[t.length++]=4194303&s;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(4194303&o)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},K256.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=(0|e.words[n])*19+t,s=67108863&i;i>>>=26,e.words[n]=s,t=i}return 0!==t&&(e.words[e.length++]=t),e},BN._prime=function(e){var t;if(l[e])return l[e];if("k256"===e)t=new K256;else if("p224"===e)t=new P224;else if("p192"===e)t=new P192;else if("p25519"===e)t=new P25519;else throw Error("Unknown prime "+e);return l[e]=t,t},Red.prototype._verify1=function(e){assert(0===e.negative,"red works only with positives"),assert(e.red,"red works only with red numbers")},Red.prototype._verify2=function(e,t){assert((e.negative|t.negative)==0,"red works only with positives"),assert(e.red&&e.red===t.red,"red works only with red numbers")},Red.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(move(e,e.umod(this.m)._forceRed(this)),e)},Red.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},Red.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},Red.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},Red.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return 0>n.cmpn(0)&&n.iadd(this.m),n._forceRed(this)},Red.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return 0>n.cmpn(0)&&n.iadd(this.m),n},Red.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},Red.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},Red.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},Red.prototype.isqr=function(e){return this.imul(e,e.clone())},Red.prototype.sqr=function(e){return this.mul(e,e)},Red.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(assert(t%2==1),3===t){var n=this.m.add(new BN(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);assert(!i.isZero());var o=new BN(1).toRed(this),a=o.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new BN(2*u*u).toRed(this);0!==this.pow(u,l).cmp(a);)u.redIAdd(a);for(var c=this.pow(u,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),f=s;0!==d.cmp(o);){for(var p=d,g=0;0!==p.cmp(o);g++)p=p.redSqr();assert(g<f);var m=this.pow(c,new BN(1).iushln(f-g-1));h=h.redMul(m),c=m.redSqr(),d=d.redMul(c),f=g}return h},Red.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},Red.prototype.pow=function(e,t){if(t.isZero())return new BN(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=Array(16);n[0]=new BN(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var s=n[0],o=0,a=0,l=t.bitLength()%26;for(0===l&&(l=26),i=t.length-1;i>=0;i--){for(var u=t.words[i],c=l-1;c>=0;c--){var h=u>>c&1;if(s!==n[0]&&(s=this.sqr(s)),0===h&&0===o){a=0;continue}o<<=1,o|=h,(4==++a||0===i&&0===c)&&(s=this.mul(s,n[o]),a=0,o=0)}l=26}return s},Red.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},Red.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},BN.mont=function(e){return new Mont(e)},inherits(Mont,Red),Mont.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},Mont.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},Mont.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=n.isub(i).iushrn(this.shift),o=s;return s.cmp(this.m)>=0?o=s.isub(this.m):0>s.cmpn(0)&&(o=s.iadd(this.m)),o._forceRed(this)},Mont.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new BN(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=n.isub(i).iushrn(this.shift),o=s;return s.cmp(this.m)>=0?o=s.isub(this.m):0>s.cmpn(0)&&(o=s.iadd(this.m)),o._forceRed(this)},Mont.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},54790:function(e,t,n){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */let i=n(79742),s=n(80645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function createBuffer(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,Buffer.prototype),t}function Buffer(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(e)}return from(e,t,n)}function from(e,t,n){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!Buffer.isEncoding(t))throw TypeError("Unknown encoding: "+t);let n=0|byteLength(e,t),i=createBuffer(n),s=i.write(e,t);return s!==n&&(i=i.slice(0,s)),i}(e,t);if(ArrayBuffer.isView(e))return function(e){if(isInstance(e,Uint8Array)){let t=new Uint8Array(e);return fromArrayBuffer(t.buffer,t.byteOffset,t.byteLength)}return fromArrayLike(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(isInstance(e,SharedArrayBuffer)||e&&isInstance(e.buffer,SharedArrayBuffer)))return fromArrayBuffer(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return Buffer.from(i,t,n);let s=function(e){var t;if(Buffer.isBuffer(e)){let t=0|checked(e.length),n=createBuffer(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?createBuffer(0):fromArrayLike(e):"Buffer"===e.type&&Array.isArray(e.data)?fromArrayLike(e.data):void 0}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return Buffer.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function assertSize(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function allocUnsafe(e){return assertSize(e),createBuffer(e<0?0:0|checked(e))}function fromArrayLike(e){let t=e.length<0?0:0|checked(e.length),n=createBuffer(t);for(let i=0;i<t;i+=1)n[i]=255&e[i];return n}function fromArrayBuffer(e,t,n){let i;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(i=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Buffer.prototype),i}function checked(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let n=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;let s=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return base64ToBytes(e).length;default:if(s)return i?-1:utf8ToBytes(e).length;t=(""+t).toLowerCase(),s=!0}}function slowToString(e,t,n){let s=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){let i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);let s="";for(let i=t;i<n;++i)s+=u[e[i]];return s}(this,t,n);case"utf8":case"utf-8":return utf8Slice(this,t,n);case"ascii":return function(e,t,n){let i="";n=Math.min(e.length,n);for(let s=t;s<n;++s)i+=String.fromCharCode(127&e[s]);return i}(this,t,n);case"latin1":case"binary":return function(e,t,n){let i="";n=Math.min(e.length,n);for(let s=t;s<n;++s)i+=String.fromCharCode(e[s]);return i}(this,t,n);case"base64":var o,a;return o=t,a=n,0===o&&a===this.length?i.fromByteArray(this):i.fromByteArray(this.slice(o,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){let i=e.slice(t,n),s="";for(let e=0;e<i.length-1;e+=2)s+=String.fromCharCode(i[e]+256*i[e+1]);return s}(this,t,n);default:if(s)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function swap(e,t,n){let i=e[t];e[t]=e[n],e[n]=i}function bidirectionalIndexOf(e,t,n,i,s){var o;if(0===e.length)return -1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),(o=n=+n)!=o&&(n=s?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(s)return -1;n=e.length-1}else if(n<0){if(!s)return -1;n=0}if("string"==typeof t&&(t=Buffer.from(t,i)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,n,i,s);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?s?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):arrayIndexOf(e,[t],n,i,s);throw TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,n,i,s){let o,a=1,l=e.length,u=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return -1;a=2,l/=2,u/=2,n/=2}function read(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(s){let i=-1;for(o=n;o<l;o++)if(read(e,o)===read(t,-1===i?0:o-i)){if(-1===i&&(i=o),o-i+1===u)return i*a}else -1!==i&&(o-=o-i),i=-1}else for(n+u>l&&(n=l-u),o=n;o>=0;o--){let n=!0;for(let i=0;i<u;i++)if(read(e,o+i)!==read(t,i)){n=!1;break}if(n)return o}return -1}function utf8Slice(e,t,n){n=Math.min(e.length,n);let i=[],s=t;for(;s<n;){let t=e[s],o=null,a=t>239?4:t>223?3:t>191?2:1;if(s+a<=n){let n,i,l,u;switch(a){case 1:t<128&&(o=t);break;case 2:(192&(n=e[s+1]))==128&&(u=(31&t)<<6|63&n)>127&&(o=u);break;case 3:n=e[s+1],i=e[s+2],(192&n)==128&&(192&i)==128&&(u=(15&t)<<12|(63&n)<<6|63&i)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:n=e[s+1],i=e[s+2],l=e[s+3],(192&n)==128&&(192&i)==128&&(192&l)==128&&(u=(15&t)<<18|(63&n)<<12|(63&i)<<6|63&l)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|1023&o),i.push(o),s+=a}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}function checkOffset(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function checkInt(e,t,n,i,s,o){if(!Buffer.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<o)throw RangeError('"value" argument is out of bounds');if(n+i>e.length)throw RangeError("Index out of range")}function wrtBigUInt64LE(e,t,n,i,s){checkIntBI(t,i,s,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function wrtBigUInt64BE(e,t,n,i,s){checkIntBI(t,i,s,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function checkIEEE754(e,t,n,i,s,o){if(n+i>e.length||n<0)throw RangeError("Index out of range")}function writeFloat(e,t,n,i,o){return t=+t,n>>>=0,o||checkIEEE754(e,t,n,4,34028234663852886e22,-34028234663852886e22),s.write(e,t,n,i,23,4),n+4}function writeDouble(e,t,n,i,o){return t=+t,n>>>=0,o||checkIEEE754(e,t,n,8,17976931348623157e292,-17976931348623157e292),s.write(e,t,n,i,52,8),n+8}t.lW=Buffer,t.h2=50,Buffer.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),Buffer.poolSize=8192,Buffer.from=function(e,t,n){return from(e,t,n)},Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype),Object.setPrototypeOf(Buffer,Uint8Array),Buffer.alloc=function(e,t,n){return(assertSize(e),e<=0)?createBuffer(e):void 0!==t?"string"==typeof n?createBuffer(e).fill(t,n):createBuffer(e).fill(t):createBuffer(e)},Buffer.allocUnsafe=function(e){return allocUnsafe(e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)},Buffer.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==Buffer.prototype},Buffer.compare=function(e,t){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),isInstance(t,Uint8Array)&&(t=Buffer.from(t,t.offset,t.byteLength)),!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,i=t.length;for(let s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==t[s]){n=e[s],i=t[s];break}return n<i?-1:i<n?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){let n;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;let i=Buffer.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){let t=e[n];if(isInstance(t,Uint8Array))s+t.length>i.length?(Buffer.isBuffer(t)||(t=Buffer.from(t)),t.copy(i,s)):Uint8Array.prototype.set.call(i,t,s);else if(Buffer.isBuffer(t))t.copy(i,s);else throw TypeError('"list" argument must be an Array of Buffers');s+=t.length}return i},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){let e="",n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(Buffer.prototype[o]=Buffer.prototype.inspect),Buffer.prototype.compare=function(e,t,n,i,s){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),!Buffer.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===s&&(s=this.length),t<0||n>e.length||i<0||s>this.length)throw RangeError("out of range index");if(i>=s&&t>=n)return 0;if(i>=s)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;let o=s-i,a=n-t,l=Math.min(o,a),u=this.slice(i,s),c=e.slice(t,n);for(let e=0;e<l;++e)if(u[e]!==c[e]){o=u[e],a=c[e];break}return o<a?-1:a<o?1:0},Buffer.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},Buffer.prototype.indexOf=function(e,t,n){return bidirectionalIndexOf(this,e,t,n,!0)},Buffer.prototype.lastIndexOf=function(e,t,n){return bidirectionalIndexOf(this,e,t,n,!1)},Buffer.prototype.write=function(e,t,n,i){var s,o,a,l,u,c,h,d;if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let f=this.length-t;if((void 0===n||n>f)&&(n=f),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let p=!1;for(;;)switch(i){case"hex":return function(e,t,n,i){let s;n=Number(n)||0;let o=e.length-n;i?(i=Number(i))>o&&(i=o):i=o;let a=t.length;for(i>a/2&&(i=a/2),s=0;s<i;++s){let i=parseInt(t.substr(2*s,2),16);if(i!=i)break;e[n+s]=i}return s}(this,e,t,n);case"utf8":case"utf-8":return s=t,o=n,blitBuffer(utf8ToBytes(e,this.length-s),this,s,o);case"ascii":case"latin1":case"binary":return a=t,l=n,blitBuffer(function(e){let t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(e),this,a,l);case"base64":return u=t,c=n,blitBuffer(base64ToBytes(e),this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h=t,d=n,blitBuffer(function(e,t){let n,i;let s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)i=(n=e.charCodeAt(o))>>8,s.push(n%256),s.push(i);return s}(e,this.length-h),this,h,d);default:if(p)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),p=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.slice=function(e,t){let n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,Buffer.prototype),i},Buffer.prototype.readUintLE=Buffer.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||checkOffset(e,t,this.length);let i=this[e],s=1,o=0;for(;++o<t&&(s*=256);)i+=this[e+o]*s;return i},Buffer.prototype.readUintBE=Buffer.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||checkOffset(e,t,this.length);let i=this[e+--t],s=1;for(;t>0&&(s*=256);)i+=this[e+--t]*s;return i},Buffer.prototype.readUint8=Buffer.prototype.readUInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUint16LE=Buffer.prototype.readUInt16LE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUint16BE=Buffer.prototype.readUInt16BE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUint32LE=Buffer.prototype.readUInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUint32BE=Buffer.prototype.readUInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readBigUInt64LE=defineBigIntMethod(function(e){validateNumber(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&boundsError(e,this.length-8);let i=t+256*this[++e]+65536*this[++e]+16777216*this[++e],s=this[++e]+256*this[++e]+65536*this[++e]+16777216*n;return BigInt(i)+(BigInt(s)<<BigInt(32))}),Buffer.prototype.readBigUInt64BE=defineBigIntMethod(function(e){validateNumber(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&boundsError(e,this.length-8);let i=16777216*t+65536*this[++e]+256*this[++e]+this[++e],s=16777216*this[++e]+65536*this[++e]+256*this[++e]+n;return(BigInt(i)<<BigInt(32))+BigInt(s)}),Buffer.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||checkOffset(e,t,this.length);let i=this[e],s=1,o=0;for(;++o<t&&(s*=256);)i+=this[e+o]*s;return i>=(s*=128)&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||checkOffset(e,t,this.length);let i=t,s=1,o=this[e+--i];for(;i>0&&(s*=256);)o+=this[e+--i]*s;return o>=(s*=128)&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function(e,t){return(e>>>=0,t||checkOffset(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},Buffer.prototype.readInt16LE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);let n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt16BE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);let n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readBigInt64LE=defineBigIntMethod(function(e){validateNumber(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&boundsError(e,this.length-8);let i=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),Buffer.prototype.readBigInt64BE=defineBigIntMethod(function(e){validateNumber(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&boundsError(e,this.length-8);let i=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+n)}),Buffer.prototype.readFloatLE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),s.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),s.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),s.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),s.read(this,e,!1,52,8)},Buffer.prototype.writeUintLE=Buffer.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t>>>=0,n>>>=0,!i){let i=Math.pow(2,8*n)-1;checkInt(this,e,t,n,i,0)}let s=1,o=0;for(this[t]=255&e;++o<n&&(s*=256);)this[t+o]=e/s&255;return t+n},Buffer.prototype.writeUintBE=Buffer.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t>>>=0,n>>>=0,!i){let i=Math.pow(2,8*n)-1;checkInt(this,e,t,n,i,0)}let s=n-1,o=1;for(this[t+s]=255&e;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+n},Buffer.prototype.writeUint8=Buffer.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer.prototype.writeUint16LE=Buffer.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeUint16BE=Buffer.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeUint32LE=Buffer.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer.prototype.writeUint32BE=Buffer.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeBigUInt64LE=defineBigIntMethod(function(e,t=0){return wrtBigUInt64LE(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),Buffer.prototype.writeBigUInt64BE=defineBigIntMethod(function(e,t=0){return wrtBigUInt64BE(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),Buffer.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t>>>=0,!i){let i=Math.pow(2,8*n-1);checkInt(this,e,t,n,i-1,-i)}let s=0,o=1,a=0;for(this[t]=255&e;++s<n&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},Buffer.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t>>>=0,!i){let i=Math.pow(2,8*n-1);checkInt(this,e,t,n,i-1,-i)}let s=n-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},Buffer.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeBigInt64LE=defineBigIntMethod(function(e,t=0){return wrtBigUInt64LE(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Buffer.prototype.writeBigInt64BE=defineBigIntMethod(function(e,t=0){return wrtBigUInt64BE(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Buffer.prototype.writeFloatLE=function(e,t,n){return writeFloat(this,e,t,!0,n)},Buffer.prototype.writeFloatBE=function(e,t,n){return writeFloat(this,e,t,!1,n)},Buffer.prototype.writeDoubleLE=function(e,t,n){return writeDouble(this,e,t,!0,n)},Buffer.prototype.writeDoubleBE=function(e,t,n){return writeDouble(this,e,t,!1,n)},Buffer.prototype.copy=function(e,t,n,i){if(!Buffer.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);let s=i-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),s},Buffer.prototype.fill=function(e,t,n,i){let s;if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!Buffer.isEncoding(i))throw TypeError("Unknown encoding: "+i);if(1===e.length){let t=e.charCodeAt(0);("utf8"===i&&t<128||"latin1"===i)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{let o=Buffer.isBuffer(e)?e:Buffer.from(e,i),a=o.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=o[s%a]}return this};let a={};function E(e,t,n){a[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function addNumericalSeparator(e){let t="",n=e.length,i="-"===e[0]?1:0;for(;n>=i+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function checkIntBI(e,t,n,i,s,o){if(e>n||e<t){let i;let s="bigint"==typeof t?"n":"";throw i=o>3?0===t||t===BigInt(0)?`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:`>= ${t}${s} and <= ${n}${s}`,new a.ERR_OUT_OF_RANGE("value",i,e)}validateNumber(s,"offset"),(void 0===i[s]||void 0===i[s+o])&&boundsError(s,i.length-(o+1))}function validateNumber(e,t){if("number"!=typeof e)throw new a.ERR_INVALID_ARG_TYPE(t,"number",e)}function boundsError(e,t,n){if(Math.floor(e)!==e)throw validateNumber(e,n),new a.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new a.ERR_BUFFER_OUT_OF_BOUNDS;throw new a.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}E("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),E("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),E("ERR_OUT_OF_RANGE",function(e,t,n){let i=`The value of "${e}" is out of range.`,s=n;return Number.isInteger(n)&&Math.abs(n)>4294967296?s=addNumericalSeparator(String(n)):"bigint"==typeof n&&(s=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(s=addNumericalSeparator(s)),s+="n"),i+=` It must be ${t}. Received ${s}`},RangeError);let l=/[^+/0-9A-Za-z-_]/g;function utf8ToBytes(e,t){let n;t=t||1/0;let i=e.length,s=null,o=[];for(let a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!s){if(n>56319||a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}s=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),s=n;continue}n=(s-55296<<10|n-56320)+65536}else s&&(t-=3)>-1&&o.push(239,191,189);if(s=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return o}function base64ToBytes(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(l,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,n,i){let s;for(s=0;s<i&&!(s+n>=t.length)&&!(s>=e.length);++s)t[s+n]=e[s];return s}function isInstance(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let u=function(){let e="0123456789abcdef",t=Array(256);for(let n=0;n<16;++n){let i=16*n;for(let s=0;s<16;++s)t[i+s]=e[n]+e[s]}return t}();function defineBigIntMethod(e){return"undefined"==typeof BigInt?BufferBigIntNotDefined:e}function BufferBigIntNotDefined(){throw Error("BigInt not supported")}},37696:function(e,t,n){"use strict";function clsx(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e){if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t)}return i}(e))&&(i&&(i+=" "),i+=t);return i}n.r(t),n.d(t,{clsx:function(){return clsx}}),t.default=clsx},60190:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseBlockTracker=void 0;let s=i(n(60779)),calculateSum=(e,t)=>e+t,o=["sync","latest"];let BaseBlockTracker=class BaseBlockTracker extends s.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||2e4,this._usePastBlocks=e.usePastBlocks||!1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){if(this._currentBlock)return this._currentBlock;let e=await new Promise(e=>this.once("latest",e));return e}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){o.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return o.map(e=>this.listenerCount(e)).reduce(calculateSum)}_shouldUseNewBlock(e){let t=this._currentBlock;if(!t)return!0;let n=hexToInt(e),i=hexToInt(t);return this._usePastBlocks&&n<i||n>i}_newPotentialLatest(e){this._shouldUseNewBlock(e)&&this._setCurrentBlock(e)}_setCurrentBlock(e){let t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}};function hexToInt(e){return Number.parseInt(e,16)}t.BaseBlockTracker=BaseBlockTracker},30790:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PollingBlockTracker=void 0;let s=i(n(23420)),o=i(n(90582)),a=n(60190),l=n(59579),u=(0,l.createModuleLogger)(l.projectLogger,"polling-block-tracker"),c=(0,s.default)();let PollingBlockTracker=class PollingBlockTracker extends a.BaseBlockTracker{constructor(e={}){var t;if(!e.provider)throw Error("PollingBlockTracker - no provider specified.");super(Object.assign(Object.assign({},e),{blockResetDuration:null!==(t=e.blockResetDuration)&&void 0!==t?t:e.pollingInterval})),this._provider=e.provider,this._pollingInterval=e.pollingInterval||2e4,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=void 0===e.keepEventLoopActive||e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();let e=timeout(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await e}catch(i){let t=Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${null!==(e=i.stack)&&void 0!==e?e:i}`);try{this.emit("error",t)}catch(e){console.error(t)}let n=timeout(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await n}}async _updateLatestBlock(){let e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){let e={jsonrpc:"2.0",id:c(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),u("Making request",e);let t=await (0,o.default)(t=>this._provider.sendAsync(e,t))();if(u("Got response",t),t.error)throw Error(`PollingBlockTracker - encountered error fetching block:
${t.error.message}`);return t.result}};function timeout(e,t){return new Promise(n=>{let i=setTimeout(n,e);i.unref&&t&&i.unref()})}t.PollingBlockTracker=PollingBlockTracker},66767:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SubscribeBlockTracker=void 0;let s=i(n(23420)),o=n(60190),a=(0,s.default)();let SubscribeBlockTracker=class SubscribeBlockTracker extends o.BaseBlockTracker{constructor(e={}){if(!e.provider)throw Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(void 0===this._subscriptionId||null===this._subscriptionId)try{let e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(null!==this._subscriptionId&&void 0!==this._subscriptionId)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...t){return new Promise((n,i)=>{this._provider.sendAsync({id:a(),method:e,params:t,jsonrpc:"2.0"},(e,t)=>{e?i(e):n(t.result)})})}_handleSubData(e,t){var n;"eth_subscription"===t.method&&(null===(n=t.params)||void 0===n?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(t.params.result.number)}};t.SubscribeBlockTracker=SubscribeBlockTracker},6842:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(30790),t),s(n(66767),t)},59579:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;let i=n(51614);Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return i.createModuleLogger}}),t.projectLogger=(0,i.createProjectLogger)("eth-block-tracker")},19080:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertExhaustive=t.assertStruct=t.assert=t.AssertionError=void 0;let i=n(97884);function getError(e,t){var n,i;return"string"==typeof(null===(i=null===(n=null==e?void 0:e.prototype)||void 0===n?void 0:n.constructor)||void 0===i?void 0:i.name)?new e({message:t}):e({message:t})}let AssertionError=class AssertionError extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}};t.AssertionError=AssertionError,t.assert=function(e,t="Assertion failed.",n=AssertionError){if(!e){if(t instanceof Error)throw t;throw getError(n,t)}},t.assertStruct=function(e,t,n="Assertion failed",s=AssertionError){try{(0,i.assert)(e,t)}catch(e){throw getError(s,`${n}: ${function(e){let t="object"==typeof e&&null!==e&&"message"in e?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(e)}.`)}},t.assertExhaustive=function(e){throw Error("Invalid branch reached. Should be detected during compilation.")}},37188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base64=void 0;let i=n(97884),s=n(19080);t.base64=(e,t={})=>{var n,o;let a,l;let u=null!==(n=t.paddingRequired)&&void 0!==n&&n,c=null!==(o=t.characterSet)&&void 0!==o?o:"base64";return"base64"===c?a=String.raw`[A-Za-z0-9+\/]`:((0,s.assert)("base64url"===c),a=String.raw`[-_A-Za-z0-9]`),l=u?RegExp(`^(?:${a}{4})*(?:${a}{3}=|${a}{2}==)?$`,"u"):RegExp(`^(?:${a}{4})*(?:${a}{2,3}|${a}{3}=|${a}{2}==)?$`,"u"),(0,i.pattern)(e,l)}},35319:function(e,t,n){"use strict";var i=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.createDataView=t.concatBytes=t.valueToBytes=t.stringToBytes=t.numberToBytes=t.signedBigIntToBytes=t.bigIntToBytes=t.hexToBytes=t.bytesToString=t.bytesToNumber=t.bytesToSignedBigInt=t.bytesToBigInt=t.bytesToHex=t.assertIsBytes=t.isBytes=void 0;let s=n(19080),o=n(57229),a=function(){let e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function isBytes(e){return e instanceof Uint8Array}function assertIsBytes(e){(0,s.assert)(isBytes(e),"Value must be a Uint8Array.")}function bytesToHex(e){if(assertIsBytes(e),0===e.length)return"0x";let t=a(),n=Array(e.length);for(let i=0;i<e.length;i++)n[i]=t[e[i]];return(0,o.add0x)(n.join(""))}function bytesToBigInt(e){assertIsBytes(e);let t=bytesToHex(e);return BigInt(t)}function hexToBytes(e){var t;if((null===(t=null==e?void 0:e.toLowerCase)||void 0===t?void 0:t.call(e))==="0x")return new Uint8Array;(0,o.assertIsHexString)(e);let n=(0,o.remove0x)(e).toLowerCase(),i=n.length%2==0?n:`0${n}`,s=new Uint8Array(i.length/2);for(let e=0;e<s.length;e++){let t=i.charCodeAt(2*e),n=i.charCodeAt(2*e+1),o=t-(t<58?48:87),a=n-(n<58?48:87);s[e]=16*o+a}return s}function bigIntToBytes(e){(0,s.assert)("bigint"==typeof e,"Value must be a bigint."),(0,s.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");let t=e.toString(16);return hexToBytes(t)}function numberToBytes(e){(0,s.assert)("number"==typeof e,"Value must be a number."),(0,s.assert)(e>=0,"Value must be a non-negative number."),(0,s.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");let t=e.toString(16);return hexToBytes(t)}function stringToBytes(e){return(0,s.assert)("string"==typeof e,"Value must be a string."),new TextEncoder().encode(e)}function valueToBytes(e){if("bigint"==typeof e)return bigIntToBytes(e);if("number"==typeof e)return numberToBytes(e);if("string"==typeof e)return e.startsWith("0x")?hexToBytes(e):stringToBytes(e);if(isBytes(e))return e;throw TypeError(`Unsupported value type: "${typeof e}".`)}t.isBytes=isBytes,t.assertIsBytes=assertIsBytes,t.bytesToHex=bytesToHex,t.bytesToBigInt=bytesToBigInt,t.bytesToSignedBigInt=function(e){assertIsBytes(e);let t=BigInt(0);for(let n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(8*e.length,t)},t.bytesToNumber=function(e){assertIsBytes(e);let t=bytesToBigInt(e);return(0,s.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},t.bytesToString=function(e){return assertIsBytes(e),new TextDecoder().decode(e)},t.hexToBytes=hexToBytes,t.bigIntToBytes=bigIntToBytes,t.signedBigIntToBytes=function(e,t){(0,s.assert)("bigint"==typeof e,"Value must be a bigint."),(0,s.assert)("number"==typeof t,"Byte length must be a number."),(0,s.assert)(t>0,"Byte length must be greater than 0."),(0,s.assert)(function(e,t){(0,s.assert)(t>0);let n=e>>BigInt(31);return!((~e&n)+(e&~n)>>BigInt(8*t+-1))}(e,t),"Byte length is too small to represent the given value.");let n=e,i=new Uint8Array(t);for(let e=0;e<i.length;e++)i[e]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return i.reverse()},t.numberToBytes=numberToBytes,t.stringToBytes=stringToBytes,t.valueToBytes=valueToBytes,t.concatBytes=function(e){let t=Array(e.length),n=0;for(let i=0;i<e.length;i++){let s=valueToBytes(e[i]);t[i]=s,n+=s.length}let i=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)i.set(t[e],n),n+=t[e].length;return i},t.createDataView=function(e){if(void 0!==i&&e instanceof i){let t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}},44713:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChecksumStruct=void 0;let i=n(97884),s=n(37188);t.ChecksumStruct=(0,i.size)((0,s.base64)((0,i.string)(),{paddingRequired:!0}),44,44)},62077:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHex=t.createBytes=t.createBigInt=t.createNumber=void 0;let i=n(97884),s=n(19080),o=n(35319),a=n(57229),l=(0,i.union)([(0,i.number)(),(0,i.bigint)(),(0,i.string)(),a.StrictHexStruct]),u=(0,i.coerce)((0,i.number)(),l,Number),c=(0,i.coerce)((0,i.bigint)(),l,BigInt);(0,i.union)([a.StrictHexStruct,(0,i.instance)(Uint8Array)]);let h=(0,i.coerce)((0,i.instance)(Uint8Array),(0,i.union)([a.StrictHexStruct]),o.hexToBytes),d=(0,i.coerce)(a.StrictHexStruct,(0,i.instance)(Uint8Array),o.bytesToHex);t.createNumber=function(e){try{let t=(0,i.create)(e,u);return(0,s.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof i.StructError)throw Error(`Expected a number-like value, got "${e}".`);throw t}},t.createBigInt=function(e){try{return(0,i.create)(e,c)}catch(e){if(e instanceof i.StructError)throw Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},t.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,i.create)(e,h)}catch(e){if(e instanceof i.StructError)throw Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},t.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,i.create)(e,d)}catch(e){if(e instanceof i.StructError)throw Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}},94514:function(e,t){"use strict";var n,i,s=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!s)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.FrozenSet=t.FrozenMap=void 0;let FrozenMap=class FrozenMap{constructor(e){n.set(this,void 0),s(this,n,new Map(e),"f"),Object.freeze(this)}get size(){return o(this,n,"f").size}[(n=new WeakMap,Symbol.iterator)](){return o(this,n,"f")[Symbol.iterator]()}entries(){return o(this,n,"f").entries()}forEach(e,t){return o(this,n,"f").forEach((n,i,s)=>e.call(t,n,i,this))}get(e){return o(this,n,"f").get(e)}has(e){return o(this,n,"f").has(e)}keys(){return o(this,n,"f").keys()}values(){return o(this,n,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,t])=>`${String(e)} => ${String(t)}`).join(", ")} `:""}}`}};t.FrozenMap=FrozenMap;let FrozenSet=class FrozenSet{constructor(e){i.set(this,void 0),s(this,i,new Set(e),"f"),Object.freeze(this)}get size(){return o(this,i,"f").size}[(i=new WeakMap,Symbol.iterator)](){return o(this,i,"f")[Symbol.iterator]()}entries(){return o(this,i,"f").entries()}forEach(e,t){return o(this,i,"f").forEach((n,i,s)=>e.call(t,n,i,this))}has(e){return o(this,i,"f").has(e)}keys(){return o(this,i,"f").keys()}values(){return o(this,i,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}};t.FrozenSet=FrozenSet,Object.freeze(FrozenMap),Object.freeze(FrozenMap.prototype),Object.freeze(FrozenSet),Object.freeze(FrozenSet.prototype)},430:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},57229:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;let i=n(97884),s=n(19080);function isHexString(e){return(0,i.is)(e,t.HexStruct)}function isStrictHexString(e){return(0,i.is)(e,t.StrictHexStruct)}t.HexStruct=(0,i.pattern)((0,i.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,i.pattern)((0,i.string)(),/^0x[0-9a-f]+$/iu),t.isHexString=isHexString,t.isStrictHexString=isStrictHexString,t.assertIsHexString=function(e){(0,s.assert)(isHexString(e),"Value must be a hexadecimal string.")},t.assertIsStrictHexString=function(e){(0,s.assert)(isStrictHexString(e),'Value must be a hexadecimal string, starting with "0x".')},t.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},t.remove0x=function(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}},51614:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(19080),t),s(n(37188),t),s(n(35319),t),s(n(44713),t),s(n(62077),t),s(n(94514),t),s(n(430),t),s(n(57229),t),s(n(76653),t),s(n(86960),t),s(n(4178),t),s(n(84363),t),s(n(47155),t),s(n(65715),t),s(n(90281),t),s(n(36636),t),s(n(93481),t)},76653:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.getJsonSize=t.isValidJson=t.JsonStruct=t.UnsafeJsonStruct=void 0;let i=n(97884),s=n(19080);t.UnsafeJsonStruct=(0,i.union)([(0,i.literal)(null),(0,i.boolean)(),(0,i.define)("finite number",e=>(0,i.is)(e,(0,i.number)())&&Number.isFinite(e)),(0,i.string)(),(0,i.array)((0,i.lazy)(()=>t.UnsafeJsonStruct)),(0,i.record)((0,i.string)(),(0,i.lazy)(()=>t.UnsafeJsonStruct))]),t.JsonStruct=(0,i.define)("Json",(e,n)=>{function checkStruct(e,t){let i=t.validator(e,n),s=[...i];return!(s.length>0)||s}try{let n=checkStruct(e,t.UnsafeJsonStruct);if(!0!==n)return n;return checkStruct(JSON.parse(JSON.stringify(e)),t.UnsafeJsonStruct)}catch(e){if(e instanceof RangeError)return"Circular reference detected";return!1}}),t.isValidJson=function(e){return(0,i.is)(e,t.JsonStruct)},t.getJsonSize=function(e){(0,s.assertStruct)(e,t.JsonStruct,"Invalid JSON value");let n=JSON.stringify(e);return new TextEncoder().encode(n).byteLength},t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,i.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,i.nullable)((0,i.union)([(0,i.number)(),(0,i.string)()])),t.JsonRpcErrorStruct=(0,i.object)({code:(0,i.integer)(),message:(0,i.string)(),data:(0,i.optional)(t.JsonStruct),stack:(0,i.optional)((0,i.string)())}),t.JsonRpcParamsStruct=(0,i.optional)((0,i.union)([(0,i.record)((0,i.string)(),t.JsonStruct),(0,i.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,i.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,i.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,i.omit)(t.JsonRpcRequestStruct,["id"]),t.isJsonRpcNotification=function(e){return(0,i.is)(e,t.JsonRpcNotificationStruct)},t.assertIsJsonRpcNotification=function(e,n){(0,s.assertStruct)(e,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",n)},t.isJsonRpcRequest=function(e){return(0,i.is)(e,t.JsonRpcRequestStruct)},t.assertIsJsonRpcRequest=function(e,n){(0,s.assertStruct)(e,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",n)},t.PendingJsonRpcResponseStruct=(0,i.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,i.optional)((0,i.unknown)()),error:(0,i.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,i.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,i.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,i.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]),t.isPendingJsonRpcResponse=function(e){return(0,i.is)(e,t.PendingJsonRpcResponseStruct)},t.assertIsPendingJsonRpcResponse=function(e,n){(0,s.assertStruct)(e,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",n)},t.isJsonRpcResponse=function(e){return(0,i.is)(e,t.JsonRpcResponseStruct)},t.assertIsJsonRpcResponse=function(e,n){(0,s.assertStruct)(e,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",n)},t.isJsonRpcSuccess=function(e){return(0,i.is)(e,t.JsonRpcSuccessStruct)},t.assertIsJsonRpcSuccess=function(e,n){(0,s.assertStruct)(e,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",n)},t.isJsonRpcFailure=function(e){return(0,i.is)(e,t.JsonRpcFailureStruct)},t.assertIsJsonRpcFailure=function(e,n){(0,s.assertStruct)(e,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",n)},t.isJsonRpcError=function(e){return(0,i.is)(e,t.JsonRpcErrorStruct)},t.assertIsJsonRpcError=function(e,n){(0,s.assertStruct)(e,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",n)},t.getJsonRpcIdValidator=function(e){let{permitEmptyString:t,permitFractions:n,permitNull:i}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},e);return e=>!!("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||i&&null===e)}},86960:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4178:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.createProjectLogger=void 0;let s=i(n(11227)),o=(0,s.default)("metamask");t.createProjectLogger=function(e){return o.extend(e)},t.createModuleLogger=function(e,t){return e.extend(t)}},84363:function(e,t){"use strict";var n;function isASCII(e){return 127>=e.charCodeAt(0)}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0,t.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},t.isNullOrUndefined=function(e){return null==e},t.isObject=function(e){return!!e&&"object"==typeof e&&!Array.isArray(e)},t.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),(n=t.JsonSize||(t.JsonSize={}))[n.Null=4]="Null",n[n.Comma=1]="Comma",n[n.Wrapper=1]="Wrapper",n[n.True=4]="True",n[n.False=5]="False",n[n.Quote=1]="Quote",n[n.Colon=1]="Colon",n[n.Date=24]="Date",t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,t.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},t.isASCII=isASCII,t.calculateStringSize=function(e){var n;let i=e.split("").reduce((e,t)=>isASCII(t)?e+1:e+2,0);return i+(null!==(n=e.match(t.ESCAPE_CHARACTERS_REGEXP))&&void 0!==n?n:[]).length},t.calculateNumberSize=function(e){return e.toString().length}},47155:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToBigInt=t.hexToNumber=t.bigIntToHex=t.numberToHex=void 0;let i=n(19080),s=n(57229);t.numberToHex=e=>((0,i.assert)("number"==typeof e,"Value must be a number."),(0,i.assert)(e>=0,"Value must be a non-negative number."),(0,i.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,s.add0x)(e.toString(16))),t.bigIntToHex=e=>((0,i.assert)("bigint"==typeof e,"Value must be a bigint."),(0,i.assert)(e>=0,"Value must be a non-negative bigint."),(0,s.add0x)(e.toString(16))),t.hexToNumber=e=>{(0,s.assertIsHexString)(e);let t=parseInt(e,16);return(0,i.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},t.hexToBigInt=e=>((0,s.assertIsHexString)(e),BigInt((0,s.add0x)(e)))},65715:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},90281:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,(n=t.Duration||(t.Duration={}))[n.Millisecond=1]="Millisecond",n[n.Second=1e3]="Second",n[n.Minute=6e4]="Minute",n[n.Hour=36e5]="Hour",n[n.Day=864e5]="Day",n[n.Week=6048e5]="Week",n[n.Year=31536e6]="Year";let isNonNegativeInteger=e=>Number.isInteger(e)&&e>=0,assertIsNonNegativeInteger=(e,t)=>{if(!isNonNegativeInteger(e))throw Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};t.inMilliseconds=function(e,t){return assertIsNonNegativeInteger(e,"count"),e*t},t.timeSince=function(e){return assertIsNonNegativeInteger(e,"timestamp"),Date.now()-e}},36636:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},93481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;let i=n(81249),s=n(97884),o=n(19080);t.VersionStruct=(0,s.refine)((0,s.string)(),"Version",e=>null!==(0,i.valid)(e)||`Expected SemVer version, got "${e}"`),t.VersionRangeStruct=(0,s.refine)((0,s.string)(),"Version range",e=>null!==(0,i.validRange)(e)||`Expected SemVer range, got "${e}"`),t.isValidSemVerVersion=function(e){return(0,s.is)(e,t.VersionStruct)},t.isValidSemVerRange=function(e){return(0,s.is)(e,t.VersionRangeStruct)},t.assertIsSemVerVersion=function(e){(0,o.assertStruct)(e,t.VersionStruct)},t.assertIsSemVerRange=function(e){(0,o.assertStruct)(e,t.VersionRangeStruct)},t.gtVersion=function(e,t){return(0,i.gt)(e,t)},t.gtRange=function(e,t){return(0,i.gtr)(e,t)},t.satisfiesVersionRange=function(e,t){return(0,i.satisfies)(e,t,{includePrerelease:!0})}},90582:function(e){"use strict";let processFn=(e,t)=>function(){let n=t.promiseModule,i=Array(arguments.length);for(let e=0;e<arguments.length;e++)i[e]=arguments[e];return new n((n,s)=>{t.errorFirst?i.push(function(e,i){if(t.multiArgs){let t=Array(arguments.length-1);for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];e?(t.unshift(e),s(t)):n(t)}else e?s(e):n(i)}):i.push(function(e){if(t.multiArgs){let e=Array(arguments.length-1);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];n(e)}else n(e)}),e.apply(this,i)})};e.exports=(e,t)=>{let n;t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);let filter=e=>{let match=t=>"string"==typeof t?e===t:t.test(e);return t.include?t.include.some(match):!t.exclude.some(match)};for(let i in n="function"==typeof e?function(){return t.excludeMain?e.apply(this,arguments):processFn(e,t).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e)),e){let s=e[i];n[i]="function"==typeof s&&filter(i)?processFn(s,t):s}return n}},23256:function(e,t,n){let i=n(76622);e.exports=class extends i{constructor(){super(),this.allResults=[]}async update(){throw Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}},76622:function(e,t,n){let i=n(60779).default;e.exports=class extends i{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(e=>this.emit("update",e))}addInitialResults(e){}getChangesAndClear(){let e=this.updates;return this.updates=[],e}}},72785:function(e,t,n){let i=n(76622),s=n(40207),{incrementHexInt:o}=n(98112);e.exports=class extends i{constructor({provider:e,params:t}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:t}){let n=o(e),i=await s({provider:this.provider,fromBlock:n,toBlock:t}),a=i.map(e=>e.hash);this.addResults(a)}}},40207:function(e){async function getBlocksForRange({provider:e,fromBlock:t,toBlock:n}){t||(t=n);let i=hexToInt(t),s=hexToInt(n),o=s-i+1,a=Array(o).fill().map((e,t)=>i+t).map(intToHex);return(await Promise.all(a.map(t=>query(e,"eth_getBlockByNumber",[t,!1])))).filter(e=>null!==e)}function hexToInt(e){return null==e?e:Number.parseInt(e,16)}function intToHex(e){if(null==e)return e;let t=e.toString(16);return"0x"+t}async function query(e,t,n){for(let i=0;i<3;i++)try{return await function(e,t){return new Promise((n,i)=>{e.sendAsync(t,(e,t)=>{e?i(e):t.error?i(t.error):t.result?n(t.result):i(Error("Result was empty"))})})}(e,{id:1,jsonrpc:"2.0",method:t,params:n})}catch(e){console.error(`provider.sendAsync failed: ${e.stack||e.message||e}`)}return null}e.exports=getBlocksForRange},98112:function(e){function sortBlockRefs(e){return e.sort((e,t)=>"latest"===e||"earliest"===t?1:"latest"===t||"earliest"===e?-1:hexToInt(e)-hexToInt(t))}function hexToInt(e){return null==e?e:Number.parseInt(e,16)}function intToHex(e){if(null==e)return e;let t=e.toString(16),n=t.length%2;return n&&(t="0"+t),"0x"+t}function unsafeRandomNibble(){return Math.floor(16*Math.random()).toString(16)}e.exports={minBlockRef:function(...e){let t=sortBlockRefs(e);return t[0]},maxBlockRef:function(...e){let t=sortBlockRefs(e);return t[t.length-1]},sortBlockRefs,bnToHex:function(e){return"0x"+e.toString(16)},blockRefIsNumber:function(e){return e&&!["earliest","latest","pending"].includes(e)},hexToInt,incrementHexInt:function(e){if(null==e)return e;let t=hexToInt(e);return intToHex(t+1)},intToHex,unsafeRandomBytes:function(e){let t="0x";for(let n=0;n<e;n++)t+=unsafeRandomNibble()+unsafeRandomNibble();return t}}},98406:function(e,t,n){let i=n(48125).WU,{createAsyncMiddleware:s,createScaffoldMiddleware:o}=n(88625),a=n(81663),l=n(72785),u=n(25792),{intToHex:c,hexToInt:h}=n(98112);function toFilterCreationMiddleware(e){return toAsyncRpcMiddleware(async(...t)=>{let n=await e(...t),i=c(n.id);return i})}function toAsyncRpcMiddleware(e){return s(async(t,n)=>{let i=await e.apply(null,t.params);n.result=i})}function objValues(e,t){let n=[];for(let t in e)n.push(e[t]);return n}e.exports=function({blockTracker:e,provider:t}){let n=0,s={},d=new i,f=function({mutex:e}){return t=>async(n,i,s,o)=>{let a=await e.acquire();a(),t(n,i,s,o)}}({mutex:d}),p=o({eth_newFilter:f(toFilterCreationMiddleware(newLogFilter)),eth_newBlockFilter:f(toFilterCreationMiddleware(newBlockFilter)),eth_newPendingTransactionFilter:f(toFilterCreationMiddleware(newPendingTransactionFilter)),eth_uninstallFilter:f(toAsyncRpcMiddleware(uninstallFilterHandler)),eth_getFilterChanges:f(toAsyncRpcMiddleware(getFilterChanges)),eth_getFilterLogs:f(toAsyncRpcMiddleware(getFilterLogs))}),filterUpdater=async({oldBlock:e,newBlock:t})=>{if(0===s.length)return;let n=await d.acquire();try{await Promise.all(objValues(s).map(async n=>{try{await n.update({oldBlock:e,newBlock:t})}catch(e){console.error(e)}}))}catch(e){console.error(e)}n()};return p.newLogFilter=newLogFilter,p.newBlockFilter=newBlockFilter,p.newPendingTransactionFilter=newPendingTransactionFilter,p.uninstallFilter=uninstallFilterHandler,p.getFilterChanges=getFilterChanges,p.getFilterLogs=getFilterLogs,p.destroy=()=>{uninstallAllFilters()},p;async function newLogFilter(e){let n=new a({provider:t,params:e});return await installFilter(n),n}async function newBlockFilter(){let e=new l({provider:t});return await installFilter(e),e}async function newPendingTransactionFilter(){let e=new u({provider:t});return await installFilter(e),e}async function getFilterChanges(e){let t=h(e),n=s[t];if(!n)throw Error(`No filter for index "${t}"`);let i=n.getChangesAndClear();return i}async function getFilterLogs(e){let t=h(e),n=s[t];if(!n)throw Error(`No filter for index "${t}"`);let i=[];return"log"===n.type&&(i=n.getAllResults()),i}async function uninstallFilterHandler(e){let t=h(e),n=s[t],i=!!n;return i&&await uninstallFilter(t),i}async function installFilter(t){let i=objValues(s).length,o=await e.getLatestBlock();await t.initialize({currentBlock:o}),s[++n]=t,t.id=n,t.idHex=c(n);let a=objValues(s).length;return updateBlockTrackerSubs({prevFilterCount:i,newFilterCount:a}),n}async function uninstallFilter(e){let t=objValues(s).length;delete s[e];let n=objValues(s).length;updateBlockTrackerSubs({prevFilterCount:t,newFilterCount:n})}async function uninstallAllFilters(){let e=objValues(s).length;s={},updateBlockTrackerSubs({prevFilterCount:e,newFilterCount:0})}function updateBlockTrackerSubs({prevFilterCount:t,newFilterCount:n}){if(0===t&&n>0){e.on("sync",filterUpdater);return}if(t>0&&0===n){e.removeListener("sync",filterUpdater);return}}}},81663:function(e,t,n){let i=n(75682),s=n(6417),o=n(23256),{bnToHex:a,hexToInt:l,incrementHexInt:u,minBlockRef:c,blockRefIsNumber:h}=n(98112);e.exports=class extends o{constructor({provider:e,params:t}){super(),this.type="log",this.ethQuery=new i(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},t),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(e=>e.toLowerCase()))}async initialize({currentBlock:e}){let t=this.params.fromBlock;["latest","pending"].includes(t)&&(t=e),"earliest"===t&&(t="0x0"),this.params.fromBlock=t;let n=c(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:t}){let n;n=e?u(e):t;let i=Object.assign({},this.params,{fromBlock:n,toBlock:t}),s=await this._fetchLogs(i),o=s.filter(e=>this.matchLog(e));this.addResults(o)}async _fetchLogs(e){let t=await s(t=>this.ethQuery.getLogs(e,t))();return t}matchLog(e){if(l(this.params.fromBlock)>=l(e.blockNumber)||h(this.params.toBlock)&&l(this.params.toBlock)<=l(e.blockNumber))return!1;let t=e.address&&e.address.toLowerCase();if(this.params.address&&t&&!this.params.address.includes(t))return!1;let n=this.params.topics.every((t,n)=>{let i=e.topics[n];if(!i)return!1;i=i.toLowerCase();let s=Array.isArray(t)?t:[t],o=s.includes(null);if(o)return!0;s=s.map(e=>e.toLowerCase());let a=s.includes(i);return a});return n}}},6417:function(e){"use strict";let processFn=(e,t,n,i)=>function(...s){let o=t.promiseModule;return new o((o,a)=>{t.multiArgs?s.push((...e)=>{t.errorFirst?e[0]?a(e):(e.shift(),o(e)):o(e)}):t.errorFirst?s.push((e,t)=>{e?a(e):o(t)}):s.push(o);let l=this===n?i:this;Reflect.apply(e,l,s)})},t=new WeakMap;e.exports=(e,n)=>{n={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...n};let i=typeof e;if(!(null!==e&&("object"===i||"function"===i)))throw TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":i}\``);let filter=(e,i)=>{let s=t.get(e);if(s||(s={},t.set(e,s)),i in s)return s[i];let match=e=>"string"==typeof e||"symbol"==typeof i?i===e:e.test(i),o=Reflect.getOwnPropertyDescriptor(e,i),a=void 0===o||o.writable||o.configurable,l=n.include?n.include.some(match):!n.exclude.some(match),u=l&&a;return s[i]=u,u},s=new WeakMap,o=new Proxy(e,{apply(e,t,i){let a=s.get(e);if(a)return Reflect.apply(a,t,i);let l=n.excludeMain?e:processFn(e,n,o,e);return s.set(e,l),Reflect.apply(l,t,i)},get(e,t){let i=e[t];if(!filter(e,t)||i===Function.prototype[t])return i;let a=s.get(i);if(a)return a;if("function"==typeof i){let t=processFn(i,n,o,e);return s.set(i,t),t}return i}});return o}},62876:function(e,t,n){let i=n(60779).default,{createAsyncMiddleware:s,createScaffoldMiddleware:o}=n(88625),a=n(98406),{unsafeRandomBytes:l,incrementHexInt:u}=n(98112),c=n(40207);function normalizeBlock(e){return null==e?null:{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}e.exports=function({blockTracker:e,provider:t}){let n={},h=a({blockTracker:e,provider:t}),d=!1,f=new i,p=o({eth_subscribe:s(subscribe),eth_unsubscribe:s(unsubscribe)});return p.destroy=function(){for(let e in f.removeAllListeners(),n)n[e].destroy(),delete n[e];d=!0},{events:f,middleware:p};async function subscribe(i,s){let o;if(d)throw Error("SubscriptionManager - attempting to use after destroying");let a=i.params[0],f=l(16);switch(a){case"newHeads":o=function({subId:n}){let i={type:a,destroy:async()=>{e.removeListener("sync",i.update)},update:async({oldBlock:e,newBlock:i})=>{let s=u(e),o=await c({provider:t,fromBlock:s,toBlock:i}),a=o.map(normalizeBlock).filter(e=>null!==e);a.forEach(e=>{_emitSubscriptionResult(n,e)})}};return e.on("sync",i.update),i}({subId:f});break;case"logs":let p=i.params[1],g=await h.newLogFilter(p);o=function({subId:e,filter:t}){return t.on("update",t=>_emitSubscriptionResult(e,t)),{type:a,destroy:async()=>await h.uninstallFilter(t.idHex)}}({subId:f,filter:g});break;default:throw Error(`SubscriptionManager - unsupported subscription type "${a}"`)}n[f]=o,s.result=f}async function unsubscribe(e,t){if(d)throw Error("SubscriptionManager - attempting to use after destroying");let i=e.params[0],s=n[i];if(!s){t.result=!1;return}delete n[i],await s.destroy(),t.result=!0}function _emitSubscriptionResult(e,t){f.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:t}})}}},25792:function(e,t,n){let i=n(76622),s=n(40207),{incrementHexInt:o}=n(98112);e.exports=class extends i{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){let t=o(e),n=await s({provider:this.provider,fromBlock:t,toBlock:e}),i=[];for(let e of n)i.push(...e.transactions);this.addResults(i)}}},75682:function(e,t,n){let i=n(47529),s=n(23420)();function EthQuery(e){this.currentProvider=e}function generateFnFor(e){return function(){var t=[].slice.call(arguments),n=t.pop();this.sendAsync({method:e,params:t},n)}}function generateFnWithDefaultBlockFor(e,t){return function(){var n=[].slice.call(arguments),i=n.pop();n.length<e&&n.push("latest"),this.sendAsync({method:t,params:n},i)}}e.exports=EthQuery,EthQuery.prototype.getBalance=generateFnWithDefaultBlockFor(2,"eth_getBalance"),EthQuery.prototype.getCode=generateFnWithDefaultBlockFor(2,"eth_getCode"),EthQuery.prototype.getTransactionCount=generateFnWithDefaultBlockFor(2,"eth_getTransactionCount"),EthQuery.prototype.getStorageAt=generateFnWithDefaultBlockFor(3,"eth_getStorageAt"),EthQuery.prototype.call=generateFnWithDefaultBlockFor(2,"eth_call"),EthQuery.prototype.protocolVersion=generateFnFor("eth_protocolVersion"),EthQuery.prototype.syncing=generateFnFor("eth_syncing"),EthQuery.prototype.coinbase=generateFnFor("eth_coinbase"),EthQuery.prototype.mining=generateFnFor("eth_mining"),EthQuery.prototype.hashrate=generateFnFor("eth_hashrate"),EthQuery.prototype.gasPrice=generateFnFor("eth_gasPrice"),EthQuery.prototype.accounts=generateFnFor("eth_accounts"),EthQuery.prototype.blockNumber=generateFnFor("eth_blockNumber"),EthQuery.prototype.getBlockTransactionCountByHash=generateFnFor("eth_getBlockTransactionCountByHash"),EthQuery.prototype.getBlockTransactionCountByNumber=generateFnFor("eth_getBlockTransactionCountByNumber"),EthQuery.prototype.getUncleCountByBlockHash=generateFnFor("eth_getUncleCountByBlockHash"),EthQuery.prototype.getUncleCountByBlockNumber=generateFnFor("eth_getUncleCountByBlockNumber"),EthQuery.prototype.sign=generateFnFor("eth_sign"),EthQuery.prototype.sendTransaction=generateFnFor("eth_sendTransaction"),EthQuery.prototype.sendRawTransaction=generateFnFor("eth_sendRawTransaction"),EthQuery.prototype.estimateGas=generateFnFor("eth_estimateGas"),EthQuery.prototype.getBlockByHash=generateFnFor("eth_getBlockByHash"),EthQuery.prototype.getBlockByNumber=generateFnFor("eth_getBlockByNumber"),EthQuery.prototype.getTransactionByHash=generateFnFor("eth_getTransactionByHash"),EthQuery.prototype.getTransactionByBlockHashAndIndex=generateFnFor("eth_getTransactionByBlockHashAndIndex"),EthQuery.prototype.getTransactionByBlockNumberAndIndex=generateFnFor("eth_getTransactionByBlockNumberAndIndex"),EthQuery.prototype.getTransactionReceipt=generateFnFor("eth_getTransactionReceipt"),EthQuery.prototype.getUncleByBlockHashAndIndex=generateFnFor("eth_getUncleByBlockHashAndIndex"),EthQuery.prototype.getUncleByBlockNumberAndIndex=generateFnFor("eth_getUncleByBlockNumberAndIndex"),EthQuery.prototype.getCompilers=generateFnFor("eth_getCompilers"),EthQuery.prototype.compileLLL=generateFnFor("eth_compileLLL"),EthQuery.prototype.compileSolidity=generateFnFor("eth_compileSolidity"),EthQuery.prototype.compileSerpent=generateFnFor("eth_compileSerpent"),EthQuery.prototype.newFilter=generateFnFor("eth_newFilter"),EthQuery.prototype.newBlockFilter=generateFnFor("eth_newBlockFilter"),EthQuery.prototype.newPendingTransactionFilter=generateFnFor("eth_newPendingTransactionFilter"),EthQuery.prototype.uninstallFilter=generateFnFor("eth_uninstallFilter"),EthQuery.prototype.getFilterChanges=generateFnFor("eth_getFilterChanges"),EthQuery.prototype.getFilterLogs=generateFnFor("eth_getFilterLogs"),EthQuery.prototype.getLogs=generateFnFor("eth_getLogs"),EthQuery.prototype.getWork=generateFnFor("eth_getWork"),EthQuery.prototype.submitWork=generateFnFor("eth_submitWork"),EthQuery.prototype.submitHashrate=generateFnFor("eth_submitHashrate"),EthQuery.prototype.sendAsync=function(e,t){this.currentProvider.sendAsync(i({id:s(),jsonrpc:"2.0",params:[]},e),function(e,n){if(!e&&n.error&&(e=Error("EthQuery - RPC Error - "+n.error.message)),e)return t(e);t(null,n.result)})}},12294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;let i=n(4445);let EthereumRpcError=class EthereumRpcError extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==n&&(this.data=n)}serialize(){let e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return i.default(this.serialize(),stringifyReplacer,2)}};function stringifyReplacer(e,t){if("[Circular]"!==t)return t}t.EthereumRpcError=EthereumRpcError,t.EthereumProviderError=class extends EthereumRpcError{constructor(e,t,n){if(!(Number.isInteger(e)&&e>=1e3&&e<=4999))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}},92662:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},68797:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;let i=n(12294),s=n(68753),o=n(92662);function getEthJsonRpcError(e,t){let[n,o]=parseOpts(t);return new i.EthereumRpcError(e,n||s.getMessageFromCode(e),o)}function getEthProviderError(e,t){let[n,o]=parseOpts(t);return new i.EthereumProviderError(e,n||s.getMessageFromCode(e),o)}function parseOpts(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){let{message:t,data:n}=e;if(t&&"string"!=typeof t)throw Error("Must specify string message.");return[t||void 0,n]}}return[]}t.ethErrors={rpc:{parse:e=>getEthJsonRpcError(o.errorCodes.rpc.parse,e),invalidRequest:e=>getEthJsonRpcError(o.errorCodes.rpc.invalidRequest,e),invalidParams:e=>getEthJsonRpcError(o.errorCodes.rpc.invalidParams,e),methodNotFound:e=>getEthJsonRpcError(o.errorCodes.rpc.methodNotFound,e),internal:e=>getEthJsonRpcError(o.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw Error('"code" must be an integer such that: -32099 <= code <= -32005');return getEthJsonRpcError(t,e)},invalidInput:e=>getEthJsonRpcError(o.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>getEthJsonRpcError(o.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>getEthJsonRpcError(o.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>getEthJsonRpcError(o.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>getEthJsonRpcError(o.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>getEthJsonRpcError(o.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>getEthProviderError(o.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>getEthProviderError(o.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>getEthProviderError(o.errorCodes.provider.unsupportedMethod,e),disconnected:e=>getEthProviderError(o.errorCodes.provider.disconnected,e),chainDisconnected:e=>getEthProviderError(o.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:t,message:n,data:s}=e;if(!n||"string"!=typeof n)throw Error('"message" must be a nonempty string');return new i.EthereumProviderError(t,n,s)}}}},79826:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;let i=n(12294);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return i.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return i.EthereumProviderError}});let s=n(68753);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return s.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return s.getMessageFromCode}});let o=n(68797);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}});let a=n(92662);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})},68753:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;let i=n(92662),s=n(12294),o=i.errorCodes.rpc.internal,a={code:o,message:getMessageFromCode(o)};function getMessageFromCode(e,n="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){let n=e.toString();if(hasKey(i.errorValues,n))return i.errorValues[n].message;if(e>=-32099&&e<=-32e3)return t.JSON_RPC_SERVER_ERROR_MESSAGE}return n}function isValidCode(e){if(!Number.isInteger(e))return!1;let t=e.toString();return!!(i.errorValues[t]||e>=-32099&&e<=-32e3)}function assignOriginalError(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function hasKey(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=getMessageFromCode,t.isValidCode=isValidCode,t.serializeError=function(e,{fallbackError:t=a,shouldIncludeStack:n=!1}={}){if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw Error("Must provide fallback error with integer number code and string message.");if(e instanceof s.EthereumRpcError)return e.serialize();let i={};if(e&&"object"==typeof e&&!Array.isArray(e)&&hasKey(e,"code")&&isValidCode(e.code))i.code=e.code,e.message&&"string"==typeof e.message?(i.message=e.message,hasKey(e,"data")&&(i.data=e.data)):(i.message=getMessageFromCode(i.code),i.data={originalError:assignOriginalError(e)});else{i.code=t.code;let n=null==e?void 0:e.message;i.message=n&&"string"==typeof n?n:t.message,i.data={originalError:assignOriginalError(e)}}let o=null==e?void 0:e.stack;return n&&e&&o&&"string"==typeof o&&(i.stack=o),i}},4445:function(e){e.exports=stringify,stringify.default=stringify,stringify.stable=deterministicStringify,stringify.stableStringify=deterministicStringify;var t="[...]",n="[Circular]",i=[],s=[];function defaultOptions(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify(e,o,a,l){void 0===l&&(l=defaultOptions()),function decirc(e,i,s,o,a,l,u){if(l+=1,"object"==typeof e&&null!==e){for(c=0;c<o.length;c++)if(o[c]===e){setReplace(n,e,i,a);return}if(void 0!==u.depthLimit&&l>u.depthLimit||void 0!==u.edgesLimit&&s+1>u.edgesLimit){setReplace(t,e,i,a);return}if(o.push(e),Array.isArray(e))for(c=0;c<e.length;c++)decirc(e[c],c,c,o,e,l,u);else{var c,h=Object.keys(e);for(c=0;c<h.length;c++){var d=h[c];decirc(e[d],d,c,o,e,l,u)}}o.pop()}}(e,"",0,[],void 0,0,l);try{u=0===s.length?JSON.stringify(e,o,a):JSON.stringify(e,replaceGetterValues(o),a)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==i.length;){var u,c=i.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return u}function setReplace(e,t,n,o){var a=Object.getOwnPropertyDescriptor(o,n);void 0!==a.get?a.configurable?(Object.defineProperty(o,n,{value:e}),i.push([o,n,t,a])):s.push([t,n,e]):(o[n]=e,i.push([o,n,t]))}function compareFunction(e,t){return e<t?-1:e>t?1:0}function deterministicStringify(e,o,a,l){void 0===l&&(l=defaultOptions());var u,c=function deterministicDecirc(e,s,o,a,l,u,c){if(u+=1,"object"==typeof e&&null!==e){for(h=0;h<a.length;h++)if(a[h]===e){setReplace(n,e,s,l);return}try{if("function"==typeof e.toJSON)return}catch(e){return}if(void 0!==c.depthLimit&&u>c.depthLimit||void 0!==c.edgesLimit&&o+1>c.edgesLimit){setReplace(t,e,s,l);return}if(a.push(e),Array.isArray(e))for(h=0;h<e.length;h++)deterministicDecirc(e[h],h,h,a,e,u,c);else{var h,d={},f=Object.keys(e).sort(compareFunction);for(h=0;h<f.length;h++){var p=f[h];deterministicDecirc(e[p],p,h,a,e,u,c),d[p]=e[p]}if(void 0===l)return d;i.push([l,s,e]),l[s]=d}a.pop()}}(e,"",0,[],void 0,0,l)||e;try{u=0===s.length?JSON.stringify(c,o,a):JSON.stringify(c,replaceGetterValues(o),a)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==i.length;){var h=i.pop();4===h.length?Object.defineProperty(h[0],h[1],h[3]):h[0][h[1]]=h[2]}}return u}function replaceGetterValues(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(s.length>0)for(var i=0;i<s.length;i++){var o=s[i];if(o[1]===t&&o[0]===n){n=o[2],s.splice(i,1);break}}return e.call(this,t,n)}}},17398:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0;let s=i(n(60759)),o=n(79826);let JsonRpcEngine=class JsonRpcEngine extends s.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,n,i)=>{try{let[s,o,a]=await JsonRpcEngine._runAllMiddleware(e,t,this._middleware);if(o)return await JsonRpcEngine._runReturnHandlers(a),i(s);return n(async e=>{try{await JsonRpcEngine._runReturnHandlers(a)}catch(t){return e(t)}return e()})}catch(e){return i(e)}}}async _handleBatch(e,t){try{let n=await Promise.all(e.map(this._promiseHandle.bind(this)));if(t)return t(null,n);return n}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise(t=>{this._handle(e,(e,n)=>{t(n)})})}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){let n=new o.EthereumRpcError(o.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return t(n,{id:void 0,jsonrpc:"2.0",error:n})}if("string"!=typeof e.method){let n=new o.EthereumRpcError(o.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return t(n,{id:e.id,jsonrpc:"2.0",error:n})}let n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc},s=null;try{await this._processRequest(n,i)}catch(e){s=e}return s&&(delete i.result,i.error||(i.error=o.serializeError(s))),t(s,i)}async _processRequest(e,t){let[n,i,s]=await JsonRpcEngine._runAllMiddleware(e,t,this._middleware);if(JsonRpcEngine._checkForCompletion(e,t,i),await JsonRpcEngine._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,t,n){let i=[],s=null,o=!1;for(let a of n)if([s,o]=await JsonRpcEngine._runMiddleware(e,t,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,t,n,i){return new Promise(s=>{let end=e=>{let n=e||t.error;n&&(t.error=o.serializeError(n)),s([n,!0])};try{n(e,t,n=>{t.error?end(t.error):(n&&("function"!=typeof n&&end(new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof n}" for request:
${jsonify(e)}`,{request:e})),i.push(n)),s([null,!1]))},end)}catch(e){end(e)}})}static async _runReturnHandlers(e){for(let t of e)await new Promise((e,n)=>{t(t=>t?n(t):e())})}static _checkForCompletion(e,t,n){if(!("result"in t)&&!("error"in t))throw new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${jsonify(e)}`,{request:e});if(!n)throw new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${jsonify(e)}`,{request:e})}};function jsonify(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=JsonRpcEngine},31841:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=function(e){return async(t,n,i,s)=>{let o;let a=new Promise(e=>{o=e}),l=null,u=!1,asyncNext=async()=>{u=!0,i(e=>{l=e,o()}),await a};try{await e(t,n,asyncNext),u?(await a,l(null)):s(null)}catch(e){l?l(e):s(e)}}}},48508:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=function(e){return(t,n,i,s)=>{let o=e[t.method];return void 0===o?i():"function"==typeof o?o(t,n,i,s):(n.result=o,s())}}},33107:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0;let n=Math.floor(4294967295*Math.random());t.getUniqueId=function(){return n=(n+1)%4294967295}},85086:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0;let i=n(33107);t.createIdRemapMiddleware=function(){return(e,t,n,s)=>{let o=e.id,a=i.getUniqueId();e.id=a,t.id=a,n(n=>{e.id=o,t.id=o,n()})}}},88625:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(85086),t),s(n(31841),t),s(n(48508),t),s(n(33107),t),s(n(17398),t),s(n(79962),t)},79962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0;let i=n(17398);t.mergeMiddleware=function(e){let t=new i.JsonRpcEngine;return e.forEach(e=>t.push(e)),t.asMiddleware()}},60759:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=n(17187);function safeApply(e,t,n){try{Reflect.apply(e,t,n)}catch(e){setTimeout(()=>{throw e})}}let SafeEventEmitter=class SafeEventEmitter extends i.EventEmitter{emit(e,...t){let n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;let n=Error(`Unhandled error.${e?` (${e.message})`:""}`);throw n.context=e,n}let s=i[e];if(void 0===s)return!1;if("function"==typeof s)safeApply(s,this,t);else{let e=s.length,n=function(e){let t=e.length,n=Array(t);for(let i=0;i<t;i+=1)n[i]=e[i];return n}(s);for(let i=0;i<e;i+=1)safeApply(n[i],this,t)}return!0}};t.default=SafeEventEmitter},23420:function(e){e.exports=function(e){var t=(e=e||{}).max||Number.MAX_SAFE_INTEGER,n=void 0!==e.start?e.start:Math.floor(Math.random()*t);return function(){return n%=t,n++}}},22257:function(e,t,n){let i=Symbol("SemVer ANY");let Comparator=class Comparator{static get ANY(){return i}constructor(e,t){if(t=s(t),e instanceof Comparator){if(!!t.loose===e.loose)return e;e=e.value}u("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===i?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){let t=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],n=e.match(t);if(!n)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new c(n[2],this.options.loose):this.semver=i}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===i||e===i)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Comparator))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new h(e.value,t).test(this.value):""===e.operator?""===e.value||new h(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}};e.exports=Comparator;let s=n(12893),{safeRe:o,t:a}=n(55765),l=n(7539),u=n(74225),c=n(26376),h=n(66902)},66902:function(e,t,n){let i=/\s+/g;let Range=class Range{constructor(e,t){if(t=a(t),e instanceof Range){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new Range(e.raw,t)}if(e instanceof l)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(i," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!isNullSet(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&isAny(e[0])){this.set=[e];break}}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let t=(this.options.includePrerelease&&m)|(this.options.loose&&y),n=t+":"+e,i=o.get(n);if(i)return i;let s=this.options.loose,a=s?h[d.HYPHENRANGELOOSE]:h[d.HYPHENRANGE];u("hyphen replace",e=e.replace(a,hyphenReplace(this.options.includePrerelease))),u("comparator trim",e=e.replace(h[d.COMPARATORTRIM],f)),u("tilde trim",e=e.replace(h[d.TILDETRIM],p)),u("caret trim",e=e.replace(h[d.CARETTRIM],g));let c=e.split(" ").map(e=>parseComparator(e,this.options)).join(" ").split(/\s+/).map(e=>replaceGTE0(e,this.options));s&&(c=c.filter(e=>(u("loose invalid filter",e,this.options),!!e.match(h[d.COMPARATORLOOSE])))),u("range list",c);let b=new Map,v=c.map(e=>new l(e,this.options));for(let e of v){if(isNullSet(e))return[e];b.set(e.value,e)}b.size>1&&b.has("")&&b.delete("");let w=[...b.values()];return o.set(n,w),w}intersects(e,t){if(!(e instanceof Range))throw TypeError("a Range is required");return this.set.some(n=>isSatisfiable(n,t)&&e.set.some(e=>isSatisfiable(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(testSet(this.set[t],e,this.options))return!0;return!1}};e.exports=Range;let s=n(99659),o=new s,a=n(12893),l=n(22257),u=n(74225),c=n(26376),{safeRe:h,t:d,comparatorTrimReplace:f,tildeTrimReplace:p,caretTrimReplace:g}=n(55765),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:y}=n(83295),isNullSet=e=>"<0.0.0-0"===e.value,isAny=e=>""===e.value,isSatisfiable=(e,t)=>{let n=!0,i=e.slice(),s=i.pop();for(;n&&i.length;)n=i.every(e=>s.intersects(e,t)),s=i.pop();return n},parseComparator=(e,t)=>(u("comp",e,t),u("caret",e=replaceCarets(e,t)),u("tildes",e=replaceTildes(e,t)),u("xrange",e=replaceXRanges(e,t)),u("stars",e=replaceStars(e,t)),e),isX=e=>!e||"x"===e.toLowerCase()||"*"===e,replaceTildes=(e,t)=>e.trim().split(/\s+/).map(e=>replaceTilde(e,t)).join(" "),replaceTilde=(e,t)=>{let n=t.loose?h[d.TILDELOOSE]:h[d.TILDE];return e.replace(n,(t,n,i,s,o)=>{let a;return u("tilde",e,t,n,i,s,o),isX(n)?a="":isX(i)?a=`>=${n}.0.0 <${+n+1}.0.0-0`:isX(s)?a=`>=${n}.${i}.0 <${n}.${+i+1}.0-0`:o?(u("replaceTilde pr",o),a=`>=${n}.${i}.${s}-${o} <${n}.${+i+1}.0-0`):a=`>=${n}.${i}.${s} <${n}.${+i+1}.0-0`,u("tilde return",a),a})},replaceCarets=(e,t)=>e.trim().split(/\s+/).map(e=>replaceCaret(e,t)).join(" "),replaceCaret=(e,t)=>{u("caret",e,t);let n=t.loose?h[d.CARETLOOSE]:h[d.CARET],i=t.includePrerelease?"-0":"";return e.replace(n,(t,n,s,o,a)=>{let l;return u("caret",e,t,n,s,o,a),isX(n)?l="":isX(s)?l=`>=${n}.0.0${i} <${+n+1}.0.0-0`:isX(o)?l="0"===n?`>=${n}.${s}.0${i} <${n}.${+s+1}.0-0`:`>=${n}.${s}.0${i} <${+n+1}.0.0-0`:a?(u("replaceCaret pr",a),l="0"===n?"0"===s?`>=${n}.${s}.${o}-${a} <${n}.${s}.${+o+1}-0`:`>=${n}.${s}.${o}-${a} <${n}.${+s+1}.0-0`:`>=${n}.${s}.${o}-${a} <${+n+1}.0.0-0`):(u("no pr"),l="0"===n?"0"===s?`>=${n}.${s}.${o}${i} <${n}.${s}.${+o+1}-0`:`>=${n}.${s}.${o}${i} <${n}.${+s+1}.0-0`:`>=${n}.${s}.${o} <${+n+1}.0.0-0`),u("caret return",l),l})},replaceXRanges=(e,t)=>(u("replaceXRanges",e,t),e.split(/\s+/).map(e=>replaceXRange(e,t)).join(" ")),replaceXRange=(e,t)=>{e=e.trim();let n=t.loose?h[d.XRANGELOOSE]:h[d.XRANGE];return e.replace(n,(n,i,s,o,a,l)=>{u("xRange",e,n,i,s,o,a,l);let c=isX(s),h=c||isX(o),d=h||isX(a);return"="===i&&d&&(i=""),l=t.includePrerelease?"-0":"",c?n=">"===i||"<"===i?"<0.0.0-0":"*":i&&d?(h&&(o=0),a=0,">"===i?(i=">=",h?(s=+s+1,o=0):o=+o+1,a=0):"<="===i&&(i="<",h?s=+s+1:o=+o+1),"<"===i&&(l="-0"),n=`${i+s}.${o}.${a}${l}`):h?n=`>=${s}.0.0${l} <${+s+1}.0.0-0`:d&&(n=`>=${s}.${o}.0${l} <${s}.${+o+1}.0-0`),u("xRange return",n),n})},replaceStars=(e,t)=>(u("replaceStars",e,t),e.trim().replace(h[d.STAR],"")),replaceGTE0=(e,t)=>(u("replaceGTE0",e,t),e.trim().replace(h[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),hyphenReplace=e=>(t,n,i,s,o,a,l,u,c,h,d,f)=>(n=isX(i)?"":isX(s)?`>=${i}.0.0${e?"-0":""}`:isX(o)?`>=${i}.${s}.0${e?"-0":""}`:a?`>=${n}`:`>=${n}${e?"-0":""}`,u=isX(c)?"":isX(h)?`<${+c+1}.0.0-0`:isX(d)?`<${c}.${+h+1}.0-0`:f?`<=${c}.${h}.${d}-${f}`:e?`<${c}.${h}.${+d+1}-0`:`<=${u}`,`${n} ${u}`.trim()),testSet=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(u(e[n].semver),e[n].semver!==l.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}},26376:function(e,t,n){let i=n(74225),{MAX_LENGTH:s,MAX_SAFE_INTEGER:o}=n(83295),{safeRe:a,t:l}=n(55765),u=n(12893),{compareIdentifiers:c}=n(86742);let SemVer=class SemVer{constructor(e,t){if(t=u(t),e instanceof SemVer){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>s)throw TypeError(`version is longer than ${s} characters`);i("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?a[l.LOOSE]:a[l.FULL]);if(!n)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<o)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(i("SemVer.compare",this.version,this.options,e),!(e instanceof SemVer)){if("string"==typeof e&&e===this.version)return 0;e=new SemVer(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof SemVer||(e=new SemVer(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof SemVer||(e=new SemVer(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],s=e.prerelease[t];if(i("prerelease compare",t,n,s),void 0===n&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===n)return -1;if(n===s)continue;else return c(n,s)}while(++t)}compareBuild(e){e instanceof SemVer||(e=new SemVer(e,this.options));let t=0;do{let n=this.build[t],s=e.build[t];if(i("build compare",t,n,s),void 0===n&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===n)return -1;if(n===s)continue;else return c(n,s)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(n)?1:0;if(!t&&!1===n)throw Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let i=this.prerelease.length;for(;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);if(-1===i){if(t===this.prerelease.join(".")&&!1===n)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let i=[t,e];!1===n&&(i=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};e.exports=SemVer},13507:function(e,t,n){let i=n(33959);e.exports=(e,t)=>{let n=i(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},7539:function(e,t,n){let i=n(58718),s=n(81194),o=n(71312),a=n(25903),l=n(21544),u=n(12056);e.exports=(e,t,n,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return i(e,n,c);case"!=":return s(e,n,c);case">":return o(e,n,c);case">=":return a(e,n,c);case"<":return l(e,n,c);case"<=":return u(e,n,c);default:throw TypeError(`Invalid operator: ${t}`)}}},99038:function(e,t,n){let i=n(26376),s=n(33959),{safeRe:o,t:a}=n(55765);e.exports=(e,t)=>{if(e instanceof i)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let i;let s=t.includePrerelease?o[a.COERCERTLFULL]:o[a.COERCERTL];for(;(i=s.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&i.index+i[0].length===n.index+n[0].length||(n=i),s.lastIndex=i.index+i[1].length+i[2].length;s.lastIndex=-1}else n=e.match(t.includePrerelease?o[a.COERCEFULL]:o[a.COERCE]);if(null===n)return null;let l=n[2],u=n[3]||"0",c=n[4]||"0",h=t.includePrerelease&&n[5]?`-${n[5]}`:"",d=t.includePrerelease&&n[6]?`+${n[6]}`:"";return s(`${l}.${u}.${c}${h}${d}`,t)}},88880:function(e,t,n){let i=n(26376);e.exports=(e,t,n)=>{let s=new i(e,n),o=new i(t,n);return s.compare(o)||s.compareBuild(o)}},27880:function(e,t,n){let i=n(46269);e.exports=(e,t)=>i(e,t,!0)},46269:function(e,t,n){let i=n(26376);e.exports=(e,t,n)=>new i(e,n).compare(new i(t,n))},62378:function(e,t,n){let i=n(33959);e.exports=(e,t)=>{let n=i(e,null,!0),s=i(t,null,!0),o=n.compare(s);if(0===o)return null;let a=o>0,l=a?n:s,u=a?s:n,c=!!l.prerelease.length,h=!!u.prerelease.length;if(h&&!c)return u.patch||u.minor?l.patch?"patch":l.minor?"minor":"major":"major";let d=c?"pre":"";return n.major!==s.major?d+"major":n.minor!==s.minor?d+"minor":n.patch!==s.patch?d+"patch":"prerelease"}},58718:function(e,t,n){let i=n(46269);e.exports=(e,t,n)=>0===i(e,t,n)},71312:function(e,t,n){let i=n(46269);e.exports=(e,t,n)=>i(e,t,n)>0},25903:function(e,t,n){let i=n(46269);e.exports=(e,t,n)=>i(e,t,n)>=0},20253:function(e,t,n){let i=n(26376);e.exports=(e,t,n,s,o)=>{"string"==typeof n&&(o=s,s=n,n=void 0);try{return new i(e instanceof i?e.version:e,n).inc(t,s,o).version}catch(e){return null}}},21544:function(e,t,n){let i=n(46269);e.exports=(e,t,n)=>0>i(e,t,n)},12056:function(e,t,n){let i=n(46269);e.exports=(e,t,n)=>0>=i(e,t,n)},38679:function(e,t,n){let i=n(26376);e.exports=(e,t)=>new i(e,t).major},87789:function(e,t,n){let i=n(26376);e.exports=(e,t)=>new i(e,t).minor},81194:function(e,t,n){let i=n(46269);e.exports=(e,t,n)=>0!==i(e,t,n)},33959:function(e,t,n){let i=n(26376);e.exports=(e,t,n=!1)=>{if(e instanceof i)return e;try{return new i(e,t)}catch(e){if(!n)return null;throw e}}},52358:function(e,t,n){let i=n(26376);e.exports=(e,t)=>new i(e,t).patch},57559:function(e,t,n){let i=n(33959);e.exports=(e,t)=>{let n=i(e,t);return n&&n.prerelease.length?n.prerelease:null}},79795:function(e,t,n){let i=n(46269);e.exports=(e,t,n)=>i(t,e,n)},63657:function(e,t,n){let i=n(88880);e.exports=(e,t)=>e.sort((e,n)=>i(n,e,t))},45712:function(e,t,n){let i=n(66902);e.exports=(e,t,n)=>{try{t=new i(t,n)}catch(e){return!1}return t.test(e)}},21100:function(e,t,n){let i=n(88880);e.exports=(e,t)=>e.sort((e,n)=>i(e,n,t))},76397:function(e,t,n){let i=n(33959);e.exports=(e,t)=>{let n=i(e,t);return n?n.version:null}},81249:function(e,t,n){let i=n(55765),s=n(83295),o=n(26376),a=n(86742),l=n(33959),u=n(76397),c=n(13507),h=n(20253),d=n(62378),f=n(38679),p=n(87789),g=n(52358),m=n(57559),y=n(46269),b=n(79795),v=n(27880),w=n(88880),k=n(21100),_=n(63657),M=n(71312),S=n(21544),R=n(58718),I=n(81194),B=n(25903),C=n(12056),N=n(7539),x=n(99038),A=n(22257),T=n(66902),L=n(45712),O=n(51042),P=n(85775),F=n(71657),j=n(95316),D=n(89042),$=n(6826),U=n(97606),H=n(50032),V=n(82937),W=n(17908),q=n(50799);e.exports={parse:l,valid:u,clean:c,inc:h,diff:d,major:f,minor:p,patch:g,prerelease:m,compare:y,rcompare:b,compareLoose:v,compareBuild:w,sort:k,rsort:_,gt:M,lt:S,eq:R,neq:I,gte:B,lte:C,cmp:N,coerce:x,Comparator:A,Range:T,satisfies:L,toComparators:O,maxSatisfying:P,minSatisfying:F,minVersion:j,validRange:D,outside:$,gtr:U,ltr:H,intersects:V,simplifyRange:W,subset:q,SemVer:o,re:i.re,src:i.src,tokens:i.t,SEMVER_SPEC_VERSION:s.SEMVER_SPEC_VERSION,RELEASE_TYPES:s.RELEASE_TYPES,compareIdentifiers:a.compareIdentifiers,rcompareIdentifiers:a.rcompareIdentifiers}},83295:function(e){let t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},74225:function(e,t,n){var i=n(34155);let s="object"==typeof i&&i.env&&i.env.NODE_DEBUG&&/\bsemver\b/i.test(i.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=s},86742:function(e){let t=/^[0-9]+$/,compareIdentifiers=(e,n)=>{let i=t.test(e),s=t.test(n);return i&&s&&(e=+e,n=+n),e===n?0:i&&!s?-1:s&&!i?1:e<n?-1:1};e.exports={compareIdentifiers,rcompareIdentifiers:(e,t)=>compareIdentifiers(t,e)}},99659:function(e){e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(void 0!==t)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){let n=this.delete(e);if(!n&&void 0!==t){if(this.map.size>=this.max){let e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},12893:function(e){let t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},55765:function(e,t,n){let{MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:s,MAX_LENGTH:o}=n(83295),a=n(74225);t=e.exports={};let l=t.re=[],u=t.safeRe=[],c=t.src=[],h=t.t={},d=0,f="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",o],[f,s]],makeSafeRegex=e=>{for(let[t,n]of p)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e},createToken=(e,t,n)=>{let i=makeSafeRegex(t),s=d++;a(e,s,t),h[e]=s,c[s]=t,l[s]=new RegExp(t,n?"g":void 0),u[s]=new RegExp(i,n?"g":void 0)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*"),createToken("NUMERICIDENTIFIERLOOSE","\\d+"),createToken("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),createToken("MAINVERSION",`(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})`),createToken("MAINVERSIONLOOSE",`(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})`),createToken("PRERELEASEIDENTIFIER",`(?:${c[h.NUMERICIDENTIFIER]}|${c[h.NONNUMERICIDENTIFIER]})`),createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${c[h.NUMERICIDENTIFIERLOOSE]}|${c[h.NONNUMERICIDENTIFIER]})`),createToken("PRERELEASE",`(?:-(${c[h.PRERELEASEIDENTIFIER]}(?:\\.${c[h.PRERELEASEIDENTIFIER]})*))`),createToken("PRERELEASELOOSE",`(?:-?(${c[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[h.PRERELEASEIDENTIFIERLOOSE]})*))`),createToken("BUILDIDENTIFIER",`${f}+`),createToken("BUILD",`(?:\\+(${c[h.BUILDIDENTIFIER]}(?:\\.${c[h.BUILDIDENTIFIER]})*))`),createToken("FULLPLAIN",`v?${c[h.MAINVERSION]}${c[h.PRERELEASE]}?${c[h.BUILD]}?`),createToken("FULL",`^${c[h.FULLPLAIN]}$`),createToken("LOOSEPLAIN",`[v=\\s]*${c[h.MAINVERSIONLOOSE]}${c[h.PRERELEASELOOSE]}?${c[h.BUILD]}?`),createToken("LOOSE",`^${c[h.LOOSEPLAIN]}$`),createToken("GTLT","((?:<|>)?=?)"),createToken("XRANGEIDENTIFIERLOOSE",`${c[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),createToken("XRANGEIDENTIFIER",`${c[h.NUMERICIDENTIFIER]}|x|X|\\*`),createToken("XRANGEPLAIN",`[v=\\s]*(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:${c[h.PRERELEASE]})?${c[h.BUILD]}?)?)?`),createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:${c[h.PRERELEASELOOSE]})?${c[h.BUILD]}?)?)?`),createToken("XRANGE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAIN]}$`),createToken("XRANGELOOSE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAINLOOSE]}$`),createToken("COERCEPLAIN",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?`),createToken("COERCE",`${c[h.COERCEPLAIN]}(?:$|[^\\d])`),createToken("COERCEFULL",c[h.COERCEPLAIN]+`(?:${c[h.PRERELEASE]})?`+`(?:${c[h.BUILD]})?`+"(?:$|[^\\d])"),createToken("COERCERTL",c[h.COERCE],!0),createToken("COERCERTLFULL",c[h.COERCEFULL],!0),createToken("LONETILDE","(?:~>?)"),createToken("TILDETRIM",`(\\s*)${c[h.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",createToken("TILDE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAIN]}$`),createToken("TILDELOOSE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAINLOOSE]}$`),createToken("LONECARET","(?:\\^)"),createToken("CARETTRIM",`(\\s*)${c[h.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",createToken("CARET",`^${c[h.LONECARET]}${c[h.XRANGEPLAIN]}$`),createToken("CARETLOOSE",`^${c[h.LONECARET]}${c[h.XRANGEPLAINLOOSE]}$`),createToken("COMPARATORLOOSE",`^${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]})$|^$`),createToken("COMPARATOR",`^${c[h.GTLT]}\\s*(${c[h.FULLPLAIN]})$|^$`),createToken("COMPARATORTRIM",`(\\s*)${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]}|${c[h.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",createToken("HYPHENRANGE",`^\\s*(${c[h.XRANGEPLAIN]})\\s+-\\s+(${c[h.XRANGEPLAIN]})\\s*$`),createToken("HYPHENRANGELOOSE",`^\\s*(${c[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[h.XRANGEPLAINLOOSE]})\\s*$`),createToken("STAR","(<|>)?=?\\s*\\*"),createToken("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),createToken("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},97606:function(e,t,n){let i=n(6826);e.exports=(e,t,n)=>i(e,t,">",n)},82937:function(e,t,n){let i=n(66902);e.exports=(e,t,n)=>(e=new i(e,n),t=new i(t,n),e.intersects(t,n))},50032:function(e,t,n){let i=n(6826);e.exports=(e,t,n)=>i(e,t,"<",n)},85775:function(e,t,n){let i=n(26376),s=n(66902);e.exports=(e,t,n)=>{let o=null,a=null,l=null;try{l=new s(t,n)}catch(e){return null}return e.forEach(e=>{l.test(e)&&(!o||-1===a.compare(e))&&(o=e,a=new i(o,n))}),o}},71657:function(e,t,n){let i=n(26376),s=n(66902);e.exports=(e,t,n)=>{let o=null,a=null,l=null;try{l=new s(t,n)}catch(e){return null}return e.forEach(e=>{l.test(e)&&(!o||1===a.compare(e))&&(o=e,a=new i(o,n))}),o}},95316:function(e,t,n){let i=n(26376),s=n(66902),o=n(71312);e.exports=(e,t)=>{e=new s(e,t);let n=new i("0.0.0");if(e.test(n)||(n=new i("0.0.0-0"),e.test(n)))return n;n=null;for(let t=0;t<e.set.length;++t){let s=e.set[t],a=null;s.forEach(e=>{let t=new i(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!a||o(t,a))&&(a=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),a&&(!n||o(n,a))&&(n=a)}return n&&e.test(n)?n:null}},6826:function(e,t,n){let i=n(26376),s=n(22257),{ANY:o}=s,a=n(66902),l=n(45712),u=n(71312),c=n(21544),h=n(12056),d=n(25903);e.exports=(e,t,n,f)=>{let p,g,m,y,b;switch(e=new i(e,f),t=new a(t,f),n){case">":p=u,g=h,m=c,y=">",b=">=";break;case"<":p=c,g=d,m=u,y="<",b="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(l(e,t,f))return!1;for(let n=0;n<t.set.length;++n){let i=t.set[n],a=null,l=null;if(i.forEach(e=>{e.semver===o&&(e=new s(">=0.0.0")),a=a||e,l=l||e,p(e.semver,a.semver,f)?a=e:m(e.semver,l.semver,f)&&(l=e)}),a.operator===y||a.operator===b||(!l.operator||l.operator===y)&&g(e,l.semver)||l.operator===b&&m(e,l.semver))return!1}return!0}},17908:function(e,t,n){let i=n(45712),s=n(46269);e.exports=(e,t,n)=>{let o=[],a=null,l=null,u=e.sort((e,t)=>s(e,t,n));for(let e of u){let s=i(e,t,n);s?(l=e,a||(a=e)):(l&&o.push([a,l]),l=null,a=null)}a&&o.push([a,null]);let c=[];for(let[e,t]of o)e===t?c.push(e):t||e!==u[0]?t?e===u[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");let h=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return h.length<d.length?h:t}},50799:function(e,t,n){let i=n(66902),s=n(22257),{ANY:o}=s,a=n(45712),l=n(46269),u=[new s(">=0.0.0-0")],c=[new s(">=0.0.0")],simpleSubset=(e,t,n)=>{let i,s,h,d,f,p,g;if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=n.includePrerelease?u:c}if(1===t.length&&t[0].semver===o){if(n.includePrerelease)return!0;t=c}let m=new Set;for(let t of e)">"===t.operator||">="===t.operator?i=higherGT(i,t,n):"<"===t.operator||"<="===t.operator?s=lowerLT(s,t,n):m.add(t.semver);if(m.size>1||i&&s&&((h=l(i.semver,s.semver,n))>0||0===h&&(">="!==i.operator||"<="!==s.operator)))return null;for(let e of m){if(i&&!a(e,String(i),n)||s&&!a(e,String(s),n))return null;for(let i of t)if(!a(e,String(i),n))return!1;return!0}let y=!!s&&!n.includePrerelease&&!!s.semver.prerelease.length&&s.semver,b=!!i&&!n.includePrerelease&&!!i.semver.prerelease.length&&i.semver;for(let e of(y&&1===y.prerelease.length&&"<"===s.operator&&0===y.prerelease[0]&&(y=!1),t)){if(g=g||">"===e.operator||">="===e.operator,p=p||"<"===e.operator||"<="===e.operator,i){if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if((d=higherGT(i,e,n))===e&&d!==i)return!1}else if(">="===i.operator&&!a(i.semver,String(e),n))return!1}if(s){if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),"<"===e.operator||"<="===e.operator){if((f=lowerLT(s,e,n))===e&&f!==s)return!1}else if("<="===s.operator&&!a(s.semver,String(e),n))return!1}if(!e.operator&&(s||i)&&0!==h)return!1}return(!i||!p||!!s||0===h)&&(!s||!g||!!i||0===h)&&!b&&!y},higherGT=(e,t,n)=>{if(!e)return t;let i=l(e.semver,t.semver,n);return i>0?e:i<0?t:">"===t.operator&&">="===e.operator?t:e},lowerLT=(e,t,n)=>{if(!e)return t;let i=l(e.semver,t.semver,n);return i<0?e:i>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new i(e,n),t=new i(t,n);let s=!1;e:for(let i of e.set){for(let e of t.set){let t=simpleSubset(i,e,n);if(s=s||null!==t,t)continue e}if(s)return!1}return!0}},51042:function(e,t,n){let i=n(66902);e.exports=(e,t)=>new i(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},89042:function(e,t,n){let i=n(66902);e.exports=(e,t)=>{try{return new i(e,t).range||"*"}catch(e){return null}}},47529:function(e){e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var i=arguments[n];for(var s in i)t.call(i,s)&&(e[s]=i[s])}return e};var t=Object.prototype.hasOwnProperty},97884:function(e,t,n){"use strict";n.r(t),n.d(t,{Struct:function(){return Struct},StructError:function(){return StructError},any:function(){return any},array:function(){return array},assert:function(){return assert},assign:function(){return assign},bigint:function(){return bigint},boolean:function(){return boolean},coerce:function(){return coerce},create:function(){return create},date:function(){return date},defaulted:function(){return defaulted},define:function(){return define},deprecated:function(){return deprecated},dynamic:function(){return dynamic},empty:function(){return empty},enums:function(){return enums},func:function(){return func},instance:function(){return instance},integer:function(){return integer},intersection:function(){return intersection},is:function(){return is},lazy:function(){return lazy},literal:function(){return literal},map:function(){return map},mask:function(){return mask},max:function(){return max},min:function(){return min},never:function(){return never},nonempty:function(){return nonempty},nullable:function(){return nullable},number:function(){return number},object:function(){return object},omit:function(){return omit},optional:function(){return optional},partial:function(){return partial},pattern:function(){return pattern},pick:function(){return pick},record:function(){return record},refine:function(){return refine},regexp:function(){return regexp},set:function(){return set},size:function(){return size},string:function(){return string},struct:function(){return struct},trimmed:function(){return trimmed},tuple:function(){return tuple},type:function(){return type},union:function(){return union},unknown:function(){return unknown},validate:function(){return validate}});let StructError=class StructError extends TypeError{constructor(e,t){let n;let{message:i,explanation:s,...o}=e,{path:a}=e,l=0===a.length?i:`At path: ${a.join(".")} -- ${i}`;super(s??l),null!=s&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}};function isObject(e){return"object"==typeof e&&null!=e}function isPlainObject(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function print(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*toFailures(e,t,n,i){var s;for(let o of(isObject(s=e)&&"function"==typeof s[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,n,i){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:s,branch:o}=t,{type:a}=n,{refinement:l,message:u=`Expected a value of type \`${a}\`${l?` with refinement \`${l}\``:""}, but received: \`${print(i)}\``}=e;return{value:i,type:a,refinement:l,key:s[s.length-1],path:s,branch:o,...e,message:u}}(o,t,n,i);e&&(yield e)}}function*run(e,t,n={}){let{path:i=[],branch:s=[e],coerce:o=!1,mask:a=!1}=n,l={path:i,branch:s};if(o&&(e=t.coercer(e,l),a&&"type"!==t.type&&isObject(t.schema)&&isObject(e)&&!Array.isArray(e)))for(let n in e)void 0===t.schema[n]&&delete e[n];let u="valid";for(let i of t.validator(e,l))i.explanation=n.message,u="not_valid",yield[i,void 0];for(let[c,h,d]of t.entries(e,l)){let t=run(h,d,{path:void 0===c?i:[...i,c],branch:void 0===c?s:[...s,h],coerce:o,mask:a,message:n.message});for(let n of t)n[0]?(u=null!=n[0].refinement?"not_refined":"not_valid",yield[n[0],void 0]):o&&(h=n[1],void 0===c?e=h:e instanceof Map?e.set(c,h):e instanceof Set?e.add(h):isObject(e)&&(void 0!==h||c in e)&&(e[c]=h))}if("not_valid"!==u)for(let i of t.refiner(e,l))i.explanation=n.message,u="not_refined",yield[i,void 0];"valid"===u&&(yield[void 0,e])}let Struct=class Struct{constructor(e){let{type:t,schema:n,validator:i,refiner:s,coercer:o=e=>e,entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(e,t)=>{let n=i(e,t);return toFailures(n,t,this,e)}:this.validator=()=>[],s?this.refiner=(e,t)=>{let n=s(e,t);return toFailures(n,t,this,e)}:this.refiner=()=>[]}assert(e,t){return assert(e,this,t)}create(e,t){return create(e,this,t)}is(e){return is(e,this)}mask(e,t){return mask(e,this,t)}validate(e,t={}){return validate(e,this,t)}};function assert(e,t,n){let i=validate(e,t,{message:n});if(i[0])throw i[0]}function create(e,t,n){let i=validate(e,t,{coerce:!0,message:n});if(!i[0])return i[1];throw i[0]}function mask(e,t,n){let i=validate(e,t,{coerce:!0,mask:!0,message:n});if(!i[0])return i[1];throw i[0]}function is(e,t){let n=validate(e,t);return!n[0]}function validate(e,t,n={}){let i=run(e,t,n),s=function(e){let{done:t,value:n}=e.next();return t?void 0:n}(i);if(s[0]){let e=new StructError(s[0],function*(){for(let e of i)e[0]&&(yield e[0])});return[e,void 0]}{let e=s[1];return[void 0,e]}}function assign(...e){let t="type"===e[0].type,n=e.map(e=>e.schema),i=Object.assign({},...n);return t?type(i):object(i)}function define(e,t){return new Struct({type:e,schema:null,validator:t})}function deprecated(e,t){return new Struct({...e,refiner:(t,n)=>void 0===t||e.refiner(t,n),validator:(n,i)=>void 0===n||(t(n,i),e.validator(n,i))})}function dynamic(e){return new Struct({type:"dynamic",schema:null,*entries(t,n){let i=e(t,n);yield*i.entries(t,n)},validator(t,n){let i=e(t,n);return i.validator(t,n)},coercer(t,n){let i=e(t,n);return i.coercer(t,n)},refiner(t,n){let i=e(t,n);return i.refiner(t,n)}})}function lazy(e){let t;return new Struct({type:"lazy",schema:null,*entries(n,i){t??(t=e()),yield*t.entries(n,i)},validator:(n,i)=>(t??(t=e()),t.validator(n,i)),coercer:(n,i)=>(t??(t=e()),t.coercer(n,i)),refiner:(n,i)=>(t??(t=e()),t.refiner(n,i))})}function omit(e,t){let{schema:n}=e,i={...n};for(let e of t)delete i[e];return"type"===e.type?type(i):object(i)}function partial(e){let t=e instanceof Struct,n=t?{...e.schema}:{...e};for(let e in n)n[e]=optional(n[e]);return t&&"type"===e.type?type(n):object(n)}function pick(e,t){let{schema:n}=e,i={};for(let e of t)i[e]=n[e];return"type"===e.type?type(i):object(i)}function struct(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),define(e,t)}function any(){return define("any",()=>!0)}function array(e){return new Struct({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[n,i]of t.entries())yield[n,i,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${print(e)}`})}function bigint(){return define("bigint",e=>"bigint"==typeof e)}function boolean(){return define("boolean",e=>"boolean"==typeof e)}function date(){return define("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${print(e)}`)}function enums(e){let t={},n=e.map(e=>print(e)).join();for(let n of e)t[n]=n;return new Struct({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${n}\`, but received: ${print(t)}`})}function func(){return define("func",e=>"function"==typeof e||`Expected a function, but received: ${print(e)}`)}function instance(e){return define("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${print(t)}`)}function integer(){return define("integer",e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${print(e)}`)}function intersection(e){return new Struct({type:"intersection",schema:null,*entries(t,n){for(let i of e)yield*i.entries(t,n)},*validator(t,n){for(let i of e)yield*i.validator(t,n)},*refiner(t,n){for(let i of e)yield*i.refiner(t,n)}})}function literal(e){let t=print(e),n=typeof e;return new Struct({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${print(n)}`})}function map(e,t){return new Struct({type:"map",schema:null,*entries(n){if(e&&t&&n instanceof Map)for(let[i,s]of n.entries())yield[i,i,e],yield[i,s,t]},coercer:e=>e instanceof Map?new Map(e):e,validator:e=>e instanceof Map||`Expected a \`Map\` object, but received: ${print(e)}`})}function never(){return define("never",()=>!1)}function nullable(e){return new Struct({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function number(){return define("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${print(e)}`)}function object(e){let t=e?Object.keys(e):[],n=never();return new Struct({type:"object",schema:e||null,*entries(i){if(e&&isObject(i)){let s=new Set(Object.keys(i));for(let n of t)s.delete(n),yield[n,i[n],e[n]];for(let e of s)yield[e,i[e],n]}},validator:e=>isObject(e)||`Expected an object, but received: ${print(e)}`,coercer:e=>isObject(e)?{...e}:e})}function optional(e){return new Struct({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function record(e,t){return new Struct({type:"record",schema:null,*entries(n){if(isObject(n))for(let i in n){let s=n[i];yield[i,i,e],yield[i,s,t]}},validator:e=>isObject(e)||`Expected an object, but received: ${print(e)}`})}function regexp(){return define("regexp",e=>e instanceof RegExp)}function set(e){return new Struct({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(let n of t)yield[n,n,e]},coercer:e=>e instanceof Set?new Set(e):e,validator:e=>e instanceof Set||`Expected a \`Set\` object, but received: ${print(e)}`})}function string(){return define("string",e=>"string"==typeof e||`Expected a string, but received: ${print(e)}`)}function tuple(e){let t=never();return new Struct({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){let i=Math.max(e.length,n.length);for(let s=0;s<i;s++)yield[s,n[s],e[s]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${print(e)}`})}function type(e){let t=Object.keys(e);return new Struct({type:"type",schema:e,*entries(n){if(isObject(n))for(let i of t)yield[i,n[i],e[i]]},validator:e=>isObject(e)||`Expected an object, but received: ${print(e)}`,coercer:e=>isObject(e)?{...e}:e})}function union(e){let t=e.map(e=>e.type).join(" | ");return new Struct({type:"union",schema:null,coercer(t){for(let n of e){let[e,i]=n.validate(t,{coerce:!0});if(!e)return i}return t},validator(n,i){let s=[];for(let t of e){let[...e]=run(n,t,i),[o]=e;if(!o[0])return[];for(let[t]of e)t&&s.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${print(n)}`,...s]}})}function unknown(){return define("unknown",()=>!0)}function coerce(e,t,n){return new Struct({...e,coercer:(i,s)=>is(i,t)?e.coercer(n(i,s),s):e.coercer(i,s)})}function defaulted(e,t,n={}){return coerce(e,unknown(),e=>{let i="function"==typeof t?t():t;if(void 0===e)return i;if(!n.strict&&isPlainObject(e)&&isPlainObject(i)){let t={...e},n=!1;for(let e in i)void 0===t[e]&&(t[e]=i[e],n=!0);if(n)return t}return e})}function trimmed(e){return coerce(e,string(),e=>e.trim())}function empty(e){return refine(e,"empty",t=>{let n=getSize(t);return 0===n||`Expected an empty ${e.type} but received one with a size of \`${n}\``})}function getSize(e){return e instanceof Map||e instanceof Set?e.size:e.length}function max(e,t,n={}){let{exclusive:i}=n;return refine(e,"max",n=>i?n<t:n<=t||`Expected a ${e.type} less than ${i?"":"or equal to "}${t} but received \`${n}\``)}function min(e,t,n={}){let{exclusive:i}=n;return refine(e,"min",n=>i?n>t:n>=t||`Expected a ${e.type} greater than ${i?"":"or equal to "}${t} but received \`${n}\``)}function nonempty(e){return refine(e,"nonempty",t=>{let n=getSize(t);return n>0||`Expected a nonempty ${e.type} but received an empty one`})}function pattern(e,t){return refine(e,"pattern",n=>t.test(n)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${n}"`)}function size(e,t,n=t){let i=`Expected a ${e.type}`,s=t===n?`of \`${t}\``:`between \`${t}\` and \`${n}\``;return refine(e,"size",e=>{if("number"==typeof e||e instanceof Date)return t<=e&&e<=n||`${i} ${s} but received \`${e}\``;if(e instanceof Map||e instanceof Set){let{size:o}=e;return t<=o&&o<=n||`${i} with a size ${s} but received one with a size of \`${o}\``}{let{length:o}=e;return t<=o&&o<=n||`${i} with a length ${s} but received one with a length of \`${o}\``}})}function refine(e,t,n){return new Struct({...e,*refiner(i,s){yield*e.refiner(i,s);let o=n(i,s),a=toFailures(o,s,e,i);for(let e of a)yield{...e,refinement:t}}})}}}]);